<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>SimplifyIndvar</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">@nonymous_namespace</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class SimplifyIndvar</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#271C9C9A0252604A2863FCB033A1A593D8522854">SimplifyIndvar</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#555643A804AE5AC4289676C7E7E111C98F178821">hasChanged</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6096AE134482F625A6C029D80BC1A03844208AB9">runUnswitching</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#58546ADB239BA7FEE8414DFE1CD42413AFF2EF0B">simplifyUsers</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#BC7DAC86900523A8AEE280CF4C6F9CE0E8FAB862">pushIVUsers</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B56EAE9F5D6067CC85E35F3E267F489B9C8B0EBE">foldIVUser</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#88C6D0F09D5A5CE0E15BA4CF9C63A96C1324F18B">eliminateIdentitySCEV</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#8A9B91B27C7472A3B44A60248D2AA083E36C8F41">replaceIVUserWithLoopInvariant</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1E41696F495F0D4CC58DDFBAA41F7054E2D77CB8">replaceFloatIVWithIntegerIV</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D862F66E7489F6064E7FF36AB600372F63956113">eliminateOverflowIntrinsic</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#59808538170F31E81C5BAC02BC900601C8FD8658">eliminateSaturatingIntrinsic</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#17BE94114A47FF08CAFC649F22DB844CF9226BB2">eliminateTrunc</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C5F37467D83BA8C2E32CABE8F539D8F3F46E63CC">eliminateIVUser</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C71EB5846F6B3EF6CE7DD2646C2789491FC06833">makeIVComparisonInvariant</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B573BE467D90CF2B0DD547D1BFFAE9C0A3C9F871">eliminateIVComparison</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3F993DE927903FFFCDBA252A89BC4225AC3E93C5">simplifyIVRemainder</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5D2E88404883888AEB052B5E20E132C5CEA1D611">replaceRemWithNumerator</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D41B95E7241E506121C10AB3BB50C7523C826460">replaceRemWithNumeratorOrZero</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E7FC94E4712AB836E95D2763DE23F831434DDCFC">replaceSRemWithURem</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0641A4EA7FC05B5F22144202C54C6242E1BFA35E">eliminateSDiv</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5D08208154047D9462144FE5EC7E6BF735F8F2FF">strengthenBinaryOp</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FD45236ADD60E8D9D9E8E901BA561A2107723E20">strengthenOverflowingOperation</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#484C5E2ADEA722D160DF234EC0A6538812C058AD">strengthenRightShift</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class SimplifyIndvar</h1>
                        <p>Defined at line 55 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> This is a utility for simplifying induction variables</p>
                                <p> based on ScalarEvolution. It is the primary instrument of the</p>
                                <p> IndvarSimplify pass, but it may also be directly invoked to cleanup after</p>
                                <p> other loop passes that preserve SCEV.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="271C9C9A0252604A2863FCB033A1A593D8522854">
                                <pre><code class="language-cpp code-clang-doc">void SimplifyIndvar (Loop * Loop, ScalarEvolution * SE, DominatorTree * DT, LoopInfo * LI, const TargetTransformInfo * TTI, SCEVExpander &amp; Rewriter, SmallVectorImpl&lt;WeakTrackingVH&gt; &amp; Dead)</code></pre>
                                <p>Defined at line 68 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="555643A804AE5AC4289676C7E7E111C98F178821">
                                <pre><code class="language-cpp code-clang-doc">bool hasChanged ()</code></pre>
                                <p>Defined at line 77 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6096AE134482F625A6C029D80BC1A03844208AB9">
                                <pre><code class="language-cpp code-clang-doc">bool runUnswitching ()</code></pre>
                                <p>Defined at line 78 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="58546ADB239BA7FEE8414DFE1CD42413AFF2EF0B">
                                <pre><code class="language-cpp code-clang-doc">void simplifyUsers (PHINode * CurrIV, IVVisitor * V)</code></pre>
                                <div>
                                    <div>
                                        <p> Iteratively perform simplification on a worklist of users</p>
                                        <p> of the specified induction variable. Each successive simplification may push</p>
                                        <p> more users which may themselves be candidates for simplification.</p>
                                    </div>
                                    <div>
                                        <p> This algorithm does not require IVUsers analysis. Instead, it simplifies</p>
                                        <p> instructions in-place during analysis. Rather than rewriting induction</p>
                                        <p> variables bottom-up from their users, it transforms a chain of IVUsers</p>
                                        <p> top-down, updating the IR only when it encounters a clear optimization</p>
                                        <p> opportunity.</p>
                                    </div>
                                    <div>
                                        <p> Once DisableIVRewrite is default, LSR will be the only client of IVUsers.</p>
                                    </div>
                                </div>
                                <p>Defined at line 923 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="BC7DAC86900523A8AEE280CF4C6F9CE0E8FAB862">
                                <pre><code class="language-cpp code-clang-doc">void pushIVUsers (Instruction * Def, SmallPtrSet&lt;Instruction *, 16&gt; &amp; Simplified, SmallVectorImpl&lt;std::pair&lt;Instruction *, Instruction *&gt;&gt; &amp; SimpleIVUsers)</code></pre>
                                <div>
                                    <div>
                                        <p> Add all uses of Def to the current IV&#39;s worklist.</p>
                                    </div>
                                </div>
                                <p>Defined at line 864 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="B56EAE9F5D6067CC85E35F3E267F489B9C8B0EBE">
                                <pre><code class="language-cpp code-clang-doc">Value * foldIVUser (Instruction * UseInst, Instruction * IVOperand)</code></pre>
                                <div>
                                    <div>
                                        <p> Fold an IV operand into its use.  This removes increments of an</p>
                                        <p> aligned IV when used by a instruction that ignores the low bits.</p>
                                    </div>
                                    <div>
                                        <p> IVOperand is guaranteed SCEVable, but UseInst may not be.</p>
                                    </div>
                                    <div>
                                        <p> Return the operand of IVOperand for this induction variable if IVOperand can</p>
                                        <p> be folded (in case more folding opportunities have been exposed).</p>
                                        <p> Otherwise return null.</p>
                                    </div>
                                </div>
                                <p>Defined at line 136 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="88C6D0F09D5A5CE0E15BA4CF9C63A96C1324F18B">
                                <pre><code class="language-cpp code-clang-doc">bool eliminateIdentitySCEV (Instruction * UseInst, Instruction * IVOperand)</code></pre>
                                <div>
                                    <div>
                                        <p> Eliminate any operation that SCEV can prove is an identity function.</p>
                                    </div>
                                </div>
                                <p>Defined at line 751 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="8A9B91B27C7472A3B44A60248D2AA083E36C8F41">
                                <pre><code class="language-cpp code-clang-doc">bool replaceIVUserWithLoopInvariant (Instruction * UseInst)</code></pre>
                                <div>
                                    <div>
                                        <p> Replace the UseInst with a loop invariant expression if it is safe.</p>
                                    </div>
                                </div>
                                <p>Defined at line 649 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="1E41696F495F0D4CC58DDFBAA41F7054E2D77CB8">
                                <pre><code class="language-cpp code-clang-doc">bool replaceFloatIVWithIntegerIV (Instruction * UseInst)</code></pre>
                                <div>
                                    <div>
                                        <p> Eliminate redundant type cast between integer and float.</p>
                                    </div>
                                </div>
                                <p>Defined at line 694 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D862F66E7489F6064E7FF36AB600372F63956113">
                                <pre><code class="language-cpp code-clang-doc">bool eliminateOverflowIntrinsic (WithOverflowInst * WO)</code></pre>
                                <p>Defined at line 427 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="59808538170F31E81C5BAC02BC900601C8FD8658">
                                <pre><code class="language-cpp code-clang-doc">bool eliminateSaturatingIntrinsic (SaturatingInst * SI)</code></pre>
                                <p>Defined at line 469 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="17BE94114A47FF08CAFC649F22DB844CF9226BB2">
                                <pre><code class="language-cpp code-clang-doc">bool eliminateTrunc (TruncInst * TI)</code></pre>
                                <p>Defined at line 489 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="C5F37467D83BA8C2E32CABE8F539D8F3F46E63CC">
                                <pre><code class="language-cpp code-clang-doc">bool eliminateIVUser (Instruction * UseInst, Instruction * IVOperand)</code></pre>
                                <div>
                                    <div>
                                        <p> Eliminate an operation that consumes a simple IV and has no observable</p>
                                        <p> side-effect given the range of IV values.  IVOperand is guaranteed SCEVable,</p>
                                        <p> but UseInst may not be.</p>
                                    </div>
                                </div>
                                <p>Defined at line 606 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="C71EB5846F6B3EF6CE7DD2646C2789491FC06833">
                                <pre><code class="language-cpp code-clang-doc">bool makeIVComparisonInvariant (ICmpInst * ICmp, Instruction * IVOperand)</code></pre>
                                <p>Defined at line 204 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="B573BE467D90CF2B0DD547D1BFFAE9C0A3C9F871">
                                <pre><code class="language-cpp code-clang-doc">void eliminateIVComparison (ICmpInst * ICmp, Instruction * IVOperand)</code></pre>
                                <div>
                                    <div>
                                        <p> SimplifyIVUsers helper for eliminating useless</p>
                                        <p> comparisons against an induction variable.</p>
                                    </div>
                                </div>
                                <p>Defined at line 251 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3F993DE927903FFFCDBA252A89BC4225AC3E93C5">
                                <pre><code class="language-cpp code-clang-doc">void simplifyIVRemainder (BinaryOperator * Rem, Instruction * IVOperand, bool IsSigned)</code></pre>
                                <div>
                                    <div>
                                        <p> SimplifyIVUsers helper for eliminating useless remainder operations</p>
                                        <p> operating on an induction variable or replacing srem by urem.</p>
                                    </div>
                                </div>
                                <p>Defined at line 377 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5D2E88404883888AEB052B5E20E132C5CEA1D611">
                                <pre><code class="language-cpp code-clang-doc">void replaceRemWithNumerator (BinaryOperator * Rem)</code></pre>
                                <div>
                                    <div>
                                        <p> i % n  --&gt;  i  if i is in [0,n).</p>
                                    </div>
                                </div>
                                <p>Defined at line 351 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D41B95E7241E506121C10AB3BB50C7523C826460">
                                <pre><code class="language-cpp code-clang-doc">void replaceRemWithNumeratorOrZero (BinaryOperator * Rem)</code></pre>
                                <div>
                                    <div>
                                        <p> (i+1) % n  --&gt;  (i+1)==n?0:(i+1)  if i is in [0,n).</p>
                                    </div>
                                </div>
                                <p>Defined at line 360 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E7FC94E4712AB836E95D2763DE23F831434DDCFC">
                                <pre><code class="language-cpp code-clang-doc">void replaceSRemWithURem (BinaryOperator * Rem)</code></pre>
                                <div>
                                    <div>
                                        <p> i %s n -&gt; i %u n if i &gt;= 0 and n &gt;= 0</p>
                                    </div>
                                </div>
                                <p>Defined at line 338 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0641A4EA7FC05B5F22144202C54C6242E1BFA35E">
                                <pre><code class="language-cpp code-clang-doc">bool eliminateSDiv (BinaryOperator * SDiv)</code></pre>
                                <p>Defined at line 309 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5D08208154047D9462144FE5EC7E6BF735F8F2FF">
                                <pre><code class="language-cpp code-clang-doc">bool strengthenBinaryOp (BinaryOperator * BO, Instruction * IVOperand)</code></pre>
                                <p>Defined at line 806 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="FD45236ADD60E8D9D9E8E901BA561A2107723E20">
                                <pre><code class="language-cpp code-clang-doc">bool strengthenOverflowingOperation (BinaryOperator * OBO, Instruction * IVOperand)</code></pre>
                                <div>
                                    <div>
                                        <p> Annotate BO with nsw / nuw if it provably does not signed-overflow /</p>
                                        <p> unsigned-overflow.  Returns true if anything changed, false otherwise.</p>
                                    </div>
                                </div>
                                <p>Defined at line 815 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="484C5E2ADEA722D160DF234EC0A6538812C058AD">
                                <pre><code class="language-cpp code-clang-doc">bool strengthenRightShift (BinaryOperator * BO, Instruction * IVOperand)</code></pre>
                                <div>
                                    <div>
                                        <p> Annotate the Shr in (X </p>
                                        <p>&lt;</p>
                                        <p>&lt;</p>
                                        <p> IVOperand) &gt;&gt; C as exact using the</p>
                                        <p> information from the IV&#39;s range. Returns true if anything changed, false</p>
                                        <p> otherwise.</p>
                                    </div>
                                </div>
                                <p>Defined at line 839 of file llvm/lib/Transforms/Utils/SimplifyIndVar.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>LowerMatrixIntrinsics</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">@nonymous_namespace</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class LowerMatrixIntrinsics</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C290F6B6F0AB555B469687815E89BF2BEF579661">LowerMatrixIntrinsics</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CA13321C9CC633569323B829A61204E29FA911A8">getNumOps</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#219E2AC236811589196318FBC9A0D3EBDD1003C5">isMinimal</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#931AE424EE37E2B993E04B022D057814FCDA6C73">getNumOps</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#976B88887371ADAA835887E98EE5B584A2707A42">getMatrix</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A8195207B56A70766635009EE357949C33A0B399">setShapeInfo</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#797016F27170DDD9903A30922ECCB6F637CD3077">supportsShapeInfo</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#16D7AD3F5361F65BAA0985E30FD5B8010B5CA2B0">propagateShapeForward</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#33049322DDEB00518F16C30B75E511B5AE3B06F5">propagateShapeBackward</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F441C2114A2B565DC2C656BCBEB4A6C494B9A469">distributeTransposes</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#60F9C9EF11E9B23E89462E5252581F7F90D16057">eraseFromParentAndRemoveFromShapeMap</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2DC417BF56688EEC924A323FD2C4296E6A3E69E5">eraseFromParentAndMove</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F5BEED1DA00BABEFE2750DB7D7C57433D76EE88E">updateShapeAndReplaceAllUsesWith</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#8C1FC174091933435C53A731EF995F0D5C290CD4">sinkTranspose</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#17C013D2FDD79DDC55FCC4CAB34E6A6004F11250">liftTranspose</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#AFAFFE0FA015536FD8D4D766F361A616B4768BBC">optimizeTransposes</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5B49D0319532F3FF8994DE9341575691DDE92FA3">Visit</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0499ACE4B8393E8F87102B7F7ED48E8D6BFC2302">VisitIntrinsicInst</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2C196C44E96E7A8A2636A5C319B92F9EDDEC3D77">getAlignForIndex</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7E0F051EA7A12EE0CF12AE3F7545E9A6691775D8">getIndexType</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2F75435ED427C17E4F812BCEDF79A361E0C98F64">getIndex</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3D70ABDD873CDF517C911B51AB2472E1E4CD147D">castToIndexType</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7D424B707429F4B5046E3BDD90374CEB4EE26DE5">loadMatrix</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#78B7A5F6617A0708F47FF08A7559D1CFD11356CA">loadMatrix</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#76007BBFFCEFAFEDDEFE8DEBAA715D93DB09064E">LowerLoad</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2DFEC1640213612B29621B512A7B06818AFB0183">LowerColumnMajorLoad</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#05D627F2883875B3295E667248365D4B1C75ECAA">storeMatrix</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#98434149CC18B0A17778AFF64820BF630DF3611E">storeMatrix</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B1F4ECE9C40A9CE02760E8EE0DE0E03DF2B3CE1F">LowerStore</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#11934318D85C83AE5E7DDF60F0CA60393EF856CC">LowerColumnMajorStore</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B2883EFC2646AB753CD57A09DD1C5A7AAB39B15F">insertVector</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#662BCEF2880DA7D65FBDF345495F81BA799739EE">createMulAdd</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6233EF4758F2DAF0CEFA005722B033B291828FE3">finalizeLowering</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#987C3BE0676CF33BA0988C69ACB3146C49929E7C">lowerDotProduct</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B7B9234EF315B1D7BB580CF72E85655DD9F57FB4">capBlockSize</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#04B14CE831414F0A579ADB113BA27F90D59CC3DC">emitMatrixMultiply</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#19785D385CEBBAE883870953D83BBADC6925951C">getNonAliasingPointer</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#36B79B45932B650F64AB53253B6AB0EC7DF79D68">isFusionProfitable</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#4E2420B3741FAF092BFC66243B8E1D3E3A725982">getZeroMatrix</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#25A2FAA71A5CED7B4CE0FBF5B6C52E4229C70A4D">createTiledLoops</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#65D4CAF76BD82959C6EF66FCD802785409AB7FD9">emitSIMDTiling</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0023A5287AC7D5D7317D37EA20F4BEFEB4745D74">LowerMatrixMultiplyFused</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5C88B64F0C984E1B593E90DFD48446E53BAE92F0">LowerMultiply</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#01F119A1CE6AE1000D3B7D8BE11935B9EF7D5A0A">LowerTranspose</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3B7B8F28E340ADE2CB5294B8B16AB31A033B18F8">VisitLoad</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3D958941A610600D5E97FE69624A1A6FBB9BD226">VisitStore</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E6279E1BB61437C816D60B750DAF9DF6BA2B0DF5">VisitPHI</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#830AFFC4D5770372262D3D04BB3D4F8A10602023">VisitBinaryOperator</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#565C5AF3CBE8086EE6E249F38E3C6425F87A9F4C">VisitUnaryOperator</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E647AB608BA4422A756F146892A51B755D4F1FF2">VisitCastInstruction</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E8C17367D2FF736475F19AD59E3CABC4C481A730">VisitSelectInst</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class LowerMatrixIntrinsics</h1>
                        <p>Defined at line 382 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> LowerMatrixIntrinsics contains the methods used to lower matrix intrinsics.</p>
                            </div>
                            <div>
                                <p> Currently, the lowering for each matrix intrinsic is done as follows:</p>
                                <p> 1. Propagate the shape information from intrinsics to connected</p>
                                <p> instructions.</p>
                                <p> 2. Lower instructions with shape information (assuming column-major layout).</p>
                                <p>  The lowering works similarly using row-major layout.</p>
                                <p>  2.1. Get column vectors for each argument. If we already lowered the</p>
                                <p>       definition of an argument, use the produced column vectors directly.</p>
                                <p>       If not, split the operand vector containing an embedded matrix into</p>
                                <p>       a set of column vectors,</p>
                                <p>  2.2. Lower the instruction in terms of column major operations, which</p>
                                <p>       yields a set of column vectors containing result matrix. Note that we</p>
                                <p>       lower all instructions that have shape information. Besides the</p>
                                <p>       intrinsics, this includes stores for example.</p>
                                <p>  2.3. Update uses of the lowered instruction. If we have shape information</p>
                                <p>       for a user, there is nothing to do, as we will look up the result</p>
                                <p>       column matrix when lowering the user. For other uses, we embed the</p>
                                <p>       result matrix in a flat vector and update the use.</p>
                                <p>  2.4. Cache the result column matrix for the instruction we lowered</p>
                                <p> 3. After we lowered all instructions in a function, remove the now</p>
                                <p>    obsolete instructions.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="C290F6B6F0AB555B469687815E89BF2BEF579661">
                                <pre><code class="language-cpp code-clang-doc">void LowerMatrixIntrinsics (Function &amp; F, TargetTransformInfo &amp; TTI, FunctionAnalysisManager * AM)</code></pre>
                                <p>Defined at line 591 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CA13321C9CC633569323B829A61204E29FA911A8">
                                <pre><code class="language-cpp code-clang-doc">unsigned int getNumOps (Type * VT)</code></pre>
                                <p>Defined at line 595 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="219E2AC236811589196318FBC9A0D3EBDD1003C5">
                                <pre><code class="language-cpp code-clang-doc">bool isMinimal ()</code></pre>
                                <div>
                                    <div>
                                        <p> Is this the minimal version executed in the backend pipelines.</p>
                                    </div>
                                </div>
                                <p>Defined at line 602 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="931AE424EE37E2B993E04B022D057814FCDA6C73">
                                <pre><code class="language-cpp code-clang-doc">unsigned int getNumOps (Type * ST, unsigned int N)</code></pre>
                                <div>
                                    <div>
                                        <p> Return the estimated number of vector ops required for an operation on</p>
                                        <p> * N.</p>
                                    </div>
                                </div>
                                <p>Defined at line 608 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="976B88887371ADAA835887E98EE5B584A2707A42">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy getMatrix (Value * MatrixVal, const ShapeInfo &amp; SI, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Return the set of vectors that a matrix value is lowered to.</p>
                                    </div>
                                    <div>
                                        <p> If we lowered </p>
                                        <p> just return the cache result matrix. Otherwise</p>
                                        <p> split the flat vector </p>
                                        <p> containing a matrix with shape </p>
                                        <p> into vectors.</p>
                                    </div>
                                </div>
                                <p>Defined at line 620 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A8195207B56A70766635009EE357949C33A0B399">
                                <pre><code class="language-cpp code-clang-doc">bool setShapeInfo (Value * V, ShapeInfo Shape)</code></pre>
                                <div>
                                    <div>
                                        <p> If </p>
                                        <p> already has a known shape return false.  Otherwise set the shape</p>
                                        <p> for instructions that support it.</p>
                                    </div>
                                </div>
                                <p>Defined at line 681 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="797016F27170DDD9903A30922ECCB6F637CD3077">
                                <pre><code class="language-cpp code-clang-doc">bool supportsShapeInfo (Value * V)</code></pre>
                                <div>
                                    <div>
                                        <p> Returns true if shape information can be used for </p>
                                        <p> The supported</p>
                                        <p> instructions must match the instructions that can be lowered by this pass.</p>
                                    </div>
                                </div>
                                <p>Defined at line 711 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="16D7AD3F5361F65BAA0985E30FD5B8010B5CA2B0">
                                <pre><code class="language-cpp code-clang-doc">SmallVector propagateShapeForward (SmallVectorImpl&lt;Instruction *&gt; &amp; WorkList)</code></pre>
                                <div>
                                    <div>
                                        <p> Propagate the shape information of instructions to their users.</p>
                                        <p> The work list contains instructions for which we can compute the shape,</p>
                                        <p> either based on the information provided by matrix intrinsics or known</p>
                                        <p> shapes of operands.</p>
                                    </div>
                                </div>
                                <p>Defined at line 734 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="33049322DDEB00518F16C30B75E511B5AE3B06F5">
                                <pre><code class="language-cpp code-clang-doc">SmallVector propagateShapeBackward (SmallVectorImpl&lt;Instruction *&gt; &amp; WorkList)</code></pre>
                                <div>
                                    <div>
                                        <p> Propagate the shape to operands of instructions with shape information.</p>
                                        <p> contains the instruction for which we already know the shape.</p>
                                    </div>
                                </div>
                                <p>Defined at line 762 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F441C2114A2B565DC2C656BCBEB4A6C494B9A469">
                                <pre><code class="language-cpp code-clang-doc">Instruction * distributeTransposes (Value * Op0, ShapeInfo Shape0, Value * Op1, ShapeInfo Shape1, MatrixBuilder &amp; Builder, function_ref Operation)</code></pre>
                                <div>
                                    <div>
                                        <p> (Op0 op Op1)^T -&gt; Op0^T op Op1^T</p>
                                        <p> Transpose </p>
                                        <p> and </p>
                                        <p> of shape </p>
                                        <p> and </p>
                                        <p> then use</p>
                                        <p> them on both sides of </p>
                                    </div>
                                </div>
                                <p>Defined at line 837 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="60F9C9EF11E9B23E89462E5252581F7F90D16057">
                                <pre><code class="language-cpp code-clang-doc">void eraseFromParentAndRemoveFromShapeMap (Instruction * Inst)</code></pre>
                                <div>
                                    <div>
                                        <p> Erase </p>
                                        <p> from both ShapeMap (if an entry exists) and erase </p>
                                        <p> itself.</p>
                                    </div>
                                </div>
                                <p>Defined at line 855 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2DC417BF56688EEC924A323FD2C4296E6A3E69E5">
                                <pre><code class="language-cpp code-clang-doc">void eraseFromParentAndMove (Value * V, BasicBlock::reverse_iterator &amp; II, BasicBlock &amp; BB)</code></pre>
                                <div>
                                    <div>
                                        <p> Erase </p>
                                        <p> from </p>
                                        <p> and move </p>
                                        <p> forward to avoid invalidating</p>
                                        <p> iterators.</p>
                                    </div>
                                </div>
                                <p>Defined at line 862 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F5BEED1DA00BABEFE2750DB7D7C57433D76EE88E">
                                <pre><code class="language-cpp code-clang-doc">void updateShapeAndReplaceAllUsesWith (Instruction &amp; Old, Value * New)</code></pre>
                                <div>
                                    <div>
                                        <p> Add a new entry to ShapeMap for </p>
                                        <p> with </p>
                                        <p> shape info, erase the</p>
                                        <p> entry for </p>
                                        <p> and replace all uses of </p>
                                        <p> with </p>
                                    </div>
                                </div>
                                <p>Defined at line 875 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="8C1FC174091933435C53A731EF995F0D5C290CD4">
                                <pre><code class="language-cpp code-clang-doc">Instruction * sinkTranspose (Instruction &amp; I, BasicBlock::reverse_iterator &amp; II, bool &amp; Changed)</code></pre>
                                <div>
                                    <div>
                                        <p> Sink a top-level transpose inside matmuls and adds.</p>
                                        <p> This creates and erases instructions as needed, and returns the newly</p>
                                        <p> created instruction while updating the iterator to avoid invalidation. If</p>
                                        <p> this returns nullptr, no new instruction was created.</p>
                                    </div>
                                </div>
                                <p>Defined at line 892 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="17C013D2FDD79DDC55FCC4CAB34E6A6004F11250">
                                <pre><code class="language-cpp code-clang-doc">bool liftTranspose (Instruction &amp; I)</code></pre>
                                <p>Defined at line 993 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="AFAFFE0FA015536FD8D4D766F361A616B4768BBC">
                                <pre><code class="language-cpp code-clang-doc">bool optimizeTransposes ()</code></pre>
                                <div>
                                    <div>
                                        <p> Try moving transposes in order to fold them away or into multiplies.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1054 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5B49D0319532F3FF8994DE9341575691DDE92FA3">
                                <pre><code class="language-cpp code-clang-doc">bool Visit ()</code></pre>
                                <p>Defined at line 1078 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0499ACE4B8393E8F87102B7F7ED48E8D6BFC2302">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy VisitIntrinsicInst (IntrinsicInst * Inst, const ShapeInfo &amp; SI, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Replace intrinsic calls.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1250 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2C196C44E96E7A8A2636A5C319B92F9EDDEC3D77">
                                <pre><code class="language-cpp code-clang-doc">Align getAlignForIndex (unsigned int Idx, Value * Stride, Type * ElementTy, MaybeAlign A)</code></pre>
                                <div>
                                    <div>
                                        <p> Compute the alignment for a column/row </p>
                                        <p> with </p>
                                        <p> between them.</p>
                                        <p> The address at </p>
                                        <p> == 0 has alignment </p>
                                        <p> If </p>
                                        <p> is a</p>
                                        <p> ConstantInt, reduce the initial alignment based on the byte offset. For</p>
                                        <p> non-ConstantInt strides, return the common alignment of the initial</p>
                                        <p> alignment and the element size in bytes.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1300 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="7E0F051EA7A12EE0CF12AE3F7545E9A6691775D8">
                                <pre><code class="language-cpp code-clang-doc">IntegerType * getIndexType (Value * Ptr)</code></pre>
                                <p>Defined at line 1315 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2F75435ED427C17E4F812BCEDF79A361E0C98F64">
                                <pre><code class="language-cpp code-clang-doc">Value * getIndex (Value * Ptr, uint64_t V)</code></pre>
                                <p>Defined at line 1319 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3D70ABDD873CDF517C911B51AB2472E1E4CD147D">
                                <pre><code class="language-cpp code-clang-doc">Value * castToIndexType (Value * Ptr, Value * V, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <p>Defined at line 1323 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="7D424B707429F4B5046E3BDD90374CEB4EE26DE5">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy loadMatrix (Type * Ty, Value * Ptr, MaybeAlign MAlign, Value * Stride, bool IsVolatile, ShapeInfo Shape, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Load a matrix with </p>
                                        <p> starting at </p>
                                        <p> and using </p>
                                        <p> between</p>
                                        <p> vectors.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1335 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="78B7A5F6617A0708F47FF08A7559D1CFD11356CA">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy loadMatrix (Value * MatrixPtr, MaybeAlign Align, bool IsVolatile, ShapeInfo MatrixShape, Value * I, Value * J, ShapeInfo ResultShape, Type * EltTy, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Loads a sub-matrix with shape </p>
                                        <p> from a </p>
                                        <p> x </p>
                                        <p> matrix,</p>
                                        <p> starting at </p>
                                    </div>
                                </div>
                                <p>Defined at line 1359 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="76007BBFFCEFAFEDDEFE8DEBAA715D93DB09064E">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy LowerLoad (Instruction * Inst, Value * Ptr, MaybeAlign Align, Value * Stride, bool IsVolatile, ShapeInfo Shape, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lower a load instruction with shape information.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1376 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2DFEC1640213612B29621B512A7B06818AFB0183">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy LowerColumnMajorLoad (CallInst * Inst, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lowers llvm.matrix.column.major.load.</p>
                                    </div>
                                    <div>
                                        <p> The intrinsic loads a matrix from memory using a stride between columns.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1386 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="05D627F2883875B3295E667248365D4B1C75ECAA">
                                <pre><code class="language-cpp code-clang-doc">void storeMatrix (const MatrixTy &amp; StoreVal, Value * MatrixPtr, MaybeAlign MAlign, bool IsVolatile, ShapeInfo MatrixShape, Value * I, Value * J, Type * EltTy, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Stores a sub-matrix </p>
                                        <p> into the </p>
                                        <p> x </p>
                                        <p> matrix starting at </p>
                                    </div>
                                </div>
                                <p>Defined at line 1398 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="98434149CC18B0A17778AFF64820BF630DF3611E">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy storeMatrix (Type * Ty, MatrixTy StoreVal, Value * Ptr, MaybeAlign MAlign, Value * Stride, bool IsVolatile, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Store matrix </p>
                                        <p> starting at </p>
                                        <p> and using </p>
                                        <p> between</p>
                                        <p> vectors.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1415 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="B1F4ECE9C40A9CE02760E8EE0DE0E03DF2B3CE1F">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy LowerStore (Instruction * Inst, Value * Matrix, Value * Ptr, MaybeAlign A, Value * Stride, bool IsVolatile, ShapeInfo Shape, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lower a store instruction with shape information.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1438 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="11934318D85C83AE5E7DDF60F0CA60393EF856CC">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy LowerColumnMajorStore (CallInst * Inst, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lowers llvm.matrix.column.major.store.</p>
                                    </div>
                                    <div>
                                        <p> The intrinsic store a matrix back memory using a stride between columns.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1449 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="B2883EFC2646AB753CD57A09DD1C5A7AAB39B15F">
                                <pre><code class="language-cpp code-clang-doc">Value * insertVector (Value * Col, unsigned int I, Value * Block, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Set elements I..I+NumElts-1 to Block</p>
                                    </div>
                                </div>
                                <p>Defined at line 1462 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="662BCEF2880DA7D65FBDF345495F81BA799739EE">
                                <pre><code class="language-cpp code-clang-doc">Value * createMulAdd (Value * Sum, Value * A, Value * B, bool UseFPOp, IRBuilder&lt;&gt; &amp; Builder, bool AllowContraction, unsigned int &amp; NumComputeOps)</code></pre>
                                <p>Defined at line 1492 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6233EF4758F2DAF0CEFA005722B033B291828FE3">
                                <pre><code class="language-cpp code-clang-doc">void finalizeLowering (Instruction * Inst, MatrixTy Matrix, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Cache </p>
                                        <p> as result of </p>
                                        <p> and update the uses of </p>
                                        <p> For</p>
                                        <p> users with shape information, there&#39;s nothing to do: they will use the</p>
                                        <p> cached value when they are lowered. For other users, </p>
                                        <p> is</p>
                                        <p> flattened and the uses are updated to use it. Also marks </p>
                                        <p> for</p>
                                        <p> deletion.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1521 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="987C3BE0676CF33BA0988C69ACB3146C49929E7C">
                                <pre><code class="language-cpp code-clang-doc">void lowerDotProduct (CallInst * MatMul, SmallPtrSet&lt;Instruction *, 16&gt; &amp; FusedInsts, FastMathFlags FMF)</code></pre>
                                <div>
                                    <div>
                                        <p> Special case for MatMul lowering. Prevents scalar loads of row-major</p>
                                        <p> vectors Lowers to vector reduction add instead of sequential add if</p>
                                        <p> reassocation is enabled.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1552 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="B7B9234EF315B1D7BB580CF72E85655DD9F57FB4">
                                <pre><code class="language-cpp code-clang-doc">unsigned int capBlockSize (unsigned int BlockSize, unsigned int Remainder, Type * EltType)</code></pre>
                                <div>
                                    <div>
                                        <p> Given </p>
                                        <p> iterations of the the matmul inner loop,</p>
                                        <p> potentially lower </p>
                                        <p> that is used for the underlying</p>
                                        <p> vector.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1742 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="04B14CE831414F0A579ADB113BA27F90D59CC3DC">
                                <pre><code class="language-cpp code-clang-doc">void emitMatrixMultiply (MatrixTy &amp; Result, const MatrixTy &amp; A, const MatrixTy &amp; B, IRBuilder&lt;&gt; &amp; Builder, bool IsTiled, bool IsScalarMatrixTransposed, FastMathFlags FMF)</code></pre>
                                <div>
                                    <div>
                                        <p> Compute </p>
                                        <p> += </p>
                                        <p> * </p>
                                        <p> for input matrices with left-associating</p>
                                        <p> addition.</p>
                                    </div>
                                    <div>
                                        <p> We can fold a transpose into the operand that is used to extract scalars.</p>
                                        <p> This is the first operands with row-major and the second with</p>
                                        <p> column-major.  If </p>
                                        <p> we assume the appropriate</p>
                                        <p> operand is transposed.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1771 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="19785D385CEBBAE883870953D83BBADC6925951C">
                                <pre><code class="language-cpp code-clang-doc">Value * getNonAliasingPointer (LoadInst * Load, StoreInst * Store, CallInst * MatMul)</code></pre>
                                <div>
                                    <div>
                                        <p> Ensure that the memory in </p>
                                        <p> does not alias </p>
                                        <p> by potentially</p>
                                        <p> copying it to a new location.  This new or otherwise the original location</p>
                                        <p> is returned.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1852 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="36B79B45932B650F64AB53253B6AB0EC7DF79D68">
                                <pre><code class="language-cpp code-clang-doc">bool isFusionProfitable (CallInst * MatMul)</code></pre>
                                <p>Defined at line 1937 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="4E2420B3741FAF092BFC66243B8E1D3E3A725982">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy getZeroMatrix (Type * EltType, unsigned int R, unsigned int C)</code></pre>
                                <p>Defined at line 1973 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="25A2FAA71A5CED7B4CE0FBF5B6C52E4229C70A4D">
                                <pre><code class="language-cpp code-clang-doc">void createTiledLoops (CallInst * MatMul, Value * LPtr, ShapeInfo LShape, Value * RPtr, ShapeInfo RShape, StoreInst * Store)</code></pre>
                                <p>Defined at line 1981 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="65D4CAF76BD82959C6EF66FCD802785409AB7FD9">
                                <pre><code class="language-cpp code-clang-doc">void emitSIMDTiling (CallInst * MatMul, LoadInst * LoadOp0, LoadInst * LoadOp1, StoreInst * Store, SmallPtrSetImpl&lt;Instruction *&gt; &amp; FusedInsts)</code></pre>
                                <p>Defined at line 2040 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0023A5287AC7D5D7317D37EA20F4BEFEB4745D74">
                                <pre><code class="language-cpp code-clang-doc">void LowerMatrixMultiplyFused (CallInst * MatMul, SmallPtrSetImpl&lt;Instruction *&gt; &amp; FusedInsts, SmallVector&lt;IntrinsicInst *, 16&gt; &amp; LifetimeEnds)</code></pre>
                                <div>
                                    <div>
                                        <p> Try to lower matrix multiply chains by fusing operations.</p>
                                    </div>
                                    <div>
                                        <p> Call finalizeLowering on lowered instructions.  Instructions that are</p>
                                        <p> completely eliminated by fusion are added to </p>
                                    </div>
                                </div>
                                <p>Defined at line 2107 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5C88B64F0C984E1B593E90DFD48446E53BAE92F0">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy LowerMultiply (CallInst * MatMul, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lowers llvm.matrix.multiply.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2255 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="01F119A1CE6AE1000D3B7D8BE11935B9EF7D5A0A">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy LowerTranspose (CallInst * Inst, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lowers llvm.matrix.transpose.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2280 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3B7B8F28E340ADE2CB5294B8B16AB31A033B18F8">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy VisitLoad (LoadInst * Inst, const ShapeInfo &amp; SI, Value * Ptr, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lower load instructions.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2314 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3D958941A610600D5E97FE69624A1A6FBB9BD226">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy VisitStore (StoreInst * Inst, const ShapeInfo &amp; SI, Value * StoredVal, Value * Ptr, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <p>Defined at line 2320 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E6279E1BB61437C816D60B750DAF9DF6BA2B0DF5">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy VisitPHI (PHINode * Inst, const ShapeInfo &amp; SI, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <p>Defined at line 2327 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="830AFFC4D5770372262D3D04BB3D4F8A10602023">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy VisitBinaryOperator (BinaryOperator * Inst, const ShapeInfo &amp; SI, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lower binary operators.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2357 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="565C5AF3CBE8086EE6E249F38E3C6425F87A9F4C">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy VisitUnaryOperator (UnaryOperator * Inst, const ShapeInfo &amp; SI, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lower unary operators.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2379 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E647AB608BA4422A756F146892A51B755D4F1FF2">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy VisitCastInstruction (CastInst * Inst, const ShapeInfo &amp; Shape, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lower cast instructions.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2406 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E8C17367D2FF736475F19AD59E3CABC4C481A730">
                                <pre><code class="language-cpp code-clang-doc">MatrixTy VisitSelectInst (SelectInst * Inst, const ShapeInfo &amp; Shape, IRBuilder&lt;&gt; &amp; Builder)</code></pre>
                                <div>
                                    <div>
                                        <p> Lower selects.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2427 of file llvm/lib/Transforms/Scalar/LowerMatrixIntrinsics.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

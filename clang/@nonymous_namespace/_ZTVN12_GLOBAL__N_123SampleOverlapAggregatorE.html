<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>SampleOverlapAggregator</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">@nonymous_namespace</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class SampleOverlapAggregator</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FE3A37F718C2F2EE0D80079FFF9F843652A9600F">SampleOverlapAggregator</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7109D768D5F774B1603EF9A602DFA83E94A4833F">detectZeroSampleProfile</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D5CDAC1237909091ED0DBE4FDAEEE1EF2F56C079">dumpFuncSimilarity</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#48FC7BC59E73141BC46C02CF481F41C1B5A2FD49">dumpProgramSummary</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CC8C9BB5CE76B200E17DC1986AD95ADFB54053F5">dumpHotFuncAndBlockOverlap</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#436005E0312C19BC5039A65F1FC41D35574CBC38">computeSampleProfileOverlap</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#44078AD3FCC4CFDAEFF7E6DD8A62C5421080BA7A">initializeSampleProfileOverlap</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#9173D5CD641B0EDB4A658BEDC4F5CD13293F9A53">loadProfiles</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class SampleOverlapAggregator</h1>
                        <p>Defined at line 1999 of file llvm/tools/llvm-profdata/llvm-profdata.cpp</p>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="FE3A37F718C2F2EE0D80079FFF9F843652A9600F">
                                <pre><code class="language-cpp code-clang-doc">void SampleOverlapAggregator (const std::string &amp; BaseFilename, const std::string &amp; TestFilename, double LowSimilarityThreshold, double Epsilon, const OverlapFuncFilters &amp; FuncFilter)</code></pre>
                                <p>Defined at line 2001 of file llvm/tools/llvm-profdata/llvm-profdata.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="7109D768D5F774B1603EF9A602DFA83E94A4833F">
                                <pre><code class="language-cpp code-clang-doc">bool detectZeroSampleProfile (raw_fd_ostream &amp; OS)</code></pre>
                                <div>
                                    <div>
                                        <p> Detect 0-sample input profile and report to output stream. This interface</p>
                                        <p> should be called after loadProfiles().</p>
                                    </div>
                                </div>
                                <p>Defined at line 2164 of file llvm/tools/llvm-profdata/llvm-profdata.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D5CDAC1237909091ED0DBE4FDAEEE1EF2F56C079">
                                <pre><code class="language-cpp code-clang-doc">void dumpFuncSimilarity (raw_fd_ostream &amp; OS)</code></pre>
                                <div>
                                    <div>
                                        <p> Write out function-level similarity statistics for functions specified by</p>
                                        <p> options --function, --value-cutoff, and --similarity-cutoff.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2578 of file llvm/tools/llvm-profdata/llvm-profdata.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="48FC7BC59E73141BC46C02CF481F41C1B5A2FD49">
                                <pre><code class="language-cpp code-clang-doc">void dumpProgramSummary (raw_fd_ostream &amp; OS)</code></pre>
                                <div>
                                    <div>
                                        <p> Write out program-level similarity and overlap statistics.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2639 of file llvm/tools/llvm-profdata/llvm-profdata.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CC8C9BB5CE76B200E17DC1986AD95ADFB54053F5">
                                <pre><code class="language-cpp code-clang-doc">void dumpHotFuncAndBlockOverlap (raw_fd_ostream &amp; OS)</code></pre>
                                <div>
                                    <div>
                                        <p> Write out hot-function and hot-block statistics for base_profile,</p>
                                        <p> test_profile, and their overlap. For both cases, the overlap HO is</p>
                                        <p> calculated as follows:</p>
                                        <p>    Given the number of functions (or blocks) that are hot in both profiles</p>
                                        <p>    HCommon and the number of functions (or blocks) that are hot in at</p>
                                        <p>    least one profile HUnion, HO = HCommon / HUnion.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2683 of file llvm/tools/llvm-profdata/llvm-profdata.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="436005E0312C19BC5039A65F1FC41D35574CBC38">
                                <pre><code class="language-cpp code-clang-doc">void computeSampleProfileOverlap (raw_fd_ostream &amp; OS)</code></pre>
                                <div>
                                    <div>
                                        <p> This function tries matching functions in base and test profiles. For each</p>
                                        <p> pair of matched functions, it aggregates the function-level</p>
                                        <p> similarity into a profile-level similarity. It also dump function-level</p>
                                        <p> similarity information of functions specified by --function,</p>
                                        <p> --value-cutoff, and --similarity-cutoff options. The program-level</p>
                                        <p> similarity PS is computed as follows:</p>
                                        <p>     Given function-level similarity FS(A) for all function A, the</p>
                                        <p>     weight of function A in base profile WB(A), and the weight of function</p>
                                        <p>     A in test profile WT(A), compute PS(base_profile, test_profile) =</p>
                                        <p>     sum_A(FS(A) * avg(WB(A), WT(A))) ranging in [0.0f to 1.0f] with 0.0</p>
                                        <p>     meaning no-overlap.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2436 of file llvm/tools/llvm-profdata/llvm-profdata.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="44078AD3FCC4CFDAEFF7E6DD8A62C5421080BA7A">
                                <pre><code class="language-cpp code-clang-doc">void initializeSampleProfileOverlap ()</code></pre>
                                <div>
                                    <div>
                                        <p> Initialize ProfOverlap with the sum of samples in base and test</p>
                                        <p> profiles. This function also computes and keeps the sum of samples and</p>
                                        <p> max sample counts of each function in BaseStats and TestStats for later</p>
                                        <p> use to avoid re-computations.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2555 of file llvm/tools/llvm-profdata/llvm-profdata.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="9173D5CD641B0EDB4A658BEDC4F5CD13293F9A53">
                                <pre><code class="language-cpp code-clang-doc">error_code loadProfiles ()</code></pre>
                                <div>
                                    <div>
                                        <p> Load profiles specified by BaseFilename and TestFilename.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2710 of file llvm/tools/llvm-profdata/llvm-profdata.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

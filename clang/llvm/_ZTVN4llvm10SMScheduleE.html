<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>SMSchedule</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">llvm</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class SMSchedule</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#50A25EF3C3D6EE2532D94DB1E5D1B8ABF2D2EE61">SMSchedule</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#896847E1FA81322479AD37E3E3072E60B8D1DC8B">reset</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#78361F81955A8DC095C4A52BA1246236C1773415">setInitiationInterval</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#8358521157B5EEB7506DD6E5DA6F2E1EC3843FC9">getInitiationInterval</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C6A9E2D213077C3E29E0CA1E53892F126E659007">getFirstCycle</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CC6E5878BC27C8BC46C2AE6BEF03365A3C7EA271">getFinalCycle</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#05932D48462EF89430B8F094D5A894649E449871">isScheduledAtStage</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#40417B6ECD3E5ED2869AE5CE48896A09E20E9F0D">stageScheduled</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#DF7C1A9069C394BF5A69FC1A6B562DAAE5A44C87">cycleScheduled</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2CB13479B074432C83C6FC7CAC601F617EFB9E91">getMaxStageCount</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2D1A76365626D1D73487ED77DB03156663FF345C">getInstructions</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#DF3956F4A506E473A69E53C709BDC43FA99DC848">earliestCycleInChain</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0F8C36A9B0695E882B14A98D33561A66B7ED7941">latestCycleInChain</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6B4254F7E3F54F3C7D1795C32B43DB16E15B306D">computeStart</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#23476BB147222EE98090FA4BB9DF96F6CA3A4CEB">insert</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D8BFD58D306C41CAD1AEB3D7111224D9BD4BFB6D">computeUnpipelineableNodes</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A122278BCFF5C695924E54F3051EF92CE11A0305">reorderInstructions</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F8EDFAA89376B59D5DEC30985003F9A2D9854BD7">normalizeNonPipelinedInstructions</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A9EA8A1DCDAD7B483BFFDC544E59E998E61AD695">isValidSchedule</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#16568CC1A8952225640B9C16ABB88E3CDC48137D">finalizeSchedule</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6A9B3FE6E4E1F5EFB75CF9A33FB9652AE7B669AB">orderDependence</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A8972B7511D7BCB4A8068FC111247CBA88BD9BE1">isLoopCarried</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5F15C5E6D66DA48E5F3905526C8D90B75DE7961F">isLoopCarriedDefOfUse</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6D155F0F3AE47316632E7BE0C91D2ACC8C0B5B11">onlyHasLoopCarriedOutputOrOrderPreds</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F24829215BFCA3321AE6D751CF09E102E65351FD">print</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1172055913B3B1AC0392958A3589769B86A7C409">dump</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class SMSchedule</h1>
                        <p>Defined at line 727 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> This class represents the scheduled code.  The main data structure is a</p>
                                <p> map from scheduled cycle to instructions.  During scheduling, the</p>
                                <p> data structure explicitly represents all stages/iterations.   When</p>
                                <p> the algorithm finshes, the schedule is collapsed into a single stage,</p>
                                <p> which represents instructions from different loop iterations.</p>
                            </div>
                            <div>
                                <p> The SMS algorithm allows negative values for cycles, so the first cycle</p>
                                <p> in the schedule is the smallest cycle value.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="50A25EF3C3D6EE2532D94DB1E5D1B8ABF2D2EE61">
                                <pre><code class="language-cpp code-clang-doc">void SMSchedule (MachineFunction * mf, SwingSchedulerDAG * DAG)</code></pre>
                                <p>Defined at line 754 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="896847E1FA81322479AD37E3E3072E60B8D1DC8B">
                                <pre><code class="language-cpp code-clang-doc">void reset ()</code></pre>
                                <p>Defined at line 758 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="78361F81955A8DC095C4A52BA1246236C1773415">
                                <pre><code class="language-cpp code-clang-doc">void setInitiationInterval (int ii)</code></pre>
                                <div>
                                    <div>
                                        <p> Set the initiation interval for this schedule.</p>
                                    </div>
                                </div>
                                <p>Defined at line 767 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="8358521157B5EEB7506DD6E5DA6F2E1EC3843FC9">
                                <pre><code class="language-cpp code-clang-doc">int getInitiationInterval ()</code></pre>
                                <div>
                                    <div>
                                        <p> Return the initiation interval for this schedule.</p>
                                    </div>
                                </div>
                                <p>Defined at line 773 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="C6A9E2D213077C3E29E0CA1E53892F126E659007">
                                <pre><code class="language-cpp code-clang-doc">int getFirstCycle ()</code></pre>
                                <div>
                                    <div>
                                        <p> Return the first cycle in the completed schedule.  This</p>
                                        <p> can be a negative value.</p>
                                    </div>
                                </div>
                                <p>Defined at line 777 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CC6E5878BC27C8BC46C2AE6BEF03365A3C7EA271">
                                <pre><code class="language-cpp code-clang-doc">int getFinalCycle ()</code></pre>
                                <div>
                                    <div>
                                        <p> Return the last cycle in the finalized schedule.</p>
                                    </div>
                                </div>
                                <p>Defined at line 780 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="05932D48462EF89430B8F094D5A894649E449871">
                                <pre><code class="language-cpp code-clang-doc">bool isScheduledAtStage (SUnit * SU, unsigned int StageNum)</code></pre>
                                <div>
                                    <div>
                                        <p> Return true if the instruction is scheduled at the specified stage.</p>
                                    </div>
                                </div>
                                <p>Defined at line 802 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="40417B6ECD3E5ED2869AE5CE48896A09E20E9F0D">
                                <pre><code class="language-cpp code-clang-doc">int stageScheduled (SUnit * SU)</code></pre>
                                <div>
                                    <div>
                                        <p> Return the stage for a scheduled instruction.  Return -1 if</p>
                                        <p> the instruction has not been scheduled.</p>
                                    </div>
                                </div>
                                <p>Defined at line 808 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="DF7C1A9069C394BF5A69FC1A6B562DAAE5A44C87">
                                <pre><code class="language-cpp code-clang-doc">unsigned int cycleScheduled (SUnit * SU)</code></pre>
                                <div>
                                    <div>
                                        <p> Return the cycle for a scheduled instruction. This function normalizes</p>
                                        <p> the first cycle to be 0.</p>
                                    </div>
                                </div>
                                <p>Defined at line 817 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2CB13479B074432C83C6FC7CAC601F617EFB9E91">
                                <pre><code class="language-cpp code-clang-doc">unsigned int getMaxStageCount ()</code></pre>
                                <div>
                                    <div>
                                        <p> Return the maximum stage count needed for this schedule.</p>
                                    </div>
                                </div>
                                <p>Defined at line 824 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2D1A76365626D1D73487ED77DB03156663FF345C">
                                <pre><code class="language-cpp code-clang-doc">int &amp; getInstructions (int cycle)</code></pre>
                                <div>
                                    <div>
                                        <p> Return the instructions that are scheduled at the specified cycle.</p>
                                    </div>
                                </div>
                                <p>Defined at line 829 of file llvm/include/llvm/CodeGen/MachinePipeliner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="DF3956F4A506E473A69E53C709BDC43FA99DC848">
                                <pre><code class="language-cpp code-clang-doc">int earliestCycleInChain (const SwingSchedulerDDGEdge &amp; Dep, const SwingSchedulerDDG * DDG)</code></pre>
                                <div>
                                    <div>
                                        <p> Return the cycle of the earliest scheduled instruction in the chain.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3290 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0F8C36A9B0695E882B14A98D33561A66B7ED7941">
                                <pre><code class="language-cpp code-clang-doc">int latestCycleInChain (const SwingSchedulerDDGEdge &amp; Dep, const SwingSchedulerDDG * DDG)</code></pre>
                                <div>
                                    <div>
                                        <p> Return the cycle of the latest scheduled instruction in the chain.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3314 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6B4254F7E3F54F3C7D1795C32B43DB16E15B306D">
                                <pre><code class="language-cpp code-clang-doc">void computeStart (SUnit * SU, int * MaxEarlyStart, int * MinLateStart, int II, SwingSchedulerDAG * DAG)</code></pre>
                                <div>
                                    <div>
                                        <p> Compute the scheduling start slot for the instruction.  The start slot</p>
                                        <p> depends on any predecessor or successor nodes scheduled already.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3351 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="23476BB147222EE98090FA4BB9DF96F6CA3A4CEB">
                                <pre><code class="language-cpp code-clang-doc">bool insert (SUnit * SU, int StartCycle, int EndCycle, int II)</code></pre>
                                <div>
                                    <div>
                                        <p> Try to schedule the node at the specified StartCycle and continue</p>
                                        <p> until the node is schedule or the EndCycle is reached.  This function</p>
                                        <p> returns true if the node is scheduled.  This routine may search either</p>
                                        <p> forward or backward for a place to insert the instruction based upon</p>
                                        <p> the relative values of StartCycle and EndCycle.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3250 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D8BFD58D306C41CAD1AEB3D7111224D9BD4BFB6D">
                                <pre><code class="language-cpp code-clang-doc">SmallPtrSet&lt;SUnit *, 8&gt; computeUnpipelineableNodes (SwingSchedulerDAG * SSD, TargetInstrInfo::PipelinerLoopInfo * PLI)</code></pre>
                                <div>
                                    <div>
                                        <p> Determine transitive dependences of unpipelineable instructions</p>
                                    </div>
                                </div>
                                <p>Defined at line 3592 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A122278BCFF5C695924E54F3051EF92CE11A0305">
                                <pre><code class="language-cpp code-clang-doc">int reorderInstructions (const SwingSchedulerDAG * SSD, const int &amp; Instrs)</code></pre>
                                <p>Defined at line 3866 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F8EDFAA89376B59D5DEC30985003F9A2D9854BD7">
                                <pre><code class="language-cpp code-clang-doc">bool normalizeNonPipelinedInstructions (SwingSchedulerDAG * SSD, TargetInstrInfo::PipelinerLoopInfo * PLI)</code></pre>
                                <div>
                                    <div>
                                        <p> Determine all instructions upon which any unpipelineable instruction depends</p>
                                        <p> and ensure that they are in stage 0.  If unable to do so, return false.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3622 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A9EA8A1DCDAD7B483BFFDC544E59E998E61AD695">
                                <pre><code class="language-cpp code-clang-doc">bool isValidSchedule (SwingSchedulerDAG * SSD)</code></pre>
                                <div>
                                    <div>
                                        <p> Check if the generated schedule is valid. This function checks if</p>
                                        <p> an instruction that uses a physical register is scheduled in a</p>
                                        <p> different stage than the definition. The pipeliner does not handle</p>
                                        <p> physical register values that may cross a basic block boundary.</p>
                                        <p> Furthermore, if a physical def/use pair is assigned to the same</p>
                                        <p> cycle, orderDependence does not guarantee def/use ordering, so that</p>
                                        <p> case should be considered invalid.  (The test checks for both</p>
                                        <p> earlier and same-cycle use to be more robust.)</p>
                                    </div>
                                </div>
                                <p>Defined at line 3697 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="16568CC1A8952225640B9C16ABB88E3CDC48137D">
                                <pre><code class="language-cpp code-clang-doc">void finalizeSchedule (SwingSchedulerDAG * SSD)</code></pre>
                                <div>
                                    <div>
                                        <p> After the schedule has been formed, call this function to combine</p>
                                        <p> the instructions from the different stages/cycles.  That is, this</p>
                                        <p> function creates a schedule that represents a single iteration.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3886 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6A9B3FE6E4E1F5EFB75CF9A33FB9652AE7B669AB">
                                <pre><code class="language-cpp code-clang-doc">void orderDependence (const SwingSchedulerDAG * SSD, SUnit * SU, int &amp; Insts)</code></pre>
                                <div>
                                    <div>
                                        <p> Order the instructions within a cycle so that the definitions occur</p>
                                        <p> before the uses. Returns true if the instruction is added to the start</p>
                                        <p> of the list, or false if added to the end.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3401 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A8972B7511D7BCB4A8068FC111247CBA88BD9BE1">
                                <pre><code class="language-cpp code-clang-doc">bool isLoopCarried (const SwingSchedulerDAG * SSD, MachineInstr &amp; Phi)</code></pre>
                                <div>
                                    <div>
                                        <p> Return true if the scheduled Phi has a loop carried operand.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3532 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5F15C5E6D66DA48E5F3905526C8D90B75DE7961F">
                                <pre><code class="language-cpp code-clang-doc">bool isLoopCarriedDefOfUse (const SwingSchedulerDAG * SSD, MachineInstr * Def, MachineOperand &amp; MO)</code></pre>
                                <div>
                                    <div>
                                        <p> Return true if the instruction is a definition that is loop carried</p>
                                        <p> and defines the use on the next iteration.</p>
                                        <p>        v1 = phi(v2, v3)</p>
                                        <p>  (Def) v3 = op v1</p>
                                        <p>  (MO)   = v1</p>
                                        <p> If MO appears before Def, then v1 and v3 may get assigned to the same</p>
                                        <p> register.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3561 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6D155F0F3AE47316632E7BE0C91D2ACC8C0B5B11">
                                <pre><code class="language-cpp code-clang-doc">bool onlyHasLoopCarriedOutputOrOrderPreds (SUnit * SU, const SwingSchedulerDDG * DDG)</code></pre>
                                <div>
                                    <div>
                                        <p> Return true if all scheduled predecessors are loop-carried output/order</p>
                                        <p> dependencies.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3583 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F24829215BFCA3321AE6D751CF09E102E65351FD">
                                <pre><code class="language-cpp code-clang-doc">void print (raw_ostream &amp; os)</code></pre>
                                <div>
                                    <div>
                                        <p> Print the schedule information to the given output.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3929 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="1172055913B3B1AC0392958A3589769B86A7C409">
                                <pre><code class="language-cpp code-clang-doc">void dump ()</code></pre>
                                <div>
                                    <div>
                                        <p> Utility function used for debugging to print the schedule.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3944 of file llvm/lib/CodeGen/MachinePipeliner.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>LoopVersioning</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">llvm</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class LoopVersioning</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#00F3197F05207EB0EEFA7FDA79DB44C814A0762A">LoopVersioning</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7C7C0D1E41814877AFCBEA104C6C87054CF8AC27">versionLoop</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#10A9E1B9F5B3E80E7EA9B5DF2F55CE2E5F96CF14">versionLoop</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0424586C5FCFEE66127E8AF0F7E280BEEF2B63AE">getVersionedLoop</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A9A4316BD9AEE35867620FB277FCCE879EAE8773">getNonVersionedLoop</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5AB009539FAF0A90D2720E47D078570F90F6C6BA">annotateLoopWithNoAlias</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#8674BC76AE2EFD9A8B5BBD31128140CE47DC7B76">getNoAliasMetadataFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D66C47A1C219F3CCE949A917D107AFE38965A3D2">prepareNoAliasMetadata</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2AD6DC0D5041C8FEA0AC2310B5667F41478B0539">annotateInstWithNoAlias</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class LoopVersioning</h1>
                        <p>Defined at line 41 of file llvm/include/llvm/Transforms/Utils/LoopVersioning.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> This class emits a version of the loop where run-time checks ensure</p>
                                <p> that may-alias pointers can&#39;t overlap.</p>
                            </div>
                            <div>
                                <p> It currently only supports single-exit loops and assumes that the loop</p>
                                <p> already has a preheader.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="00F3197F05207EB0EEFA7FDA79DB44C814A0762A">
                                <pre><code class="language-cpp code-clang-doc">void LoopVersioning (const LoopAccessInfo &amp; LAI, ArrayRef Checks, Loop * L, LoopInfo * LI, DominatorTree * DT, ScalarEvolution * SE)</code></pre>
                                <div>
                                    <div>
                                        <p> Expects LoopAccessInfo, Loop, LoopInfo, DominatorTree as input.</p>
                                        <p> It uses runtime check provided by the user. If </p>
                                        <p> is true,</p>
                                        <p> we will retain the default checks made by LAI. Otherwise, construct an</p>
                                        <p> object having no checks and we expect the user to add them.</p>
                                    </div>
                                </div>
                                <p>Defined at line 43 of file llvm/lib/Transforms/Utils/LoopVersioning.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="7C7C0D1E41814877AFCBEA104C6C87054CF8AC27">
                                <pre><code class="language-cpp code-clang-doc">void versionLoop (const SmallVectorImpl&lt;Instruction *&gt; &amp; DefsUsedOutside)</code></pre>
                                <div>
                                    <div>
                                        <p> Same but if the client has already precomputed the set of values</p>
                                        <p> used outside the loop, this API will allows passing that.</p>
                                    </div>
                                </div>
                                <p>Defined at line 50 of file llvm/lib/Transforms/Utils/LoopVersioning.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="10A9E1B9F5B3E80E7EA9B5DF2F55CE2E5F96CF14">
                                <pre><code class="language-cpp code-clang-doc">void versionLoop ()</code></pre>
                                <div>
                                    <div>
                                        <p> Performs the CFG manipulation part of versioning the loop including</p>
                                        <p> the DominatorTree and LoopInfo updates.</p>
                                    </div>
                                    <div>
                                        <p> The loop that was used to construct the class will be the &quot;versioned&quot; loop</p>
                                        <p> i.e. the loop that will receive control if all the memchecks pass.</p>
                                    </div>
                                    <div>
                                        <p> This allows the loop transform pass to operate on the same loop regardless</p>
                                        <p> of whether versioning was necessary or not:</p>
                                    </div>
                                    <div>
                                        <p>    for each loop L:</p>
                                        <p>        analyze L</p>
                                        <p>        if versioning is necessary version L</p>
                                        <p>        transform L</p>
                                    </div>
                                </div>
                                <p>Defined at line 64 of file llvm/include/llvm/Transforms/Utils/LoopVersioning.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0424586C5FCFEE66127E8AF0F7E280BEEF2B63AE">
                                <pre><code class="language-cpp code-clang-doc">Loop * getVersionedLoop ()</code></pre>
                                <div>
                                    <div>
                                        <p> Returns the versioned loop.  Control flows here if pointers in the</p>
                                        <p> loop don&#39;t alias (i.e. all memchecks passed).  (This loop is actually the</p>
                                        <p> same as the original loop that we got constructed with.)</p>
                                    </div>
                                </div>
                                <p>Defined at line 73 of file llvm/include/llvm/Transforms/Utils/LoopVersioning.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A9A4316BD9AEE35867620FB277FCCE879EAE8773">
                                <pre><code class="language-cpp code-clang-doc">Loop * getNonVersionedLoop ()</code></pre>
                                <div>
                                    <div>
                                        <p> Returns the fall-back loop.  Control flows here if pointers in the</p>
                                        <p> loop may alias (i.e. one of the memchecks failed).</p>
                                    </div>
                                </div>
                                <p>Defined at line 77 of file llvm/include/llvm/Transforms/Utils/LoopVersioning.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5AB009539FAF0A90D2720E47D078570F90F6C6BA">
                                <pre><code class="language-cpp code-clang-doc">void annotateLoopWithNoAlias ()</code></pre>
                                <div>
                                    <div>
                                        <p> Annotate memory instructions in the versioned loop with no-alias</p>
                                        <p> metadata based on the memchecks issued.</p>
                                    </div>
                                    <div>
                                        <p> This is just wrapper that calls prepareNoAliasMetadata and</p>
                                        <p> annotateInstWithNoAlias on the instructions of the versioned loop.</p>
                                    </div>
                                </div>
                                <p>Defined at line 219 of file llvm/lib/Transforms/Utils/LoopVersioning.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="8674BC76AE2EFD9A8B5BBD31128140CE47DC7B76">
                                <pre><code class="language-cpp code-clang-doc">std::pair&lt;MDNode *, MDNode *&gt; getNoAliasMetadataFor (const Instruction * OrigInst)</code></pre>
                                <div>
                                    <div>
                                        <p> Returns a pair containing the alias_scope and noalias metadata nodes for</p>
                                        <p> if they exists.</p>
                                    </div>
                                </div>
                                <p>Defined at line 232 of file llvm/lib/Transforms/Utils/LoopVersioning.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D66C47A1C219F3CCE949A917D107AFE38965A3D2">
                                <pre><code class="language-cpp code-clang-doc">void prepareNoAliasMetadata ()</code></pre>
                                <div>
                                    <div>
                                        <p> Set up the aliasing scopes based on the memchecks.  This needs to</p>
                                        <p> be called before the first call to annotateInstWithNoAlias.</p>
                                    </div>
                                </div>
                                <p>Defined at line 178 of file llvm/lib/Transforms/Utils/LoopVersioning.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2AD6DC0D5041C8FEA0AC2310B5667F41478B0539">
                                <pre><code class="language-cpp code-clang-doc">void annotateInstWithNoAlias (Instruction * VersionedInst, const Instruction * OrigInst)</code></pre>
                                <div>
                                    <div>
                                        <p> Add the noalias annotations to </p>
                                    </div>
                                    <div>
                                        <p> is the instruction corresponding to </p>
                                        <p> in the</p>
                                        <p> original loop.  Initialize the aliasing scopes with</p>
                                        <p> prepareNoAliasMetadata once before this can be called.</p>
                                    </div>
                                </div>
                                <p>Defined at line 261 of file llvm/lib/Transforms/Utils/LoopVersioning.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>SparseMultiSet</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">llvm</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class SparseMultiSet</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E946D7304878730051B753208C8BAFDB9F3464C8">SparseMultiSet&lt;ValueT, KeyT, KeyFunctorT, SparseT&gt;</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#18ED47EDB2082397AFB64CE51BB3CEB9B1B6E3E4">SparseMultiSet&lt;ValueT, KeyT, KeyFunctorT, SparseT&gt;</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#552A9332A1438E36C86D656500778362D7879DBB">operator=</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#15961DBD231D0FF6DBDC3A15FE61804FDF6B4C3F">~SparseMultiSet&lt;ValueT, KeyT, KeyFunctorT, SparseT&gt;</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A62DDAD4FCB7C0CAEC873825313F617BEF438087">setUniverse</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D1597F4212AEDF5A0390EA38342327C8E0A8E497">end</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#4ED5718635FBC3A4A449F76FEC0F0CEFEEB90DE0">end</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2ACF6FBB7910514FFA4925490393661B91AF19F9">empty</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F1AFF7A7AE36BBF80E0763E8B50ADA8DC452FF7A">size</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2D6AFC5454C378854936C0040FBF15DB9BEB1418">clear</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#60FE0FA10818CE495B5E96D47C1C4DCCF57DE4FB">findIndex</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#EC2B07EF5ECF4FF73CB5AE998B49743A6243FD51">find</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#9E3B8D4980C8BA7CBB4202C2B1208D5C800ADD95">find</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#25FE787D3207B021EF4A75C24669A032EB5E591F">count</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#77EC2ECB596361C4E87A4EC74196FEC42528956D">contains</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3EFCC2745B149C7404926CBB82D4A5D6CE404684">getHead</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#399B2D74A05EB56F8A9A0836D5FA92DF011E6FC4">getTail</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7DE54E59338CEF8F42EAAE6401FD2554FCA586CF">equal_range</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#990E4E149AD41B9460C30F4DF838590B6657F532">insert</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5C7DDFBEF155F89AE55E1961009946E133A585DF">erase</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D50E080EFCA3FD10E096412AF8E95F491BFDB522">eraseAll</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <pre><code class="language-cpp code-clang-doc">template &lt;typename ValueT, typename KeyT = unsigned, typename KeyFunctorT = identity, typename SparseT = uint8_t&gt;</code></pre>
                    <div class="hero__title">
                        <h1 class="hero__title-large">class SparseMultiSet</h1>
                        <p>Defined at line 86 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> Fast multiset implementation for objects that can be identified by small</p>
                                <p> unsigned keys.</p>
                            </div>
                            <div>
                                <p> SparseMultiSet allocates memory proportional to the size of the key</p>
                                <p> universe, so it is not recommended for building composite data structures.</p>
                                <p> It is useful for algorithms that require a single set with fast operations.</p>
                            </div>
                            <div>
                                <p> Compared to DenseSet and DenseMap, SparseMultiSet provides constant-time</p>
                                <p> fast clear() as fast as a vector.  The find(), insert(), and erase()</p>
                                <p> operations are all constant time, and typically faster than a hash table.</p>
                                <p> The iteration order doesn&#39;t depend on numerical key values, it only depends</p>
                                <p> on the order of insert() and erase() operations.  Iteration order is the</p>
                                <p> insertion order. Iteration is only provided over elements of equivalent</p>
                                <p> keys, but iterators are bidirectional.</p>
                            </div>
                            <div>
                                <p> Compared to BitVector, SparseMultiSet</p>
                                <p>&lt;unsigned</p>
                                <p>&gt; uses 8x-40x more memory, but</p>
                                <p> offers constant-time clear() and size() operations as well as fast iteration</p>
                                <p> independent on the size of the universe.</p>
                            </div>
                            <div>
                                <p> SparseMultiSet contains a dense vector holding all the objects and a sparse</p>
                                <p> array holding indexes into the dense vector.  Most of the memory is used by</p>
                                <p> the sparse array which is the size of the key universe. The SparseT template</p>
                                <p> parameter provides a space/speed tradeoff for sets holding many elements.</p>
                            </div>
                            <div>
                                <p> When SparseT is uint32_t, find() only touches up to 3 cache lines, but the</p>
                                <p> sparse array uses 4 x Universe bytes.</p>
                            </div>
                            <div>
                                <p> When SparseT is uint8_t (the default), find() touches up to 3+[N/256] cache</p>
                                <p> lines, but the sparse array is 4x smaller.  N is the number of elements in</p>
                                <p> the set.</p>
                            </div>
                            <div>
                                <p> For sets that may grow to thousands of elements, SparseT should be set to</p>
                                <p> uint16_t or uint32_t.</p>
                            </div>
                            <div>
                                <p> Multiset behavior is provided by providing doubly linked lists for values</p>
                                <p> that are inlined in the dense vector. SparseMultiSet is a good choice when</p>
                                <p> one desires a growable number of entries per key, as it will retain the</p>
                                <p> SparseSet algorithmic properties despite being growable. Thus, it is often a</p>
                                <p> better choice than a SparseSet of growable containers or a vector of</p>
                                <p> vectors. SparseMultiSet also keeps iterators valid after erasure (provided</p>
                                <p> the iterators don&#39;t point to the element erased), allowing for more</p>
                                <p> intuitive and fast removal.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="E946D7304878730051B753208C8BAFDB9F3464C8">
                                <pre><code class="language-cpp code-clang-doc">void SparseMultiSet&lt;ValueT, KeyT, KeyFunctorT, SparseT&gt; ()</code></pre>
                                <p>Defined at line 187 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="18ED47EDB2082397AFB64CE51BB3CEB9B1B6E3E4">
                                <pre><code class="language-cpp code-clang-doc">void SparseMultiSet&lt;ValueT, KeyT, KeyFunctorT, SparseT&gt; (const SparseMultiSet&lt;ValueT, KeyT, KeyFunctorT, SparseT&gt; &amp; )</code></pre>
                                <p>Defined at line 188 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="552A9332A1438E36C86D656500778362D7879DBB">
                                <pre><code class="language-cpp code-clang-doc">SparseMultiSet&lt;ValueT, KeyT, KeyFunctorT, SparseT&gt; &amp; operator= (const SparseMultiSet&lt;ValueT, KeyT, KeyFunctorT, SparseT&gt; &amp; )</code></pre>
                                <p>Defined at line 189 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="15961DBD231D0FF6DBDC3A15FE61804FDF6B4C3F">
                                <pre><code class="language-cpp code-clang-doc">void ~SparseMultiSet&lt;ValueT, KeyT, KeyFunctorT, SparseT&gt; ()</code></pre>
                                <p>Defined at line 190 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A62DDAD4FCB7C0CAEC873825313F617BEF438087">
                                <pre><code class="language-cpp code-clang-doc">void setUniverse (unsigned int U)</code></pre>
                                <div>
                                    <div>
                                        <p> Set the universe size which determines the largest key the set can hold.</p>
                                        <p> The universe must be sized before any elements can be added.</p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>U</b>   Universe size. All object keys must be less than U.
                                    </div> 
                                </div>
                                <p>Defined at line 197 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D1597F4212AEDF5A0390EA38342327C8E0A8E497">
                                <pre><code class="language-cpp code-clang-doc">iterator end ()</code></pre>
                                <div>
                                    <div>
                                        <p> Returns an iterator past this container. Note that such an iterator cannot</p>
                                        <p> be decremented, but will compare equal to other end iterators.</p>
                                    </div>
                                </div>
                                <p>Defined at line 312 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="4ED5718635FBC3A4A449F76FEC0F0CEFEEB90DE0">
                                <pre><code class="language-cpp code-clang-doc">const_iterator end ()</code></pre>
                                <p>Defined at line 313 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2ACF6FBB7910514FFA4925490393661B91AF19F9">
                                <pre><code class="language-cpp code-clang-doc">bool empty ()</code></pre>
                                <div>
                                    <div>
                                        <p> Returns true if the set is empty.</p>
                                    </div>
                                    <div>
                                        <p> This is not the same as BitVector::empty().</p>
                                    </div>
                                </div>
                                <p>Defined at line 321 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F1AFF7A7AE36BBF80E0763E8B50ADA8DC452FF7A">
                                <pre><code class="language-cpp code-clang-doc">size_type size ()</code></pre>
                                <div>
                                    <div>
                                        <p> Returns the number of elements in the set.</p>
                                    </div>
                                    <div>
                                        <p> This is not the same as BitVector::size() which returns the size of the</p>
                                        <p> universe.</p>
                                    </div>
                                </div>
                                <p>Defined at line 328 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2D6AFC5454C378854936C0040FBF15DB9BEB1418">
                                <pre><code class="language-cpp code-clang-doc">void clear ()</code></pre>
                                <div>
                                    <div>
                                        <p> Clears the set.  This is a very fast constant time operation.</p>
                                    </div>
                                </div>
                                <p>Defined at line 335 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="60FE0FA10818CE495B5E96D47C1C4DCCF57DE4FB">
                                <pre><code class="language-cpp code-clang-doc">iterator findIndex (unsigned int Idx)</code></pre>
                                <div>
                                    <div>
                                        <p> Find an element by its index.</p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>Idx</b>   A valid index to find.
                                    </div> 
                                </div>
                                <p>Defined at line 347 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="EC2B07EF5ECF4FF73CB5AE998B49743A6243FD51">
                                <pre><code class="language-cpp code-clang-doc">iterator find (const KeyT &amp; Key)</code></pre>
                                <div>
                                    <div>
                                        <p> Find an element by its key.</p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>Key</b>   A valid key to find.
                                    </div> 
                                </div>
                                <p>Defined at line 368 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="9E3B8D4980C8BA7CBB4202C2B1208D5C800ADD95">
                                <pre><code class="language-cpp code-clang-doc">const_iterator find (const KeyT &amp; Key)</code></pre>
                                <p>Defined at line 370 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="25FE787D3207B021EF4A75C24669A032EB5E591F">
                                <pre><code class="language-cpp code-clang-doc">size_type count (const KeyT &amp; Key)</code></pre>
                                <div>
                                    <div>
                                        <p> Returns the number of elements identified by Key. This will be linear in</p>
                                        <p> the number of elements of that key.</p>
                                    </div>
                                </div>
                                <p>Defined at line 377 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="77EC2ECB596361C4E87A4EC74196FEC42528956D">
                                <pre><code class="language-cpp code-clang-doc">bool contains (const KeyT &amp; Key)</code></pre>
                                <div>
                                    <div>
                                        <p> Returns true if this set contains an element identified by Key.</p>
                                    </div>
                                </div>
                                <p>Defined at line 386 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3EFCC2745B149C7404926CBB82D4A5D6CE404684">
                                <pre><code class="language-cpp code-clang-doc">iterator getHead (const KeyT &amp; Key)</code></pre>
                                <div>
                                    <div>
                                        <p> Return the head and tail of the subset&#39;s list, otherwise returns end().</p>
                                    </div>
                                </div>
                                <p>Defined at line 389 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="399B2D74A05EB56F8A9A0836D5FA92DF011E6FC4">
                                <pre><code class="language-cpp code-clang-doc">iterator getTail (const KeyT &amp; Key)</code></pre>
                                <p>Defined at line 390 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="7DE54E59338CEF8F42EAAE6401FD2554FCA586CF">
                                <pre><code class="language-cpp code-clang-doc">RangePair equal_range (const KeyT &amp; K)</code></pre>
                                <div>
                                    <div>
                                        <p> The bounds of the range of items sharing Key K. First member is the head</p>
                                        <p> of the list, and the second member is a decrementable end iterator for</p>
                                        <p> that key.</p>
                                    </div>
                                </div>
                                <p>Defined at line 400 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="990E4E149AD41B9460C30F4DF838590B6657F532">
                                <pre><code class="language-cpp code-clang-doc">iterator insert (const ValueT &amp; Val)</code></pre>
                                <div>
                                    <div>
                                        <p> Insert a new element at the tail of the subset list. Returns an iterator</p>
                                        <p> to the newly added entry.</p>
                                    </div>
                                </div>
                                <p>Defined at line 408 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5C7DDFBEF155F89AE55E1961009946E133A585DF">
                                <pre><code class="language-cpp code-clang-doc">iterator erase (iterator I)</code></pre>
                                <div>
                                    <div>
                                        <p> Erases an existing element identified by a valid iterator.</p>
                                    </div>
                                    <div>
                                        <p> This invalidates iterators pointing at the same entry, but erase() returns</p>
                                        <p> an iterator pointing to the next element in the subset&#39;s list. This makes</p>
                                        <p> it possible to erase selected elements while iterating over the subset:</p>
                                    </div>
                                    <div>
                                        <p>   tie(I, E) = Set.equal_range(Key);</p>
                                        <p>   while (I != E)</p>
                                        <p>     if (test(*I))</p>
                                        <p>       I = Set.erase(I);</p>
                                        <p>     else</p>
                                        <p>       ++I;</p>
                                    </div>
                                    <div>
                                        <p> Note that if the last element in the subset list is erased, this will</p>
                                        <p> return an end iterator which can be decremented to get the new tail (if it</p>
                                        <p> exists):</p>
                                    </div>
                                    <div>
                                        <p>  tie(B, I) = Set.equal_range(Key);</p>
                                        <p>  for (bool isBegin = B == I; !isBegin; /* empty */) {</p>
                                        <p>    isBegin = (--I) == B;</p>
                                        <p>    if (test(I))</p>
                                        <p>      break;</p>
                                        <p>    I = erase(I);</p>
                                        <p>  }</p>
                                    </div>
                                </div>
                                <p>Defined at line 455 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D50E080EFCA3FD10E096412AF8E95F491BFDB522">
                                <pre><code class="language-cpp code-clang-doc">void eraseAll (const KeyT &amp; K)</code></pre>
                                <div>
                                    <div>
                                        <p> Erase all elements with the given key. This invalidates all</p>
                                        <p> iterators of that key.</p>
                                    </div>
                                </div>
                                <p>Defined at line 471 of file llvm/include/llvm/ADT/SparseMultiSet.h</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

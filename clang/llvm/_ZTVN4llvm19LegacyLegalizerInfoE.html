<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>LegacyLegalizerInfo</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">llvm</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class LegacyLegalizerInfo</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D19FCDD299C37A81001AD6CAE54DA7BB65F074EC">LegacyLegalizerInfo</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#166965750691F8CA9A39896A15F966B21CE0EADA">computeTables</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#AF90B11FF275A6E61FE956CAAB0D198A8B6AD49D">needsLegalizingToDifferentSize</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#808A5538126AD9ECC5C2B8B854128D8A586B1FAA">setAction</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1CBDA6E5DB67D0E3AB7CC82AC7AAC6875F179DF5">setLegalizeScalarToDifferentSizeStrategy</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0CAA8F9614086FA4C18388BBEEFB01AE3F3B182E">setLegalizeVectorElementToDifferentSizeStrategy</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#21796D2DACF5888B649D3CB634D112D36B8E1B5A">unsupportedForDifferentSizes</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#9910A13FF332962D7C5468ED9C2FA9C301656EA6">widenToLargerTypesAndNarrowToLargest</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E5835B793C6B3416223DA8AA75D6DF0453074330">decreaseToSmallerTypesAndIncreaseToSmallest</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#15E1F2E762206F3F551C4B12C3E3B461336AA1D5">decreaseToSmallerTypesAndIncreaseToSmallest</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#9B0CC5DAF863DF5B92F0DA3087B7E24909C2F689">increaseToLargerTypesAndDecreaseToLargest</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CD9AA9E8E75CDD510E714578FE8B2DF431A2AACA">widenToLargerTypesUnsupportedOtherwise</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5980B55817BA8E4F4A9406855B2E9B0D0AAF7E51">narrowToSmallerAndUnsupportedIfTooSmall</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#62EC9B1C54EDBED4CA5D27056E0C56E878533B6B">findAction</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2B95D6BABD5B2BD9F15BE513658131C0F3F7CD82">getAction</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0D8FF7DDB3EE802E7DE0F5FDFA7E9904DB7C0EF2">getOpcodeIdxForOpcode</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#AD5577356C2127FD04118BBD309485B3457BC38F">increaseToLargerTypesAndDecreaseToLargest</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A3BAFDF921679DFC7FCE3345FA3B055AE9A34E73">moreToWiderTypesAndLessToWidest</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class LegacyLegalizerInfo</h1>
                        <p>Defined at line 121 of file llvm/include/llvm/CodeGen/GlobalISel/LegacyLegalizerInfo.h</p>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="D19FCDD299C37A81001AD6CAE54DA7BB65F074EC">
                                <pre><code class="language-cpp code-clang-doc">void LegacyLegalizerInfo ()</code></pre>
                                <p>Defined at line 67 of file llvm/lib/CodeGen/GlobalISel/LegacyLegalizerInfo.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="166965750691F8CA9A39896A15F966B21CE0EADA">
                                <pre><code class="language-cpp code-clang-doc">void computeTables ()</code></pre>
                                <div>
                                    <div>
                                        <p> Compute any ancillary tables needed to quickly decide how an operation</p>
                                        <p> should be handled. This must be called after all &quot;set*Action&quot;methods but</p>
                                        <p> before any query is made or incorrect results may be returned.</p>
                                    </div>
                                </div>
                                <p>Defined at line 105 of file llvm/lib/CodeGen/GlobalISel/LegacyLegalizerInfo.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="AF90B11FF275A6E61FE956CAAB0D198A8B6AD49D">
                                <pre><code class="language-cpp code-clang-doc">bool needsLegalizingToDifferentSize (LegacyLegalizeAction Action)</code></pre>
                                <p>Defined at line 131 of file llvm/include/llvm/CodeGen/GlobalISel/LegacyLegalizerInfo.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="808A5538126AD9ECC5C2B8B854128D8A586B1FAA">
                                <pre><code class="language-cpp code-clang-doc">void setAction (const InstrAspect &amp; Aspect, LegacyLegalizeAction Action)</code></pre>
                                <div>
                                    <div>
                                        <p> More friendly way to set an action for common types that have an LLT</p>
                                        <p> representation.</p>
                                        <p> The LegacyLegalizeAction must be one for which</p>
                                        <p> NeedsLegalizingToDifferentSize returns false.</p>
                                    </div>
                                </div>
                                <p>Defined at line 155 of file llvm/include/llvm/CodeGen/GlobalISel/LegacyLegalizerInfo.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="1CBDA6E5DB67D0E3AB7CC82AC7AAC6875F179DF5">
                                <pre><code class="language-cpp code-clang-doc">void setLegalizeScalarToDifferentSizeStrategy (const unsigned int Opcode, const unsigned int TypeIdx, int S)</code></pre>
                                <div>
                                    <div>
                                        <p> The setAction calls record the non-size-changing legalization actions</p>
                                        <p> to take on specificly-sized types. The SizeChangeStrategy defines what</p>
                                        <p> to do when the size of the type needs to be changed to reach a legally</p>
                                        <p> sized type (i.e., one that was defined through a setAction call).</p>
                                        <p> e.g.</p>
                                        <p> setAction ({G_ADD, 0, LLT::scalar(32)}, Legal);</p>
                                        <p> setLegalizeScalarToDifferentSizeStrategy(</p>
                                        <p>   G_ADD, 0, widenToLargerTypesAndNarrowToLargest);</p>
                                        <p> will end up defining getAction({G_ADD, 0, T}) to return the following</p>
                                        <p> actions for different scalar types T:</p>
                                        <p>  LLT::scalar(1)..LLT::scalar(31): {WidenScalar, 0, LLT::scalar(32)}</p>
                                        <p>  LLT::scalar(32):                 {Legal, 0, LLT::scalar(32)}</p>
                                        <p>  LLT::scalar(33)..:               {NarrowScalar, 0, LLT::scalar(32)}</p>
                                    </div>
                                    <div>
                                        <p> If no SizeChangeAction gets defined, through this function,</p>
                                        <p> the default is unsupportedForDifferentSizes.</p>
                                    </div>
                                </div>
                                <p>Defined at line 181 of file llvm/include/llvm/CodeGen/GlobalISel/LegacyLegalizerInfo.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0CAA8F9614086FA4C18388BBEEFB01AE3F3B182E">
                                <pre><code class="language-cpp code-clang-doc">void setLegalizeVectorElementToDifferentSizeStrategy (const unsigned int Opcode, const unsigned int TypeIdx, int S)</code></pre>
                                <div>
                                    <div>
                                        <p> See also setLegalizeScalarToDifferentSizeStrategy.</p>
                                        <p> This function allows to set the SizeChangeStrategy for vector elements.</p>
                                    </div>
                                </div>
                                <p>Defined at line 192 of file llvm/include/llvm/CodeGen/GlobalISel/LegacyLegalizerInfo.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="21796D2DACF5888B649D3CB634D112D36B8E1B5A">
                                <pre><code class="language-cpp code-clang-doc">int unsupportedForDifferentSizes (const int &amp; v)</code></pre>
                                <div>
                                    <div>
                                        <p> A SizeChangeStrategy for the common case where legalization for a</p>
                                        <p> particular operation consists of only supporting a specific set of type</p>
                                        <p> sizes. E.g.</p>
                                        <p>   setAction ({G_DIV, 0, LLT::scalar(32)}, Legal);</p>
                                        <p>   setAction ({G_DIV, 0, LLT::scalar(64)}, Legal);</p>
                                        <p>   setLegalizeScalarToDifferentSizeStrategy(</p>
                                        <p>     G_DIV, 0, unsupportedForDifferentSizes);</p>
                                        <p> will result in getAction({G_DIV, 0, T}) to return Legal for s32 and s64,</p>
                                        <p> and Unsupported for all other scalar types T.</p>
                                    </div>
                                </div>
                                <p>Defined at line 210 of file llvm/include/llvm/CodeGen/GlobalISel/LegacyLegalizerInfo.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="9910A13FF332962D7C5468ED9C2FA9C301656EA6">
                                <pre><code class="language-cpp code-clang-doc">int widenToLargerTypesAndNarrowToLargest (const int &amp; v)</code></pre>
                                <div>
                                    <div>
                                        <p> A SizeChangeStrategy for the common case where legalization for a</p>
                                        <p> particular operation consists of widening the type to a large legal type,</p>
                                        <p> unless there is no such type and then instead it should be narrowed to the</p>
                                        <p> largest legal type.</p>
                                    </div>
                                </div>
                                <p>Defined at line 221 of file llvm/include/llvm/CodeGen/GlobalISel/LegacyLegalizerInfo.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E5835B793C6B3416223DA8AA75D6DF0453074330">
                                <pre><code class="language-cpp code-clang-doc">int decreaseToSmallerTypesAndIncreaseToSmallest (const int &amp; v, LegacyLegalizeAction DecreaseAction, LegacyLegalizeAction IncreaseAction)</code></pre>
                                <p>Defined at line 230 of file llvm/lib/CodeGen/GlobalISel/LegacyLegalizerInfo.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="15E1F2E762206F3F551C4B12C3E3B461336AA1D5">
                                <pre><code class="language-cpp code-clang-doc">int decreaseToSmallerTypesAndIncreaseToSmallest (const int &amp; v, LegacyLegalizeAction DecreaseAction, LegacyLegalizeAction IncreaseAction)</code></pre>
                                <div>
                                    <div>
                                        <p> Helper function to implement many typical SizeChangeStrategy functions.</p>
                                    </div>
                                </div>
                                <p>Defined at line  of file </p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="9B0CC5DAF863DF5B92F0DA3087B7E24909C2F689">
                                <pre><code class="language-cpp code-clang-doc">int increaseToLargerTypesAndDecreaseToLargest (const int &amp; v, LegacyLegalizeAction IncreaseAction, LegacyLegalizeAction DecreaseAction)</code></pre>
                                <p>Defined at line 210 of file llvm/lib/CodeGen/GlobalISel/LegacyLegalizerInfo.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CD9AA9E8E75CDD510E714578FE8B2DF431A2AACA">
                                <pre><code class="language-cpp code-clang-doc">int widenToLargerTypesUnsupportedOtherwise (const int &amp; v)</code></pre>
                                <p>Defined at line 231 of file llvm/include/llvm/CodeGen/GlobalISel/LegacyLegalizerInfo.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5980B55817BA8E4F4A9406855B2E9B0D0AAF7E51">
                                <pre><code class="language-cpp code-clang-doc">int narrowToSmallerAndUnsupportedIfTooSmall (const int &amp; v)</code></pre>
                                <p>Defined at line 238 of file llvm/include/llvm/CodeGen/GlobalISel/LegacyLegalizerInfo.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="62EC9B1C54EDBED4CA5D27056E0C56E878533B6B">
                                <pre><code class="language-cpp code-clang-doc">LegacyLegalizerInfo::SizeAndAction findAction (const int &amp; Vec, const uint32_t Size)</code></pre>
                                <p>Defined at line 246 of file llvm/lib/CodeGen/GlobalISel/LegacyLegalizerInfo.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2B95D6BABD5B2BD9F15BE513658131C0F3F7CD82">
                                <pre><code class="language-cpp code-clang-doc">LegacyLegalizeActionStep getAction (const LegalityQuery &amp; Query)</code></pre>
                                <p>Defined at line 371 of file llvm/lib/CodeGen/GlobalISel/LegacyLegalizerInfo.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0D8FF7DDB3EE802E7DE0F5FDFA7E9904DB7C0EF2">
                                <pre><code class="language-cpp code-clang-doc">unsigned int getOpcodeIdxForOpcode (unsigned int Opcode)</code></pre>
                                <p>Defined at line 365 of file llvm/lib/CodeGen/GlobalISel/LegacyLegalizerInfo.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="AD5577356C2127FD04118BBD309485B3457BC38F">
                                <pre><code class="language-cpp code-clang-doc">int increaseToLargerTypesAndDecreaseToLargest (const int &amp; v, LegacyLegalizeAction IncreaseAction, LegacyLegalizeAction DecreaseAction)</code></pre>
                                <div>
                                    <div>
                                        <p> Helper function to implement many typical SizeChangeStrategy functions.</p>
                                    </div>
                                </div>
                                <p>Defined at line  of file </p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A3BAFDF921679DFC7FCE3345FA3B055AE9A34E73">
                                <pre><code class="language-cpp code-clang-doc">int moreToWiderTypesAndLessToWidest (const int &amp; v)</code></pre>
                                <div>
                                    <div>
                                        <p> A SizeChangeStrategy for the common case where legalization for a</p>
                                        <p> particular vector operation consists of having more elements in the</p>
                                        <p> vector, to a type that is legal. Unless there is no such type and then</p>
                                        <p> instead it should be legalized towards the widest vector that&#39;s still</p>
                                        <p> legal. E.g.</p>
                                        <p>   setAction({G_ADD, LLT::vector(8, 8)}, Legal);</p>
                                        <p>   setAction({G_ADD, LLT::vector(16, 8)}, Legal);</p>
                                        <p>   setAction({G_ADD, LLT::vector(2, 32)}, Legal);</p>
                                        <p>   setAction({G_ADD, LLT::vector(4, 32)}, Legal);</p>
                                        <p>   setLegalizeVectorElementToDifferentSizeStrategy(</p>
                                        <p>     G_ADD, 0, moreToWiderTypesAndLessToWidest);</p>
                                        <p> will result in the following getAction results:</p>
                                        <p>   * getAction({G_ADD, LLT::vector(8,8)}) returns</p>
                                        <p>       (Legal, vector(8,8)).</p>
                                        <p>   * getAction({G_ADD, LLT::vector(9,8)}) returns</p>
                                        <p>       (MoreElements, vector(16,8)).</p>
                                        <p>   * getAction({G_ADD, LLT::vector(8,32)}) returns</p>
                                        <p>       (FewerElements, vector(4,32)).</p>
                                    </div>
                                </div>
                                <p>Defined at line 263 of file llvm/include/llvm/CodeGen/GlobalISel/LegacyLegalizerInfo.h</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

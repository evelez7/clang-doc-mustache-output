<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>BumpPtrAllocatorImpl</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">llvm</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class BumpPtrAllocatorImpl</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#270730114D802FE2A755C8F410AFECCDED233E65">BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt;</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#499EECA71D7BBC869FBC5AE147594B6262AA567E">BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt;</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#90A4CB55F7FEBD52D74A839D6367D8A7608AC585">BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt;</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#609C0EA589923151F41BFA9D4E95C08B31F42166">~BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt;</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#627CC22A6A42200F8AE46B73140AC9931615D6D9">operator=</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#68149F217ECCB7DEF19D335EC492B8F7006D6195">Reset</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CA0E2315CDF47C1A4E540C435CA9BDD72E3FE423">Allocate</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#BA58E15B3E1CC844D2810852491A559A92468EDE">AllocateSlow</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#477D9A4C213B3202DF36CF8F6B0D1A742FB98676">Allocate</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5C8551947363561338A94D966AEFADA5D7A3FB42">Deallocate</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#32F08EC885EC0B6A6F459A1C6360DEB2FB45210F">GetNumSlabs</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E9A15687EE8012289DE61115BADB09C297F0A214">identifyObject</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#47D3D3EAE214FD8D05321195534192ABCA5BD793">identifyKnownObject</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A4E3C1BE6067F840E832232E0E4A7D0988B3EF4C">identifyKnownAlignedObject</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#16A5DEBD4ADAB6D3BE865EDCAD20C6D1F4E7153C">getTotalMemory</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#54032D8E53853A8C5EFF4CFEF5CFF891AD1E8F4B">getBytesAllocated</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2A70109B7F2D8A539A50988146FF3BF136FDBBFF">setRedZoneSize</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#08BA9E372BA2EDB54337F49A3F22D3EA3AF622F0">PrintStats</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <pre><code class="language-cpp code-clang-doc">template &lt;typename AllocatorT = MallocAllocator, size_t SlabSize = 4096, size_t SizeThreshold = SlabSize, size_t GrowthDelay = 128&gt;</code></pre>
                    <div class="hero__title">
                        <h1 class="hero__title-large">class BumpPtrAllocatorImpl</h1>
                        <p>Defined at line 64 of file llvm/include/llvm/Support/Allocator.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> Allocate memory in an ever growing pool, as if by bump-pointer.</p>
                            </div>
                            <div>
                                <p> This isn&#39;t strictly a bump-pointer allocator as it uses backing slabs of</p>
                                <p> memory rather than relying on a boundless contiguous heap. However, it has</p>
                                <p> bump-pointer semantics in that it is a monotonically growing pool of memory</p>
                                <p> where every allocation is found by merely allocating the next N bytes in</p>
                                <p> the slab, or the next N bytes in the next slab.</p>
                            </div>
                            <div>
                                <p> Note that this also has a threshold for forcing allocations above a certain</p>
                                <p> size into their own slab.</p>
                            </div>
                            <div>
                                <p> The BumpPtrAllocatorImpl template defaults to using a MallocAllocator</p>
                                <p> object, which wraps malloc, to allocate memory, but it can be changed to</p>
                                <p> use a custom allocator.</p>
                            </div>
                            <div>
                                <p> The GrowthDelay specifies after how many allocated slabs the allocator</p>
                                <p> increases the size of the slabs.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="270730114D802FE2A755C8F410AFECCDED233E65">
                                <pre><code class="language-cpp code-clang-doc">void BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt; ()</code></pre>
                                <p>Defined at line 79 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="499EECA71D7BBC869FBC5AE147594B6262AA567E">
                                <pre><code class="language-cpp code-clang-doc">template &lt;typename T&gt;</code></pre>
                                <pre><code class="language-cpp code-clang-doc">void BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt; (T &amp;&amp; Allocator)</code></pre>
                                <p>Defined at line 82 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="90A4CB55F7FEBD52D74A839D6367D8A7608AC585">
                                <pre><code class="language-cpp code-clang-doc">void BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt; (BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt; &amp;&amp; Old)</code></pre>
                                <div>
                                    <div>
                                        <p> Manually implement a move constructor as we must clear the old allocator&#39;s</p>
                                        <p> slabs as a matter of correctness.</p>
                                    </div>
                                </div>
                                <p>Defined at line 87 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="609C0EA589923151F41BFA9D4E95C08B31F42166">
                                <pre><code class="language-cpp code-clang-doc">void ~BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt; ()</code></pre>
                                <p>Defined at line 98 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="627CC22A6A42200F8AE46B73140AC9931615D6D9">
                                <pre><code class="language-cpp code-clang-doc">BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt; &amp; operator= (BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold, GrowthDelay&gt; &amp;&amp; RHS)</code></pre>
                                <p>Defined at line 103 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="68149F217ECCB7DEF19D335EC492B8F7006D6195">
                                <pre><code class="language-cpp code-clang-doc">void Reset ()</code></pre>
                                <div>
                                    <div>
                                        <p> Deallocate all but the current slab and reset the current pointer</p>
                                        <p> to the beginning of it, freeing all memory allocated so far.</p>
                                    </div>
                                </div>
                                <p>Defined at line 124 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CA0E2315CDF47C1A4E540C435CA9BDD72E3FE423">
                                <pre><code class="language-cpp code-clang-doc">void * Allocate (size_t Size, Align Alignment)</code></pre>
                                <div>
                                    <div>
                                        <p> Allocate space at the specified alignment.</p>
                                        <p> This method is *not* marked noalias, because</p>
                                        <p> SpecificBumpPtrAllocator::DestroyAll() loops over all allocations, and</p>
                                        <p> that loop is not based on the Allocate() return value.</p>
                                    </div>
                                    <div>
                                        <p> Allocate(0, N) is valid, it returns a non-null pointer (which should not</p>
                                        <p> be dereferenced).</p>
                                    </div>
                                </div>
                                <p>Defined at line 149 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="BA58E15B3E1CC844D2810852491A559A92468EDE">
                                <pre><code class="language-cpp code-clang-doc">void * AllocateSlow (size_t Size, size_t SizeToAllocate, Align Alignment)</code></pre>
                                <p>Defined at line 182 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="477D9A4C213B3202DF36CF8F6B0D1A742FB98676">
                                <pre><code class="language-cpp code-clang-doc">void * Allocate (size_t Size, size_t Alignment)</code></pre>
                                <p>Defined at line 214 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5C8551947363561338A94D966AEFADA5D7A3FB42">
                                <pre><code class="language-cpp code-clang-doc">void Deallocate (const void * Ptr, size_t Size, size_t )</code></pre>
                                <div>
                                    <div>
                                        <p> Bump pointer allocators are expected to never free their storage; and</p>
                                        <p> clients expect pointers to remain valid for non-dereferencing uses even</p>
                                        <p> after deallocation.</p>
                                    </div>
                                </div>
                                <p>Defined at line 226 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="32F08EC885EC0B6A6F459A1C6360DEB2FB45210F">
                                <pre><code class="language-cpp code-clang-doc">size_t GetNumSlabs ()</code></pre>
                                <p>Defined at line 233 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E9A15687EE8012289DE61115BADB09C297F0A214">
                                <pre><code class="language-cpp code-clang-doc">optional identifyObject (const void * Ptr)</code></pre>
                                <div>
                                    <h3>Returns</h3>
                                    <p> An index uniquely and reproducibly identifying</p>
                                    <p> an input pointer </p>
                                    <p> in the given allocator.</p>
                                    <p> The returned value is negative iff the object is inside a custom-size</p>
                                    <p> slab.</p>
                                    <p> Returns an empty optional if the pointer is not found in the allocator.</p>
                                </div>
                                <p>Defined at line 240 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="47D3D3EAE214FD8D05321195534192ABCA5BD793">
                                <pre><code class="language-cpp code-clang-doc">int64_t identifyKnownObject (const void * Ptr)</code></pre>
                                <div>
                                    <div>
                                        <p> A wrapper around identifyObject that additionally asserts that</p>
                                        <p> the object is indeed within the allocator.</p>
                                    </div>
                                    <h3>Returns</h3>
                                    <p> An index uniquely and reproducibly identifying</p>
                                    <p> an input pointer </p>
                                    <p> in the given allocator.</p>
                                </div>
                                <p>Defined at line 266 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A4E3C1BE6067F840E832232E0E4A7D0988B3EF4C">
                                <pre><code class="language-cpp code-clang-doc">template &lt;typename T&gt;</code></pre>
                                <pre><code class="language-cpp code-clang-doc">int64_t identifyKnownAlignedObject (const void * Ptr)</code></pre>
                                <div>
                                    <div>
                                        <p> A wrapper around identifyKnownObject. Accepts type information</p>
                                        <p> about the object and produces a smaller identifier by relying on</p>
                                        <p> the alignment information. Note that sub-classes may have different</p>
                                        <p> alignment, so the most base class should be passed as template parameter</p>
                                        <p> in order to obtain correct results. For that reason automatic template</p>
                                        <p> parameter deduction is disabled.</p>
                                    </div>
                                    <h3>Returns</h3>
                                    <p> An index uniquely and reproducibly identifying</p>
                                    <p> an input pointer </p>
                                    <p> in the given allocator. This identifier is</p>
                                    <p> different from the ones produced by identifyObject and</p>
                                    <p> identifyAlignedObject.</p>
                                </div>
                                <p>Defined at line 283 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="16A5DEBD4ADAB6D3BE865EDCAD20C6D1F4E7153C">
                                <pre><code class="language-cpp code-clang-doc">size_t getTotalMemory ()</code></pre>
                                <p>Defined at line 289 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="54032D8E53853A8C5EFF4CFEF5CFF891AD1E8F4B">
                                <pre><code class="language-cpp code-clang-doc">size_t getBytesAllocated ()</code></pre>
                                <p>Defined at line 298 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2A70109B7F2D8A539A50988146FF3BF136FDBBFF">
                                <pre><code class="language-cpp code-clang-doc">void setRedZoneSize (size_t NewSize)</code></pre>
                                <p>Defined at line 300 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="08BA9E372BA2EDB54337F49A3F22D3EA3AF622F0">
                                <pre><code class="language-cpp code-clang-doc">void PrintStats ()</code></pre>
                                <p>Defined at line 304 of file llvm/include/llvm/Support/Allocator.h</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

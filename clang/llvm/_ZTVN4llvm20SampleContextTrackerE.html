<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>SampleContextTracker</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">llvm</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class SampleContextTracker</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2563EEDBF32846A8EB191D3AC747122C1DC61BD7">SampleContextTracker</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#EE6555B49EB2572571A56A10E30E1D29A08F23AA">SampleContextTracker</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D220A9DAE3E6B99C0A05EC87C47C718CD525D956">SampleContextTracker</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6650A3AE6BEC2E4953BC4EAACAFD70427B724314">getContextNodeForProfile</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6369D92BABB78DECB1AD10CAC366F531E8991F52">getFuncToCtxtProfiles</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1AB6B4FA4EEE224433BDECF9C125319BF8DA609A">begin</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#24BDDB2BFDA3E4A849482522B11CE1F0559B8925">end</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#980BD970970B8ABB4119C1D39F629086DCD94FFB">populateFuncToCtxtMap</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#191841514CD467A969DEA32DF6FCDDDF20C8580F">getCalleeContextSamplesFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0FE482C8C1563FBA035CEBF36D0D862E1739D628">getIndirectCalleeContextSamplesFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#EC9A7069AFF7B81A92D4B5549BED41EE6891F012">getContextSamplesFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6049374B20CDBAEED054CBDD0052F8D96807EB20">getContextSamplesFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#EB8157F644489D093EE570D9823A6F2761DCD573">getAllContextSamplesFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#ADA7EB8F02A6BFD583C149EAF1A2DA96CA06E300">getAllContextSamplesFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1FC2160C711F06147758943A0DE161306CF03828">getOrCreateContextPath</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C65DB61BDEBFD93C9CC01F27A717AFCDAA76520A">getBaseSamplesFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#8D966420E998D99EEC3EC24BE223006DFCDD04ED">getBaseSamplesFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#65B683E1683DDFA59A2CFB2FDE465EEA4F24EAED">getContextFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#72B44EA78219898A646D2E4F00A2246D98937CF2">getFuncNameFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0797F0AD0F39975122A78579E9EFF990B1396D14">markContextSamplesInlined</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#74F6EE3EB1D504DA7D763C054C66BBAD0DAE4D1E">getRootContext</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CDA7346DC8CF7F79E85F6BC687E69FE54BC07F1D">promoteMergeContextSamplesTree</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2B8BBA5DAA804C075BF3E2D1571F6B0386F29CA7">createContextLessProfileMap</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#26D07BCA2751F48B7404A76BA9A079F0C6A9672A">getContextString</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1834F7BD9A3906B87CCD3FB61DA7BAE9DA1F7ABB">getContextString</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#76320FF6E69D47C798E03FEAB597ED27FA411F80">dump</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class SampleContextTracker</h1>
                        <p>Defined at line 92 of file llvm/include/llvm/Transforms/IPO/SampleContextTracker.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> Profile tracker that manages profiles and its associated context. It</p>
                                <p> provides interfaces used by sample profile loader to query context profile or</p>
                                <p> base profile for given function or location; it also manages context tree</p>
                                <p> manipulation that is needed to accommodate inline decisions so we have</p>
                                <p> accurate post-inline profile for functions. Internally context profiles</p>
                                <p> are organized in a trie, with each node representing profile for specific</p>
                                <p> calling context and the context is identified by path from root to the node.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="2563EEDBF32846A8EB191D3AC747122C1DC61BD7">
                                <pre><code class="language-cpp code-clang-doc">void SampleContextTracker ()</code></pre>
                                <p>Defined at line 96 of file llvm/include/llvm/Transforms/IPO/SampleContextTracker.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="EE6555B49EB2572571A56A10E30E1D29A08F23AA">
                                <pre><code class="language-cpp code-clang-doc">void SampleContextTracker (SampleProfileMap &amp; Profiles, const DenseMap&lt;uint64_t, StringRef&gt; * GUIDToFuncNameMap)</code></pre>
                                <div>
                                    <div>
                                        <p> Profiler tracker than manages profiles and its associated context</p>
                                    </div>
                                </div>
                                <p>Defined at line 198 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D220A9DAE3E6B99C0A05EC87C47C718CD525D956">
                                <pre><code class="language-cpp code-clang-doc">void SampleContextTracker (SampleProfileMap &amp; Profiles, const int * GUIDToFuncNameMap)</code></pre>
                                <p>Defined at line  of file </p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6650A3AE6BEC2E4953BC4EAACAFD70427B724314">
                                <pre><code class="language-cpp code-clang-doc">ContextTrieNode * getContextNodeForProfile (const FunctionSamples * FSamples)</code></pre>
                                <p>Defined at line 142 of file llvm/include/llvm/Transforms/IPO/SampleContextTracker.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6369D92BABB78DECB1AD10CAC366F531E8991F52">
                                <pre><code class="language-cpp code-clang-doc">HashKeyMap&lt;std::unordered_map, FunctionId, ContextSamplesTy&gt; &amp; getFuncToCtxtProfiles ()</code></pre>
                                <p>Defined at line 149 of file llvm/include/llvm/Transforms/IPO/SampleContextTracker.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="1AB6B4FA4EEE224433BDECF9C125319BF8DA609A">
                                <pre><code class="language-cpp code-clang-doc">Iterator begin ()</code></pre>
                                <p>Defined at line 185 of file llvm/include/llvm/Transforms/IPO/SampleContextTracker.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="24BDDB2BFDA3E4A849482522B11CE1F0559B8925">
                                <pre><code class="language-cpp code-clang-doc">Iterator end ()</code></pre>
                                <p>Defined at line 186 of file llvm/include/llvm/Transforms/IPO/SampleContextTracker.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="980BD970970B8ABB4119C1D39F629086DCD94FFB">
                                <pre><code class="language-cpp code-clang-doc">void populateFuncToCtxtMap ()</code></pre>
                                <div>
                                    <div>
                                        <p> Populate the FuncToCtxtProfiles map after the trie is built.</p>
                                    </div>
                                </div>
                                <p>Defined at line 215 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="191841514CD467A969DEA32DF6FCDDDF20C8580F">
                                <pre><code class="language-cpp code-clang-doc">FunctionSamples * getCalleeContextSamplesFor (const CallBase &amp; Inst, StringRef CalleeName)</code></pre>
                                <div>
                                    <div>
                                        <p> Query context profile for a specific callee with given name at a given</p>
                                        <p> call-site. The full context is identified by location of call instruction.</p>
                                    </div>
                                </div>
                                <p>Defined at line 226 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0FE482C8C1563FBA035CEBF36D0D862E1739D628">
                                <pre><code class="language-cpp code-clang-doc">std::vector&lt;const FunctionSamples *&gt; getIndirectCalleeContextSamplesFor (const DILocation * DIL)</code></pre>
                                <div>
                                    <div>
                                        <p> Get samples for indirect call targets for call site at given location.</p>
                                    </div>
                                </div>
                                <p>Defined at line 253 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="EC9A7069AFF7B81A92D4B5549BED41EE6891F012">
                                <pre><code class="language-cpp code-clang-doc">FunctionSamples * getContextSamplesFor (const DILocation * DIL)</code></pre>
                                <div>
                                    <div>
                                        <p> Query context profile for a given location. The full context</p>
                                        <p> is identified by input DILocation.</p>
                                    </div>
                                </div>
                                <p>Defined at line 273 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6049374B20CDBAEED054CBDD0052F8D96807EB20">
                                <pre><code class="language-cpp code-clang-doc">FunctionSamples * getContextSamplesFor (const SampleContext &amp; Context)</code></pre>
                                <div>
                                    <div>
                                        <p> Query context profile for a given sample contxt of a function.</p>
                                    </div>
                                </div>
                                <p>Defined at line 294 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="EB8157F644489D093EE570D9823A6F2761DCD573">
                                <pre><code class="language-cpp code-clang-doc">ContextSamplesTy &amp; getAllContextSamplesFor (const Function &amp; Func)</code></pre>
                                <div>
                                    <div>
                                        <p> Get all context profile for given function.</p>
                                    </div>
                                </div>
                                <p>Defined at line 303 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="ADA7EB8F02A6BFD583C149EAF1A2DA96CA06E300">
                                <pre><code class="language-cpp code-clang-doc">ContextSamplesTy &amp; getAllContextSamplesFor (StringRef Name)</code></pre>
                                <p>Defined at line 309 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="1FC2160C711F06147758943A0DE161306CF03828">
                                <pre><code class="language-cpp code-clang-doc">ContextTrieNode * getOrCreateContextPath (const SampleContext &amp; Context, bool AllowCreate)</code></pre>
                                <p>Defined at line 518 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="C65DB61BDEBFD93C9CC01F27A717AFCDAA76520A">
                                <pre><code class="language-cpp code-clang-doc">FunctionSamples * getBaseSamplesFor (const Function &amp; Func, bool MergeContext)</code></pre>
                                <div>
                                    <div>
                                        <p> Query base profile for a given function. A base profile is a merged view</p>
                                        <p> of all context profiles for contexts that are not inlined.</p>
                                    </div>
                                </div>
                                <p>Defined at line 314 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="8D966420E998D99EEC3EC24BE223006DFCDD04ED">
                                <pre><code class="language-cpp code-clang-doc">FunctionSamples * getBaseSamplesFor (FunctionId Name, bool MergeContext)</code></pre>
                                <div>
                                    <div>
                                        <p> Query base profile for a given function by name.</p>
                                    </div>
                                </div>
                                <p>Defined at line 320 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="65B683E1683DDFA59A2CFB2FDE465EEA4F24EAED">
                                <pre><code class="language-cpp code-clang-doc">ContextTrieNode * getContextFor (const SampleContext &amp; Context)</code></pre>
                                <div>
                                    <div>
                                        <p> Retrieve the context trie node for given profile context</p>
                                    </div>
                                </div>
                                <p>Defined at line 460 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="72B44EA78219898A646D2E4F00A2246D98937CF2">
                                <pre><code class="language-cpp code-clang-doc">StringRef getFuncNameFor (ContextTrieNode * Node)</code></pre>
                                <div>
                                    <div>
                                        <p> Get real function name for a given trie node.</p>
                                    </div>
                                </div>
                                <p>Defined at line 453 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0797F0AD0F39975122A78579E9EFF990B1396D14">
                                <pre><code class="language-cpp code-clang-doc">void markContextSamplesInlined (const FunctionSamples * InlinedSamples)</code></pre>
                                <div>
                                    <div>
                                        <p> Mark a context profile as inlined when function is inlined.</p>
                                        <p> This makes sure that inlined context profile will be excluded in</p>
                                        <p> function&#39;s base profile.</p>
                                    </div>
                                </div>
                                <p>Defined at line 359 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="74F6EE3EB1D504DA7D763C054C66BBAD0DAE4D1E">
                                <pre><code class="language-cpp code-clang-doc">ContextTrieNode &amp; getRootContext ()</code></pre>
                                <p>Defined at line 367 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CDA7346DC8CF7F79E85F6BC687E69FE54BC07F1D">
                                <pre><code class="language-cpp code-clang-doc">void promoteMergeContextSamplesTree (const Instruction &amp; Inst, FunctionId CalleeName)</code></pre>
                                <p>Defined at line 369 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2B8BBA5DAA804C075BF3E2D1571F6B0386F29CA7">
                                <pre><code class="language-cpp code-clang-doc">void createContextLessProfileMap (SampleProfileMap &amp; ContextLessProfiles)</code></pre>
                                <div>
                                    <div>
                                        <p> Create a merged conext-less profile map.</p>
                                    </div>
                                </div>
                                <p>Defined at line 622 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="26D07BCA2751F48B7404A76BA9A079F0C6A9672A">
                                <pre><code class="language-cpp code-clang-doc">basic_string getContextString (const FunctionSamples &amp; FSamples)</code></pre>
                                <div>
                                    <div>
                                        <p> Get a context string from root to current node.</p>
                                    </div>
                                </div>
                                <p>Defined at line 425 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="1834F7BD9A3906B87CCD3FB61DA7BAE9DA1F7ABB">
                                <pre><code class="language-cpp code-clang-doc">basic_string getContextString (ContextTrieNode * Node)</code></pre>
                                <p>Defined at line 430 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="76320FF6E69D47C798E03FEAB597ED27FA411F80">
                                <pre><code class="language-cpp code-clang-doc">void dump ()</code></pre>
                                <div>
                                    <div>
                                        <p> Dump the internal context profile trie.</p>
                                    </div>
                                </div>
                                <p>Defined at line 451 of file llvm/lib/Transforms/IPO/SampleContextTracker.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>LoopVectorizationPlanner</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">llvm</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class LoopVectorizationPlanner</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5DE3D007BDBEDBA6BF28FED690426D2DE39C8633">LoopVectorizationPlanner</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7EEE3CBD2E0136081B52262ADA25069AB3A5BF5E">hasPlanWithVF</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#907C92E3A30D30F7BE962E3648499A6076936B09">plan</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#4BFCFE755EFBE575F87ACF2D8900435064CED9FD">planInVPlanNativePath</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#918EEE0745035382C374D0147C7696D3810C0C91">getPlanFor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#561795B13ED23E3F3A38F21D19C9E8C74F9A8588">computeBestVF</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E226BE13969D90FEE5EA1D3CD90B66E0EA80628E">selectInterleaveCount</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#00C94884A22D26537B72B492B4D750D7EBF967E4">executePlan</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#737AC87E9CB05AE10C35A619BDD65CD547D2FD49">printPlans</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#EE8104AEB59ED0D17FCD76EDE11264AD0A411518">getDecisionAndClampRange</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5BA85267C159A2B4B8AA00501C10ACE150BDB20E">selectEpilogueVectorizationFactor</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5070E655B5344EAC3A33B974EB12E16D70B4FBD4">emitInvalidCostRemarks</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#075E04BFE3869194EAAE97AE79F853F8C644839F">addMinimumIterationCheck</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FF1F9CCA48DEAC3410A3D5E289F8D9D18405B353">updateLoopMetadataAndProfileInfo</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class LoopVectorizationPlanner</h1>
                        <p>Defined at line 442 of file llvm/lib/Transforms/Vectorize/LoopVectorizationPlanner.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> Planner drives the vectorization process after having passed</p>
                                <p> Legality checks.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="5DE3D007BDBEDBA6BF28FED690426D2DE39C8633">
                                <pre><code class="language-cpp code-clang-doc">void LoopVectorizationPlanner (Loop * L, LoopInfo * LI, DominatorTree * DT, const TargetLibraryInfo * TLI, const TargetTransformInfo &amp; TTI, LoopVectorizationLegality * Legal, LoopVectorizationCostModel &amp; CM, InterleavedAccessInfo &amp; IAI, PredicatedScalarEvolution &amp; PSE, const LoopVectorizeHints &amp; Hints, OptimizationRemarkEmitter * ORE)</code></pre>
                                <p>Defined at line 498 of file llvm/lib/Transforms/Vectorize/LoopVectorizationPlanner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="7EEE3CBD2E0136081B52262ADA25069AB3A5BF5E">
                                <pre><code class="language-cpp code-clang-doc">bool hasPlanWithVF (ElementCount VF)</code></pre>
                                <div>
                                    <div>
                                        <p> Look through the existing plans and return true if we have one with</p>
                                        <p> vectorization factor </p>
                                    </div>
                                </div>
                                <p>Defined at line 553 of file llvm/lib/Transforms/Vectorize/LoopVectorizationPlanner.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="907C92E3A30D30F7BE962E3648499A6076936B09">
                                <pre><code class="language-cpp code-clang-doc">void plan (ElementCount UserVF, unsigned int UserIC)</code></pre>
                                <div>
                                    <div>
                                        <p> Build VPlans for the specified </p>
                                        <p> and </p>
                                        <p> if they are</p>
                                        <p> non-zero or all applicable candidate VFs otherwise. If vectorization and</p>
                                        <p> interleaving should be avoided up-front, no plans are generated.</p>
                                    </div>
                                </div>
                                <p>Defined at line 6756 of file llvm/lib/Transforms/Vectorize/LoopVectorize.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="4BFCFE755EFBE575F87ACF2D8900435064CED9FD">
                                <pre><code class="language-cpp code-clang-doc">VectorizationFactor planInVPlanNativePath (ElementCount UserVF)</code></pre>
                                <div>
                                    <div>
                                        <p> Use the VPlan-native path to plan how to best vectorize, return the best</p>
                                        <p> VF and its cost.</p>
                                    </div>
                                </div>
                                <p>Defined at line 6701 of file llvm/lib/Transforms/Vectorize/LoopVectorize.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="918EEE0745035382C374D0147C7696D3810C0C91">
                                <pre><code class="language-cpp code-clang-doc">VPlan &amp; getPlanFor (ElementCount VF)</code></pre>
                                <div>
                                    <div>
                                        <p> Return the VPlan for </p>
                                        <p> At the moment, there is always a single VPlan</p>
                                        <p> for each VF.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1575 of file llvm/lib/Transforms/Vectorize/VPlan.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="561795B13ED23E3F3A38F21D19C9E8C74F9A8588">
                                <pre><code class="language-cpp code-clang-doc">VectorizationFactor computeBestVF ()</code></pre>
                                <div>
                                    <div>
                                        <p> Compute and return the most profitable vectorization factor. Also collect</p>
                                        <p> all profitable VFs in ProfitableVFs.</p>
                                    </div>
                                </div>
                                <p>Defined at line 7150 of file llvm/lib/Transforms/Vectorize/LoopVectorize.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E226BE13969D90FEE5EA1D3CD90B66E0EA80628E">
                                <pre><code class="language-cpp code-clang-doc">unsigned int selectInterleaveCount (VPlan &amp; Plan, ElementCount VF, InstructionCost LoopCost)</code></pre>
                                <div>
                                    <h3>Returns</h3>
                                    <p> The desired interleave count.</p>
                                    <p> If interleave count has been specified by metadata it will be returned.</p>
                                    <p> Otherwise, the interleave count is computed and returned. VF and LoopCost</p>
                                    <p> are the selected vectorization factor and the cost of the selected VF.</p>
                                </div>
                                <p>Defined at line 4610 of file llvm/lib/Transforms/Vectorize/LoopVectorize.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="00C94884A22D26537B72B492B4D750D7EBF967E4">
                                <pre><code class="language-cpp code-clang-doc">DenseMap executePlan (ElementCount VF, unsigned int UF, VPlan &amp; BestPlan, InnerLoopVectorizer &amp; LB, DominatorTree * DT, bool VectorizingEpilogue)</code></pre>
                                <div>
                                    <div>
                                        <p> Generate the IR code for the vectorized loop captured in VPlan </p>
                                        <p> according to the best selected </p>
                                        <p> and  </p>
                                    </div>
                                    <div>
                                        <p> TODO: </p>
                                        <p> indicates if the executed VPlan is for the</p>
                                        <p> epilogue vector loop. It should be removed once the re-use issue has been</p>
                                        <p> fixed.</p>
                                    </div>
                                    <div>
                                        <p> Returns a mapping of SCEVs to their expanded IR values.</p>
                                        <p> Note that this is a temporary workaround needed due to the current</p>
                                        <p> epilogue handling.</p>
                                    </div>
                                </div>
                                <p>Defined at line 7353 of file llvm/lib/Transforms/Vectorize/LoopVectorize.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="737AC87E9CB05AE10C35A619BDD65CD547D2FD49">
                                <pre><code class="language-cpp code-clang-doc">void printPlans (raw_ostream &amp; O)</code></pre>
                                <p>Defined at line 1704 of file llvm/lib/Transforms/Vectorize/VPlan.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="EE8104AEB59ED0D17FCD76EDE11264AD0A411518">
                                <pre><code class="language-cpp code-clang-doc">bool getDecisionAndClampRange (const std::function&lt;bool (ElementCount)&gt; &amp; Predicate, VFRange &amp; Range)</code></pre>
                                <div>
                                    <div>
                                        <p> Test a </p>
                                        <p> on a </p>
                                        <p> of VF&#39;s. Return the value of applying</p>
                                        <p> on Range.Start, possibly decreasing Range.End such that the</p>
                                        <p> returned value holds for the entire </p>
                                    </div>
                                </div>
                                <p>Defined at line 1540 of file llvm/lib/Transforms/Vectorize/VPlan.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5BA85267C159A2B4B8AA00501C10ACE150BDB20E">
                                <pre><code class="language-cpp code-clang-doc">VectorizationFactor selectEpilogueVectorizationFactor (ElementCount MaxVF, unsigned int IC)</code></pre>
                                <div>
                                    <h3>Returns</h3>
                                    <p> The most profitable vectorization factor and the cost of that VF</p>
                                    <p> for vectorizing the epilogue. Returns VectorizationFactor::Disabled if</p>
                                    <p> epilogue vectorization is not supported for the loop.</p>
                                </div>
                                <p>Defined at line 4401 of file llvm/lib/Transforms/Vectorize/LoopVectorize.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5070E655B5344EAC3A33B974EB12E16D70B4FBD4">
                                <pre><code class="language-cpp code-clang-doc">void emitInvalidCostRemarks (OptimizationRemarkEmitter * ORE)</code></pre>
                                <div>
                                    <div>
                                        <p> Emit remarks for recipes with invalid costs in the available VPlans.</p>
                                    </div>
                                </div>
                                <p>Defined at line 3974 of file llvm/lib/Transforms/Vectorize/LoopVectorize.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="075E04BFE3869194EAAE97AE79F853F8C644839F">
                                <pre><code class="language-cpp code-clang-doc">void addMinimumIterationCheck (VPlan &amp; Plan, ElementCount VF, unsigned int UF, ElementCount MinProfitableTripCount)</code></pre>
                                <div>
                                    <div>
                                        <p> Create a check to </p>
                                        <p> to see if the vector loop should be executed</p>
                                        <p> based on its trip count.</p>
                                    </div>
                                </div>
                                <p>Defined at line 9040 of file llvm/lib/Transforms/Vectorize/LoopVectorize.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="FF1F9CCA48DEAC3410A3D5E289F8D9D18405B353">
                                <pre><code class="language-cpp code-clang-doc">void updateLoopMetadataAndProfileInfo (Loop * VectorLoop, VPBasicBlock * HeaderVPBB, const VPlan &amp; Plan, bool VectorizingEpilogue, MDNode * OrigLoopID, optional OrigAverageTripCount, unsigned int OrigLoopInvocationWeight, unsigned int EstimatedVFxUF, bool DisableRuntimeUnroll)</code></pre>
                                <div>
                                    <div>
                                        <p> Update loop metadata and profile info for both the scalar remainder loop</p>
                                        <p> and </p>
                                        <p> if it exists. Keeps all loop hints from the original</p>
                                        <p> loop on the vector loop and replaces vectorizer-specific metadata. The</p>
                                        <p> loop ID of the original loop </p>
                                        <p> must be passed, together with</p>
                                        <p> the average trip count and invocation weight of the original loop (</p>
                                        <p> and </p>
                                        <p> respectively). They</p>
                                        <p> cannot be retrieved after the plan has been executed, as the original loop</p>
                                        <p> may have been removed.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1626 of file llvm/lib/Transforms/Vectorize/VPlan.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

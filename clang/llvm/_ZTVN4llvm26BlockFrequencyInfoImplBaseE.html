<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>BlockFrequencyInfoImplBase</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">llvm</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class BlockFrequencyInfoImplBase</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMembers">Public Members</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#Freqs">Freqs</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#IsIrrLoopHeader">IsIrrLoopHeader</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#Working">Working</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#Loops">Loops</a>
                            </li>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#781500B5FBC0A0740EE2022951829ACBA627326C">addLoopSuccessorsToDist</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#813C8313CBEFDB7DA7321D20B34CE70ABC17FC63">addToDist</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#746DFCF24963DF54B6CCC4DA56ABEDA2DA0C6B51">analyzeIrreducible</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7A4C10AC20EC28632F7289356B3F652F1CCB02AC">~BlockFrequencyInfoImplBase</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A04DFD32018C1F7AC4FCF406A822990C14CAA6C7">print</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#EF18481CE6BE400AFAAF0B84E9E1E0A2F3FEAC5F">dump</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#EB6186B40F43D0A22F132B1A0875DC8C20FFEFA6">getEntryFreq</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#46B26C2D4725E79C0C3F9422694FAE470CB5EA1D">analyzeIrreducible</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#36D8278C4103CB4032A98DD90EBE11DECE5EB1BA">updateLoopWithIrreducible</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E1D316DFF052DA394A42A5A0088591095E902E58">distributeMass</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#DC93E823A5BE9D6C6C0566E4C92E939ACDCD4103">computeLoopScale</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#AF56E6CAA403DBD677EADAA9630B8CA242C2F9E4">adjustLoopHeaderMass</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E2F233278D722BF20559BC2BA46C36AED141A9DE">distributeIrrLoopHeaderMass</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A40F20527FF213FDE95036D46F9AAD97B7D1FC1C">packageLoop</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A3CF01ABDD803361D23469AD552753B07AADB4AD">unwrapLoops</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C0BBC20F26E137A033272F0EC8856D64D4249B72">finalizeMetrics</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5F69FAF8A914398D3CCA5E70B636EFF217D83E1D">clear</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CA66CE47F31E9C0CDDA4D33A8A0ABE6EE7A5B5DF">getBlockName</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#8BF41F46FC3AEEFF3A06AF993B4D0C8AA7C60D3F">getLoopName</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#EAC9E374EAB2FE3F32206125EFFE257ABE200B53">getFloatingBlockFreq</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FEA5A89713CBF3AB49E9705B01BB68D3939E0715">getBlockFreq</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CEAB5D975DE1282C4691E224CC5D99FDFCDE57E2">getBlockProfileCount</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D5E37608194D7EAB7F6FF563737634C6B03EC3F8">getProfileCountFromFreq</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#96035D95A421842F856CB0D295D7C20F58185582">isIrrLoopHeader</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#9C12414EC6A55BDA3281163E6D5E5053A4CC9AA1">setBlockFreq</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class BlockFrequencyInfoImplBase</h1>
                        <p>Defined at line 177 of file llvm/include/llvm/Analysis/BlockFrequencyInfoImpl.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> Base class for BlockFrequencyInfoImpl</p>
                            </div>
                            <div>
                                <p> BlockFrequencyInfoImplBase has supporting data structures and some</p>
                                <p> algorithms for BlockFrequencyInfoImplBase.  Only algorithms that depend on</p>
                                <p> the block type (or that call such algorithms) are skipped here.</p>
                            </div>
                            <div>
                                <p> Nevertheless, the majority of the overall algorithm documentation lives with</p>
                                <p> BlockFrequencyInfoImpl.  See there for details.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMembers" class="section-container">
                    <h2>Public Members</h2>
                    <div>
                        <div id="Freqs" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >vector Freqs</code></pre>
                        </div>
                        <div id="IsIrrLoopHeader" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >SparseBitVector IsIrrLoopHeader</code></pre>
                        </div>
                        <div id="Working" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >vector Working</code></pre>
                        </div>
                        <div id="Loops" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >list Loops</code></pre>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="781500B5FBC0A0740EE2022951829ACBA627326C">
                                <pre><code class="language-cpp code-clang-doc">bool addLoopSuccessorsToDist (const LoopData * OuterLoop, LoopData &amp; Loop, Distribution &amp; Dist)</code></pre>
                                <div>
                                    <div>
                                        <p> Add all edges out of a packaged loop to the distribution.</p>
                                    </div>
                                    <div>
                                        <p> Adds all edges from LocalLoopHead to Dist.  Calls addToDist() to add each</p>
                                        <p> successor edge.</p>
                                    </div>
                                    <h3>Returns</h3>
                                    <p> unless there&#39;s an irreducible backedge.</p>
                                </div>
                                <p>Defined at line 374 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="813C8313CBEFDB7DA7321D20B34CE70ABC17FC63">
                                <pre><code class="language-cpp code-clang-doc">bool addToDist (Distribution &amp; Dist, const LoopData * OuterLoop, const BlockNode &amp; Pred, const BlockNode &amp; Succ, uint64_t Weight)</code></pre>
                                <div>
                                    <div>
                                        <p> Add an edge to the distribution.</p>
                                    </div>
                                    <div>
                                        <p> Adds an edge to Succ to Dist.  If </p>
                                        <p> then whether the</p>
                                        <p> edge is local/exit/backedge is in the context of LoopHead.  Otherwise,</p>
                                        <p> every edge should be a local edge (since all the loops are packaged up).</p>
                                    </div>
                                    <h3>Returns</h3>
                                    <p> unless aborted due to an irreducible backedge.</p>
                                </div>
                                <p>Defined at line 312 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="746DFCF24963DF54B6CCC4DA56ABEDA2DA0C6B51">
                                <pre><code class="language-cpp code-clang-doc">int analyzeIrreducible (const bfi_detail::IrreducibleGraph &amp; G, LoopData * OuterLoop, int Insert)</code></pre>
                                <div>
                                    <div>
                                        <p> Analyze irreducible SCCs.</p>
                                    </div>
                                    <div>
                                        <p> Separate irreducible SCCs from </p>
                                        <p> which is an explicit graph of </p>
                                        <p> (or the top-level function, if </p>
                                        <p> is </p>
                                        <p> Insert them into </p>
                                        <p> before </p>
                                    </div>
                                    <h3>Returns</h3>
                                    <p> the </p>
                                    <p> nodes representing the irreducible SCCs.</p>
                                </div>
                                <p>Defined at line  of file </p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="7A4C10AC20EC28632F7289356B3F652F1CCB02AC">
                                <pre><code class="language-cpp code-clang-doc">void ~BlockFrequencyInfoImplBase ()</code></pre>
                                <div>
                                    <div>
                                        <p> Virtual destructor.</p>
                                    </div>
                                    <div>
                                        <p> Need a virtual destructor to mask the compiler warning about</p>
                                        <p> getBlockName().</p>
                                    </div>
                                </div>
                                <p>Defined at line 435 of file llvm/include/llvm/Analysis/BlockFrequencyInfoImpl.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A04DFD32018C1F7AC4FCF406A822990C14CAA6C7">
                                <pre><code class="language-cpp code-clang-doc">raw_ostream &amp; print (raw_ostream &amp; OS)</code></pre>
                                <p>Defined at line 517 of file llvm/include/llvm/Analysis/BlockFrequencyInfoImpl.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="EF18481CE6BE400AFAAF0B84E9E1E0A2F3FEAC5F">
                                <pre><code class="language-cpp code-clang-doc">void dump ()</code></pre>
                                <p>Defined at line 518 of file llvm/include/llvm/Analysis/BlockFrequencyInfoImpl.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="EB6186B40F43D0A22F132B1A0875DC8C20FFEFA6">
                                <pre><code class="language-cpp code-clang-doc">BlockFrequency getEntryFreq ()</code></pre>
                                <p>Defined at line 533 of file llvm/include/llvm/Analysis/BlockFrequencyInfoImpl.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="46B26C2D4725E79C0C3F9422694FAE470CB5EA1D">
                                <pre><code class="language-cpp code-clang-doc">iterator_range&lt;std::list&lt;LoopData&gt;::iterator&gt; analyzeIrreducible (const bfi_detail::IrreducibleGraph &amp; G, LoopData * OuterLoop, _List_iterator Insert)</code></pre>
                                <div>
                                    <div>
                                        <p> Analyze irreducible SCCs.</p>
                                    </div>
                                    <div>
                                        <p> Separate irreducible SCCs from </p>
                                        <p> which is an explicit graph of </p>
                                        <p> (or the top-level function, if </p>
                                        <p> is </p>
                                        <p> Insert them into </p>
                                        <p> before </p>
                                    </div>
                                    <h3>Returns</h3>
                                    <p> the </p>
                                    <p> nodes representing the irreducible SCCs.</p>
                                </div>
                                <p>Defined at line 780 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="36D8278C4103CB4032A98DD90EBE11DECE5EB1BA">
                                <pre><code class="language-cpp code-clang-doc">void updateLoopWithIrreducible (LoopData &amp; OuterLoop)</code></pre>
                                <div>
                                    <div>
                                        <p> Update a loop after packaging irreducible SCCs inside of it.</p>
                                    </div>
                                    <div>
                                        <p> Update </p>
                                        <p>  Before finding irreducible control flow, it was</p>
                                        <p> partway through </p>
                                        <p> so </p>
                                        <p> and </p>
                                        <p> need to be reset.  Also, nodes that were packaged</p>
                                        <p> up need to be removed from </p>
                                    </div>
                                </div>
                                <p>Defined at line 800 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E1D316DFF052DA394A42A5A0088591095E902E58">
                                <pre><code class="language-cpp code-clang-doc">void distributeMass (const BlockNode &amp; Source, LoopData * OuterLoop, Distribution &amp; Dist)</code></pre>
                                <div>
                                    <div>
                                        <p> Distribute mass according to a distribution.</p>
                                    </div>
                                    <div>
                                        <p> Distributes the mass in Source according to Dist.  If LoopHead.isValid(),</p>
                                        <p> backedges and exits are stored in its entry in Loops.</p>
                                    </div>
                                    <div>
                                        <p> Mass is distributed in parallel from two copies of the source mass.</p>
                                    </div>
                                </div>
                                <p>Defined at line 447 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="DC93E823A5BE9D6C6C0566E4C92E939ACDCD4103">
                                <pre><code class="language-cpp code-clang-doc">void computeLoopScale (LoopData &amp; Loop)</code></pre>
                                <div>
                                    <div>
                                        <p> Compute the loop scale for a loop.</p>
                                    </div>
                                </div>
                                <p>Defined at line 387 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="AF56E6CAA403DBD677EADAA9630B8CA242C2F9E4">
                                <pre><code class="language-cpp code-clang-doc">void adjustLoopHeaderMass (LoopData &amp; Loop)</code></pre>
                                <div>
                                    <div>
                                        <p> Adjust the mass of all headers in an irreducible loop.</p>
                                    </div>
                                    <div>
                                        <p> Initially, irreducible loops are assumed to distribute their mass</p>
                                        <p> equally among its headers. This can lead to wrong frequency estimates</p>
                                        <p> since some headers may be executed more frequently than others.</p>
                                    </div>
                                    <div>
                                        <p> This adjusts header mass distribution so it matches the weights of</p>
                                        <p> the backedges going into each of the loop headers.</p>
                                    </div>
                                </div>
                                <p>Defined at line 812 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E2F233278D722BF20559BC2BA46C36AED141A9DE">
                                <pre><code class="language-cpp code-clang-doc">void distributeIrrLoopHeaderMass (Distribution &amp; Dist)</code></pre>
                                <p>Defined at line 849 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A40F20527FF213FDE95036D46F9AAD97B7D1FC1C">
                                <pre><code class="language-cpp code-clang-doc">void packageLoop (LoopData &amp; Loop)</code></pre>
                                <div>
                                    <div>
                                        <p> Package up a loop.</p>
                                    </div>
                                </div>
                                <p>Defined at line 422 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A3CF01ABDD803361D23469AD552753B07AADB4AD">
                                <pre><code class="language-cpp code-clang-doc">void unwrapLoops ()</code></pre>
                                <div>
                                    <div>
                                        <p> Unwrap loops.</p>
                                    </div>
                                </div>
                                <p>Defined at line 537 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="C0BBC20F26E137A033272F0EC8856D64D4249B72">
                                <pre><code class="language-cpp code-clang-doc">void finalizeMetrics ()</code></pre>
                                <div>
                                    <div>
                                        <p> Finalize frequency metrics.</p>
                                    </div>
                                    <div>
                                        <p> Calculates final frequencies and cleans up no-longer-needed data</p>
                                        <p> structures.</p>
                                    </div>
                                </div>
                                <p>Defined at line 546 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5F69FAF8A914398D3CCA5E70B636EFF217D83E1D">
                                <pre><code class="language-cpp code-clang-doc">void clear ()</code></pre>
                                <div>
                                    <div>
                                        <p> Clear all memory.</p>
                                    </div>
                                </div>
                                <p>Defined at line 292 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CA66CE47F31E9C0CDDA4D33A8A0ABE6EE7A5B5DF">
                                <pre><code class="language-cpp code-clang-doc">basic_string getBlockName (const BlockNode &amp; Node)</code></pre>
                                <p>Defined at line 627 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="8BF41F46FC3AEEFF3A06AF993B4D0C8AA7C60D3F">
                                <pre><code class="language-cpp code-clang-doc">basic_string getLoopName (const LoopData &amp; Loop)</code></pre>
                                <p>Defined at line 632 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="EAC9E374EAB2FE3F32206125EFFE257ABE200B53">
                                <pre><code class="language-cpp code-clang-doc">ScaledNumber getFloatingBlockFreq (const BlockNode &amp; Node)</code></pre>
                                <p>Defined at line 613 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="FEA5A89713CBF3AB49E9705B01BB68D3939E0715">
                                <pre><code class="language-cpp code-clang-doc">BlockFrequency getBlockFreq (const BlockNode &amp; Node)</code></pre>
                                <p>Defined at line 567 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CEAB5D975DE1282C4691E224CC5D99FDFCDE57E2">
                                <pre><code class="language-cpp code-clang-doc">optional getBlockProfileCount (const Function &amp; F, const BlockNode &amp; Node, bool AllowSynthetic)</code></pre>
                                <p>Defined at line 583 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D5E37608194D7EAB7F6FF563737634C6B03EC3F8">
                                <pre><code class="language-cpp code-clang-doc">optional getProfileCountFromFreq (const Function &amp; F, BlockFrequency Freq, bool AllowSynthetic)</code></pre>
                                <p>Defined at line 590 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="96035D95A421842F856CB0D295D7C20F58185582">
                                <pre><code class="language-cpp code-clang-doc">bool isIrrLoopHeader (const BlockNode &amp; Node)</code></pre>
                                <p>Defined at line 606 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="9C12414EC6A55BDA3281163E6D5E5053A4CC9AA1">
                                <pre><code class="language-cpp code-clang-doc">void setBlockFreq (const BlockNode &amp; Node, BlockFrequency Freq)</code></pre>
                                <p>Defined at line 620 of file llvm/lib/Analysis/BlockFrequencyInfoImpl.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

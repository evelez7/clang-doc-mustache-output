<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>MCJIT</title>
        <link rel="stylesheet" type="text/css" href="../clang-doc-mustache.css"/>
        <script src="../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">llvm</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class MCJIT</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#441D8C8925B3916A4A98E1A6252EEC47ED60E86C">setProcessAllSections</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6EFDDE61AB05A7725ECEECA7E215C226CE7896EF">mapSectionAddress</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6252DB848660DBAA5910B29BB529BE79D65C7058">getTargetMachine</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#843F327458B80E7DC29DED785C195152976084DB">Register</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#954A492F7AFB7694C9242B82FDD14F37DCC6B69F">~MCJIT</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#63D4599D1E2B4C64D7022E08ACC28BDE77EF0FA8">addModule</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#EB37EBE1C547BAAB66EB84F95B764AF10DDEF7BC">addObjectFile</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E02EA36D5B495F5A3980693F134901962D53C358">addObjectFile</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#8D1E933F062EB1A6F4D4C5CDF0279949FAB2636B">addArchive</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7457F1CD5F182949099A7F0296C10F8029059329">removeModule</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6E3C7B6A6B255C431322051526858F4D19D0B41E">FindFunctionNamed</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#84B056065A991009CA6400ECAF50733356F02AFB">FindGlobalVariableNamed</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#DB97166582B82256B091D960F7AAC56E901B81DB">setObjectCache</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#98600B670D5A68425AB4E2B456DA54B8EEE33658">generateCodeForModule</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B5E5D39417BAEEA6CF7A172EC718D2927D0A4CB2">finalizeObject</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D0EBA5CAA1895B90279336D90CC9648164FFF101">finalizeModule</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F9D917BA1A48726B3B97CF6E990C6FB5E5005812">finalizeLoadedModules</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F99F3EA1DC59C5CCA3146FA7D09CC98C828C575A">runStaticConstructorsDestructors</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0D8950F031D3A3AF0DD0BCF5B0200CAB7E1EE96D">getPointerToFunction</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#18301683A28EDC2B03FB823610307EBE20B19F74">runFunction</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#4648B133EE790E1470FE08B7A35253F085083D71">getPointerToNamedFunction</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#57957CBDEB2E0CE70B154453AEF4E78AFFE66B64">RegisterJITEventListener</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1FC993D2CF8AE4ADBE773B22F360B519EF824B0F">UnregisterJITEventListener</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#09B443A97CD84E0D99B44B5A868943FC9CFA9B19">getGlobalValueAddress</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#794CC745900039B4D2806696166C441F38FAB036">getFunctionAddress</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6B850AA78048D1FB863B345C529F9157348738FC">createJIT</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C13FD80526CB31B81DED0DC381B8767B476F09C7">findSymbol</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#9683D7622E36AD5AB2A305450FC6F5DB46E91C19">getSymbolAddress</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class MCJIT</h1>
                        <p>Defined at line 66 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> About Module states: added-&gt;loaded-&gt;finalized.</p>
                            </div>
                            <div>
                                <p> The purpose of the &quot;added&quot; state is having modules in standby. (added=known</p>
                                <p> but not compiled). The idea is that you can add a module to provide function</p>
                                <p> definitions but if nothing in that module is referenced by a module in which</p>
                                <p> a function is executed (note the wording here because it&#39;s not exactly the</p>
                                <p> ideal case) then the module never gets compiled. This is sort of lazy</p>
                                <p> compilation.</p>
                            </div>
                            <div>
                                <p> The purpose of the &quot;loaded&quot; state (loaded=compiled and required sections</p>
                                <p> copied into local memory but not yet ready for execution) is to have an</p>
                                <p> intermediate state wherein clients can remap the addresses of sections, using</p>
                                <p> MCJIT::mapSectionAddress, (in preparation for later copying to a new location</p>
                                <p> or an external process) before relocations and page permissions are applied.</p>
                            </div>
                            <div>
                                <p> It might not be obvious at first glance, but the &quot;remote-mcjit&quot; case in the</p>
                                <p> lli tool does this.  In that case, the intermediate action is taken by the</p>
                                <p> RemoteMemoryManager in response to the notifyObjectLoaded function being</p>
                                <p> called.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="441D8C8925B3916A4A98E1A6252EEC47ED60E86C">
                                <pre><code class="language-cpp code-clang-doc">void setProcessAllSections (bool ProcessAllSections)</code></pre>
                                <p>Defined at line 226 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6EFDDE61AB05A7725ECEECA7E215C226CE7896EF">
                                <pre><code class="language-cpp code-clang-doc">void mapSectionAddress (const void * LocalAddress, uint64_t TargetAddress)</code></pre>
                                <div>
                                    <div>
                                        <p> mapSectionAddress - map a section to its target address space value.</p>
                                        <p> Map the address of a JIT section as returned from the memory manager</p>
                                        <p> to the address in the target process as the running code will see it.</p>
                                        <p> This is the address which will be used for relocation resolution.</p>
                                    </div>
                                </div>
                                <p>Defined at line 271 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6252DB848660DBAA5910B29BB529BE79D65C7058">
                                <pre><code class="language-cpp code-clang-doc">TargetMachine * getTargetMachine ()</code></pre>
                                <p>Defined at line 284 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="843F327458B80E7DC29DED785C195152976084DB">
                                <pre><code class="language-cpp code-clang-doc">void Register ()</code></pre>
                                <div>
                                    <div>
                                        <p>@</p>
                                        <p>}</p>
                                    </div>
                                    <div>
                                        <p>@</p>
                                        <p>{</p>
                                    </div>
                                </div>
                                <p>Defined at line 290 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="954A492F7AFB7694C9242B82FDD14F37DCC6B69F">
                                <pre><code class="language-cpp code-clang-doc">void ~MCJIT ()</code></pre>
                                <p>Defined at line 92 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="63D4599D1E2B4C64D7022E08ACC28BDE77EF0FA8">
                                <pre><code class="language-cpp code-clang-doc">void addModule (unique_ptr M)</code></pre>
                                <div>
                                    <div>
                                        <p>@</p>
                                        <p>{</p>
                                    </div>
                                </div>
                                <p>Defined at line 104 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="EB37EBE1C547BAAB66EB84F95B764AF10DDEF7BC">
                                <pre><code class="language-cpp code-clang-doc">void addObjectFile (unique_ptr O)</code></pre>
                                <p>Defined at line 118 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E02EA36D5B495F5A3980693F134901962D53C358">
                                <pre><code class="language-cpp code-clang-doc">void addObjectFile (OwningBinary O)</code></pre>
                                <p>Defined at line 128 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="8D1E933F062EB1A6F4D4C5CDF0279949FAB2636B">
                                <pre><code class="language-cpp code-clang-doc">void addArchive (OwningBinary O)</code></pre>
                                <p>Defined at line 136 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="7457F1CD5F182949099A7F0296C10F8029059329">
                                <pre><code class="language-cpp code-clang-doc">bool removeModule (Module * M)</code></pre>
                                <p>Defined at line 113 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6E3C7B6A6B255C431322051526858F4D19D0B41E">
                                <pre><code class="language-cpp code-clang-doc">Function * FindFunctionNamed (StringRef FnName)</code></pre>
                                <div>
                                    <div>
                                        <p> FindFunctionNamed - Search all of the active modules to find the function that</p>
                                        <p> defines FnName.  This is very slow operation and shouldn&#39;t be used for</p>
                                        <p> general code.</p>
                                    </div>
                                </div>
                                <p>Defined at line 486 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="84B056065A991009CA6400ECAF50733356F02AFB">
                                <pre><code class="language-cpp code-clang-doc">GlobalVariable * FindGlobalVariableNamed (StringRef Name, bool AllowInternal)</code></pre>
                                <div>
                                    <div>
                                        <p> FindGlobalVariableNamed - Search all of the active modules to find the</p>
                                        <p> global variable that defines Name.  This is very slow operation and</p>
                                        <p> shouldn&#39;t be used for general code.</p>
                                    </div>
                                </div>
                                <p>Defined at line 498 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="DB97166582B82256B091D960F7AAC56E901B81DB">
                                <pre><code class="language-cpp code-clang-doc">void setObjectCache (ObjectCache * manager)</code></pre>
                                <div>
                                    <div>
                                        <p> Sets the object manager that MCJIT should use to avoid compilation.</p>
                                    </div>
                                </div>
                                <p>Defined at line 140 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="98600B670D5A68425AB4E2B456DA54B8EEE33658">
                                <pre><code class="language-cpp code-clang-doc">void generateCodeForModule (Module * M)</code></pre>
                                <p>Defined at line 188 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="B5E5D39417BAEEA6CF7A172EC718D2927D0A4CB2">
                                <pre><code class="language-cpp code-clang-doc">void finalizeObject ()</code></pre>
                                <div>
                                    <div>
                                        <p> FIXME: Rename this.</p>
                                    </div>
                                </div>
                                <p>Defined at line 257 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D0EBA5CAA1895B90279336D90CC9648164FFF101">
                                <pre><code class="language-cpp code-clang-doc">void finalizeModule (Module * )</code></pre>
                                <p>Defined at line 270 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F9D917BA1A48726B3B97CF6E990C6FB5E5005812">
                                <pre><code class="language-cpp code-clang-doc">void finalizeLoadedModules ()</code></pre>
                                <p>Defined at line 237 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F99F3EA1DC59C5CCA3146FA7D09CC98C828C575A">
                                <pre><code class="language-cpp code-clang-doc">void runStaticConstructorsDestructors (bool isDtors)</code></pre>
                                <div>
                                    <div>
                                        <p> runStaticConstructorsDestructors - This method is used to execute all of</p>
                                        <p> the static constructors or destructors for a program.</p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>isDtors</b>   - Run the destructors instead of constructors.
                                    </div> 
                                </div>
                                <p>Defined at line 452 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0D8950F031D3A3AF0DD0BCF5B0200CAB7E1EE96D">
                                <pre><code class="language-cpp code-clang-doc">void * getPointerToFunction (Function * F)</code></pre>
                                <div>
                                    <div>
                                        <p> Deprecated.  Use getFunctionAddress instead.</p>
                                    </div>
                                </div>
                                <p>Defined at line 410 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="18301683A28EDC2B03FB823610307EBE20B19F74">
                                <pre><code class="language-cpp code-clang-doc">GenericValue runFunction (Function * F, ArrayRef ArgValues)</code></pre>
                                <p>Defined at line 510 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="4648B133EE790E1470FE08B7A35253F085083D71">
                                <pre><code class="language-cpp code-clang-doc">void * getPointerToNamedFunction (StringRef Name, bool AbortOnFailure)</code></pre>
                                <div>
                                    <div>
                                        <p> getPointerToNamedFunction - This method returns the address of the</p>
                                        <p> specified function by using the dlsym function call.  As such it is only</p>
                                        <p> useful for resolving library symbols, not code generated symbols.</p>
                                    </div>
                                    <div>
                                        <p> If AbortOnFailure is false and no function with the given name is</p>
                                        <p> found, this function silently returns a null pointer. Otherwise,</p>
                                        <p> it prints a message to stderr and aborts.</p>
                                    </div>
                                </div>
                                <p>Defined at line 613 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="57957CBDEB2E0CE70B154453AEF4E78AFFE66B64">
                                <pre><code class="language-cpp code-clang-doc">void RegisterJITEventListener (JITEventListener * L)</code></pre>
                                <p>Defined at line 635 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="1FC993D2CF8AE4ADBE773B22F360B519EF824B0F">
                                <pre><code class="language-cpp code-clang-doc">void UnregisterJITEventListener (JITEventListener * L)</code></pre>
                                <p>Defined at line 642 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="09B443A97CD84E0D99B44B5A868943FC9CFA9B19">
                                <pre><code class="language-cpp code-clang-doc">uint64_t getGlobalValueAddress (const std::string &amp; Name)</code></pre>
                                <div>
                                    <div>
                                        <p> If successful, these function will implicitly finalize all loaded objects.</p>
                                        <p> To get a function address within MCJIT without causing a finalize, use</p>
                                        <p> getSymbolAddress.</p>
                                    </div>
                                </div>
                                <p>Defined at line 393 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="794CC745900039B4D2806696166C441F38FAB036">
                                <pre><code class="language-cpp code-clang-doc">uint64_t getFunctionAddress (const std::string &amp; Name)</code></pre>
                                <p>Defined at line 401 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6B850AA78048D1FB863B345C529F9157348738FC">
                                <pre><code class="language-cpp code-clang-doc">ExecutionEngine * createJIT (unique_ptr M, std::string * ErrorStr, shared_ptr MemMgr, shared_ptr Resolver, unique_ptr TM)</code></pre>
                                <p>Defined at line 43 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="C13FD80526CB31B81DED0DC381B8767B476F09C7">
                                <pre><code class="language-cpp code-clang-doc">JITSymbol findSymbol (const std::string &amp; Name, bool CheckFunctionsOnly)</code></pre>
                                <div>
                                    <div>
                                        <p> Takes a mangled name and returns the corresponding JITSymbol (if a</p>
                                        <p> definition of that mangled name has been added to the JIT).</p>
                                    </div>
                                </div>
                                <p>Defined at line 336 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="9683D7622E36AD5AB2A305450FC6F5DB46E91C19">
                                <pre><code class="language-cpp code-clang-doc">uint64_t getSymbolAddress (const std::string &amp; Name, bool CheckFunctionsOnly)</code></pre>
                                <div>
                                    <div>
                                        <p> DEPRECATED - Please use findSymbol instead.</p>
                                    </div>
                                    <div>
                                        <p> This is not directly exposed via the ExecutionEngine API, but it is</p>
                                        <p> used by the LinkingMemoryManager.</p>
                                    </div>
                                    <div>
                                        <p> getSymbolAddress takes an unmangled name and returns the corresponding</p>
                                        <p> JITSymbol if a definition of the name has been added to the JIT.</p>
                                    </div>
                                </div>
                                <p>Defined at line 319 of file llvm/lib/ExecutionEngine/MCJIT/MCJIT.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

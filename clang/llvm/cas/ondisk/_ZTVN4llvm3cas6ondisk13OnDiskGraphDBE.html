<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>OnDiskGraphDB</title>
        <link rel="stylesheet" type="text/css" href="../../../clang-doc-mustache.css"/>
        <script src="../../../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../../../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../../../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="../../index.html">llvm</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="../index.html">cas</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">ondisk</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class OnDiskGraphDB</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0E5E6B86AE7ADA63B4DC43F4DC1E6DCA8192EB27">getDigest</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A74EE0A6C0C13BB83780952DA4140FB39E121718">containsObject</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E83FAFC6EEB4562E8D8587997EE01F87BD00F398">getObjectRefs</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1F5673B8ABC866399BA855C1C16AF39873F4E346">store</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CBA2108650AF98C9303963B06C4F956B4254B119">load</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7A93A2E734F8B0FA3F0A36CDA908B7BBA94F6575">getReference</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A24CBC94D9EE1DCBE72E13A06B22E0EC8C526D60">getExistingReference</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#194F434A44D60800C5E151F2616FDD14298B9087">isMaterialized</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6D0216988061E3AAE31DBC1814E800592B6E607C">getObjectData</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E9318272873E2C5D4D91856AAC5000057345F91B">getStorageSize</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A356B5D53A7C4C4B52E570FB5C91A1CA8FD1BBD1">getHardStorageLimitUtilization</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A66C1D86DB98E578C74D2089BBC399C8E55A96C0">print</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1B72781845AD2220F8871D6E65DF33FD145B9438">validate</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B7E44542071BDAFC9CD0B6C8FD2E69BCEBE2E46C">open</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CE354E0B3DD0922D521F709A94C76718B7ED3E84">~OnDiskGraphDB</a>
                            </li>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#Enums">Enums</a>
                    </li>
                    <li>
                        <ul>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#Enums">Enums</a>
                    </li>
                    <li>
                        <ul>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class OnDiskGraphDB</h1>
                        <p>Defined at line 256 of file llvm/include/llvm/CAS/OnDiskGraphDB.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> On-disk CAS nodes database, independent of a particular hashing algorithm.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="0E5E6B86AE7ADA63B4DC43F4DC1E6DCA8192EB27">
                                <pre><code class="language-cpp code-clang-doc">ArrayRef getDigest (ObjectID Ref)</code></pre>
                                <div>
                                </div>
                                <p>Defined at line 269 of file llvm/include/llvm/CAS/OnDiskGraphDB.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A74EE0A6C0C13BB83780952DA4140FB39E121718">
                                <pre><code class="language-cpp code-clang-doc">bool containsObject (ObjectID Ref, bool CheckUpstream)</code></pre>
                                <div>
                                    <div>
                                        <p> Check whether the object associated with </p>
                                        <p> is stored in the CAS.</p>
                                        <p> Note that this function does not fault-in.</p>
                                    </div>
                                </div>
                                <p>Defined at line 290 of file llvm/include/llvm/CAS/OnDiskGraphDB.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E83FAFC6EEB4562E8D8587997EE01F87BD00F398">
                                <pre><code class="language-cpp code-clang-doc">iterator_range getObjectRefs (ObjectHandle Node)</code></pre>
                                <div>
                                </div>
                                <p>Defined at line 311 of file llvm/include/llvm/CAS/OnDiskGraphDB.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="1F5673B8ABC866399BA855C1C16AF39873F4E346">
                                <pre><code class="language-cpp code-clang-doc">Error store (ObjectID ID, ArrayRef&lt;ObjectID&gt; Refs, ArrayRef Data)</code></pre>
                                <div>
                                    <div>
                                        <p> Associate data </p>
                                        <p>&amp;</p>
                                        <p> references with a particular object ID. If there is</p>
                                        <p> already a record for this object the operation is a no-op. </p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>ID</b>   the object ID to associate the data &amp; references with. 
                                    </div> 
                                    <div>
                                        <b>Refs</b>   references
                                    </div> 
                                    <div>
                                        <b>Data</b>   data buffer.
                                    </div> 
                                </div>
                                <p>Defined at line 1406 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CBA2108650AF98C9303963B06C4F956B4254B119">
                                <pre><code class="language-cpp code-clang-doc">Expected&lt;std::optional&lt;ObjectHandle&gt;&gt; load (ObjectID Ref)</code></pre>
                                <div>
                                </div>
                                <p>Defined at line 1191 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="7A93A2E734F8B0FA3F0A36CDA908B7BBA94F6575">
                                <pre><code class="language-cpp code-clang-doc">Expected getReference (ArrayRef Hash)</code></pre>
                                <div>
                                    <div>
                                        <p> Form a reference for the provided hash. The reference can be used as part</p>
                                        <p> of a CAS object even if it&#39;s not associated with an object yet.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1101 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A24CBC94D9EE1DCBE72E13A06B22E0EC8C526D60">
                                <pre><code class="language-cpp code-clang-doc">optional getExistingReference (ArrayRef Digest, bool CheckUpstream)</code></pre>
                                <div>
                                    <div>
                                        <p> Get an existing reference to the object </p>
                                    </div>
                                    <div>
                                        <p> Returns </p>
                                        <p> if the object is not stored in this CAS.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1112 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="194F434A44D60800C5E151F2616FDD14298B9087">
                                <pre><code class="language-cpp code-clang-doc">Expected&lt;bool&gt; isMaterialized (ObjectID Ref)</code></pre>
                                <div>
                                    <div>
                                        <p> Check whether the object associated with </p>
                                        <p> is stored in the CAS.</p>
                                        <p> Note that this function will fault-in according to the policy.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1253 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6D0216988061E3AAE31DBC1814E800592B6E607C">
                                <pre><code class="language-cpp code-clang-doc">ArrayRef getObjectData (ObjectHandle Node)</code></pre>
                                <div>
                                </div>
                                <p>Defined at line 1176 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E9318272873E2C5D4D91856AAC5000057345F91B">
                                <pre><code class="language-cpp code-clang-doc">size_t getStorageSize ()</code></pre>
                                <div>
                                    <div>
                                        <p> NOTE: There&#39;s a possibility that the returned size is not including a</p>
                                        <p> large object if the process crashed right at the point of inserting it.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1541 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A356B5D53A7C4C4B52E570FB5C91A1CA8FD1BBD1">
                                <pre><code class="language-cpp code-clang-doc">unsigned int getHardStorageLimitUtilization ()</code></pre>
                                <div>
                                    <div>
                                        <p> Return value is an integer between 0 and 100 for percentage.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1545 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A66C1D86DB98E578C74D2089BBC399C8E55A96C0">
                                <pre><code class="language-cpp code-clang-doc">void print (raw_ostream &amp; OS)</code></pre>
                                <p>Defined at line 1018 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="1B72781845AD2220F8871D6E65DF33FD145B9438">
                                <pre><code class="language-cpp code-clang-doc">Error validate (bool Deep, HashingFuncT Hasher)</code></pre>
                                <div>
                                    <div>
                                        <p> Validate the OnDiskGraphDB.</p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>Deep</b>   if true, rehash all the objects to ensure no data corruption in stored objects, otherwise just validate the structure of CAS database.
                                    </div> 
                                    <div>
                                        <b>Hasher</b>   is the hashing function used for objects inside CAS.
                                    </div> 
                                </div>
                                <p>Defined at line 885 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="B7E44542071BDAFC9CD0B6C8FD2E69BCEBE2E46C">
                                <pre><code class="language-cpp code-clang-doc">Expected&lt;std::unique_ptr&lt;OnDiskGraphDB&gt;&gt; open (StringRef Path, StringRef HashName, unsigned int HashByteSize, OnDiskGraphDB * UpstreamDB, FaultInPolicy Policy)</code></pre>
                                <div>
                                    <div>
                                        <p> Open the on-disk store from a directory.</p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>Path</b>   directory for the on-disk store. The directory will be created if it doesn&#39;t exist.
                                    </div> 
                                    <div>
                                        <b>HashName</b>   Identifier name for the hashing algorithm that is going to be used.
                                    </div> 
                                    <div>
                                        <b>HashByteSize</b>   Size for the object digest hash bytes.
                                    </div> 
                                    <div>
                                        <b>UpstreamDB</b>   Optional on-disk store to be used for faulting-in nodes if they don&#39;t exist in the primary store. The upstream store is only used for reading nodes, new nodes are only written to the primary store. User need to make sure  outlives current instance of OnDiskGraphDB and the common usage is to have an  to manage both.
                                    </div> 
                                    <div>
                                        <b>Policy</b>   If  is provided, controls how nodes are copied to primary store. This is recorded at creation time and subsequent opens need to pass the same policy otherwise the  will fail.
                                    </div> 
                                </div>
                                <p>Defined at line 1551 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CE354E0B3DD0922D521F709A94C76718B7ED3E84">
                                <pre><code class="language-cpp code-clang-doc">void ~OnDiskGraphDB ()</code></pre>
                                <p>Defined at line 1628 of file llvm/lib/CAS/OnDiskGraphDB.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="Enums" class="section-container">
                    <h2>Enumerations</h2>
                    <div>
                    </div>
                </section>
                <section id="Enums" class="section-container">
                    <h2>Enumerations</h2>
                    <div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>LazyRandomTypeCollection</title>
        <link rel="stylesheet" type="text/css" href="../../clang-doc-mustache.css"/>
        <script src="../../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="../index.html">llvm</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">codeview</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class LazyRandomTypeCollection</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D303B5C30B00E37BDDEACD6318DE12BBBE443235">LazyRandomTypeCollection</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#957439D29F5326F091D119E13A2D91FB4CC020ED">LazyRandomTypeCollection</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#011355B5B637044CD1455E6BA08928199510A24D">LazyRandomTypeCollection</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#77A1F17398724D942953B5C8465A3EA59726B167">LazyRandomTypeCollection</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5D912786F9A22151C733A5183134115F729A94C6">LazyRandomTypeCollection</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#4121241A0188EC3EAE9F11CE17C992AE6485CC82">reset</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F9EF62AA17B1DED6B92ED0CF94190BA2D213A447">reset</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#921F96134DAE5E6EB285DDD777B5DCFCB5A0F75D">reset</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#34B981B61834B1F3146FC3919DA47D2250577ADF">getOffsetOfType</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B736C1E57F7F2BAFB92461B8094632214ACA46D6">tryGetType</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#DD8882EEA74AF56327D00B7EA31ABA28ED021B52">getType</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#19660A9B0173B524D693BBD5D7D8969CDFF83F10">getTypeName</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#9D85B19589C36182A357A0CB07FA19514F4F15A1">contains</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3BE5D7D7D704F0B8952FCD6F320B79DCE8E568F0">size</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#52EC3521CEE8BC91414D452DFA324C29765C25C7">capacity</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C7E579DE35DA1A5F0286F167C81E81570C09B941">getFirst</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0FDFD10C5C123E135331910A412D04C5F93C9396">getNext</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#9348EC1837C379993DC49D2C85F85FCCB0E0CCAA">replaceType</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class LazyRandomTypeCollection</h1>
                        <p>Defined at line 49 of file llvm/include/llvm/DebugInfo/CodeView/LazyRandomTypeCollection.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> Provides amortized O(1) random access to a CodeView type stream.</p>
                                <p> Normally to access a type from a type stream, you must know its byte</p>
                                <p> offset into the type stream, because type records are variable-lengthed.</p>
                                <p> However, this is not the way we prefer to access them.  For example, given</p>
                                <p> a symbol record one of the fields may be the TypeIndex of the symbol&#39;s</p>
                                <p> type record.  Or given a type record such as an array type, there might</p>
                                <p> be a TypeIndex for the element type.  Sequential access is perfect when</p>
                                <p> we&#39;re just dumping every entry, but it&#39;s very poor for real world usage.</p>
                            </div>
                            <div>
                                <p> Type streams in PDBs contain an additional field which is a list of pairs</p>
                                <p> containing indices and their corresponding offsets, roughly every ~8KB of</p>
                                <p> record data.  This general idea need not be confined to PDBs though.  By</p>
                                <p> supplying such an array, the producer of a type stream can allow the</p>
                                <p> consumer much better access time, because the consumer can find the nearest</p>
                                <p> index in this array, and do a linear scan forward only from there.</p>
                            </div>
                            <div>
                                <p> LazyRandomTypeCollection implements this algorithm, but additionally goes</p>
                                <p> one step further by caching offsets of every record that has been visited at</p>
                                <p> least once.  This way, even repeated visits of the same record will never</p>
                                <p> require more than one linear scan.  For a type stream of N elements divided</p>
                                <p> into M chunks of roughly equal size, this yields a worst case lookup time</p>
                                <p> of O(N/M) and an amortized time of O(1).</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="D303B5C30B00E37BDDEACD6318DE12BBBE443235">
                                <pre><code class="language-cpp code-clang-doc">void LazyRandomTypeCollection (uint32_t RecordCountHint)</code></pre>
                                <p>Defined at line 31 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="957439D29F5326F091D119E13A2D91FB4CC020ED">
                                <pre><code class="language-cpp code-clang-doc">void LazyRandomTypeCollection (StringRef Data, uint32_t RecordCountHint)</code></pre>
                                <p>Defined at line 47 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="011355B5B637044CD1455E6BA08928199510A24D">
                                <pre><code class="language-cpp code-clang-doc">void LazyRandomTypeCollection (ArrayRef Data, uint32_t RecordCountHint)</code></pre>
                                <p>Defined at line 42 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="77A1F17398724D942953B5C8465A3EA59726B167">
                                <pre><code class="language-cpp code-clang-doc">void LazyRandomTypeCollection (const CVTypeArray &amp; Types, uint32_t RecordCountHint, FixedStreamArray PartialOffsets)</code></pre>
                                <p>Defined at line 35 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5D912786F9A22151C733A5183134115F729A94C6">
                                <pre><code class="language-cpp code-clang-doc">void LazyRandomTypeCollection (const CVTypeArray &amp; Types, uint32_t RecordCountHint)</code></pre>
                                <p>Defined at line 52 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="4121241A0188EC3EAE9F11CE17C992AE6485CC82">
                                <pre><code class="language-cpp code-clang-doc">void reset (ArrayRef Data, uint32_t RecordCountHint)</code></pre>
                                <p>Defined at line 73 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F9EF62AA17B1DED6B92ED0CF94190BA2D213A447">
                                <pre><code class="language-cpp code-clang-doc">void reset (StringRef Data, uint32_t RecordCountHint)</code></pre>
                                <p>Defined at line 68 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="921F96134DAE5E6EB285DDD777B5DCFCB5A0F75D">
                                <pre><code class="language-cpp code-clang-doc">void reset (BinaryStreamReader &amp; Reader, uint32_t RecordCountHint)</code></pre>
                                <p>Defined at line 56 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="34B981B61834B1F3146FC3919DA47D2250577ADF">
                                <pre><code class="language-cpp code-clang-doc">uint32_t getOffsetOfType (TypeIndex Index)</code></pre>
                                <p>Defined at line 79 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="B736C1E57F7F2BAFB92461B8094632214ACA46D6">
                                <pre><code class="language-cpp code-clang-doc">std::optional&lt;CVType&gt; tryGetType (TypeIndex Index)</code></pre>
                                <p>Defined at line 96 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="DD8882EEA74AF56327D00B7EA31ABA28ED021B52">
                                <pre><code class="language-cpp code-clang-doc">CVRecord getType (TypeIndex Index)</code></pre>
                                <p>Defined at line 86 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="19660A9B0173B524D693BBD5D7D8969CDFF83F10">
                                <pre><code class="language-cpp code-clang-doc">StringRef getTypeName (TypeIndex Index)</code></pre>
                                <p>Defined at line 110 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="9D85B19589C36182A357A0CB07FA19514F4F15A1">
                                <pre><code class="language-cpp code-clang-doc">bool contains (TypeIndex Index)</code></pre>
                                <p>Defined at line 132 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3BE5D7D7D704F0B8952FCD6F320B79DCE8E568F0">
                                <pre><code class="language-cpp code-clang-doc">uint32_t size ()</code></pre>
                                <p>Defined at line 143 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="52EC3521CEE8BC91414D452DFA324C29765C25C7">
                                <pre><code class="language-cpp code-clang-doc">uint32_t capacity ()</code></pre>
                                <p>Defined at line 145 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="C7E579DE35DA1A5F0286F167C81E81570C09B941">
                                <pre><code class="language-cpp code-clang-doc">optional getFirst ()</code></pre>
                                <p>Defined at line 201 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0FDFD10C5C123E135331910A412D04C5F93C9396">
                                <pre><code class="language-cpp code-clang-doc">optional getNext (TypeIndex Prev)</code></pre>
                                <p>Defined at line 210 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="9348EC1837C379993DC49D2C85F85FCCB0E0CCAA">
                                <pre><code class="language-cpp code-clang-doc">bool replaceType (TypeIndex &amp; Index, CVRecord Data, bool Stabilize)</code></pre>
                                <p>Defined at line 278 of file llvm/lib/DebugInfo/CodeView/LazyRandomTypeCollection.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>Shape</title>
        <link rel="stylesheet" type="text/css" href="../../clang-doc-mustache.css"/>
        <script src="../../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="../index.html">llvm</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">coro</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>struct Shape</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMembers">Public Members</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CoroBegin">CoroBegin</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CoroEnds">CoroEnds</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CoroIsInRampInsts">CoroIsInRampInsts</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CoroSizes">CoroSizes</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CoroAligns">CoroAligns</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CoroSuspends">CoroSuspends</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CoroAwaitSuspends">CoroAwaitSuspends</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#SymmetricTransfers">SymmetricTransfers</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#SwiftErrorOps">SwiftErrorOps</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#ABI">ABI</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FrameTy">FrameTy</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FrameAlign">FrameAlign</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FrameSize">FrameSize</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FramePtr">FramePtr</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#AllocaSpillBlock">AllocaSpillBlock</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#"></a>
                            </li>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B6DCA04ABCFF8AE6B98B1BBADE6F272D02087224">clear</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#BA277DDA5180678CFEDF4F94CEAE95F5F0283E90">analyze</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3EC9D9DEDA9E028DB675B33899B7309D76CEB61E">Shape</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3E932F1F9FE90C5CB0E8406703A1160B996C458D">Shape</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F0D430608E8AB926012C695D4F8850A9ED896576">invalidateCoroutine</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#60A50A4B44E74B4B534EDCBFE6C9D5FAF9E0BA97">initABI</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0A90FF004BA81B2C24E43150B9CD0D0594B07DFE">cleanCoroutine</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#DB14683FAC57848999BB3443284D153DF0DF1ED6">emitAlloc</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E214E33E8B1416847C67544225DDC22030681237">emitAlloc</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FD9B4F6F28BF72FCEBDEE4FEB9BA3A2FF1364944">emitDealloc</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3DCE64D3EF63276887CCED43F4B0C3F4A8F3A4DC">getSwitchCoroId</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2CB3738397C1FAC97C7C5D714D384455DD419D3D">getRetconCoroId</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#19A0757D52DA1964B26DF1284A4EAFE5EC077D99">getAsyncCoroId</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3E3C146A9425BD7F58B071C0C65558CDC39B4415">getSwitchIndexField</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#84522AE18F67CE05D194548EE5A4A475B0D52E47">getIndexType</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B106CD75A40C6AC0985AE826C2B7F5BB496B7949">getIndex</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1234EEF971CFFC35A3CA2AB8247E356C77F4812A">getSwitchResumePointerType</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#835CF1B506B7533C3FC411D79E7786E62ED92EF0">getResumeFunctionType</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#03B7C345381D89161F7D9BAB54C3337454AFF153">getRetconResultTypes</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0257150C94F8D8860432D67E9A376AB1470B1F88">getRetconResumeTypes</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#22CA9103AA021B72F8DF15C36A4477C24F69CF4F">getResumeFunctionCC</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#72E5C4CDE85DEE52611B4D0630C633179355B904">getPromiseAlloca</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#9BEDF482E67E6FF148A5E9AEAD65672C238F4D77">getInsertPtAfterFramePtr</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F64B1F11E76424C91CB03A37336FC64FD1A0B281">emitDealloc</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">struct Shape</h1>
                        <p>Defined at line 53 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> Holds structural Coroutine Intrinsics for a particular function and other</p>
                                <p> values used during CoroSplit pass.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMembers" class="section-container">
                    <h2>Public Members</h2>
                    <div>
                        <div id="CoroBegin" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >CoroBeginInst * CoroBegin</code></pre>
                        </div>
                        <div id="CoroEnds" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >SmallVector CoroEnds</code></pre>
                        </div>
                        <div id="CoroIsInRampInsts" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >SmallVector CoroIsInRampInsts</code></pre>
                        </div>
                        <div id="CoroSizes" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >SmallVector CoroSizes</code></pre>
                        </div>
                        <div id="CoroAligns" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >SmallVector CoroAligns</code></pre>
                        </div>
                        <div id="CoroSuspends" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >SmallVector CoroSuspends</code></pre>
                        </div>
                        <div id="CoroAwaitSuspends" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >SmallVector CoroAwaitSuspends</code></pre>
                        </div>
                        <div id="SymmetricTransfers" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >SmallVector SymmetricTransfers</code></pre>
                        </div>
                        <div id="SwiftErrorOps" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >SmallVector SwiftErrorOps</code></pre>
                        </div>
                        <div id="ABI" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >ABI ABI</code></pre>
                        </div>
                        <div id="FrameTy" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >StructType * FrameTy</code></pre>
                        </div>
                        <div id="FrameAlign" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >Align FrameAlign</code></pre>
                        </div>
                        <div id="FrameSize" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >uint64_t FrameSize</code></pre>
                        </div>
                        <div id="FramePtr" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >Value * FramePtr</code></pre>
                        </div>
                        <div id="AllocaSpillBlock" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >BasicBlock * AllocaSpillBlock</code></pre>
                        </div>
                        <div id="" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" > </code></pre>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="B6DCA04ABCFF8AE6B98B1BBADE6F272D02087224">
                                <pre><code class="language-cpp code-clang-doc">void clear ()</code></pre>
                                <p>Defined at line 66 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="BA277DDA5180678CFEDF4F94CEAE95F5F0283E90">
                                <pre><code class="language-cpp code-clang-doc">void analyze (Function &amp; F, SmallVectorImpl&lt;CoroFrameInst *&gt; &amp; CoroFrames, SmallVectorImpl&lt;CoroSaveInst *&gt; &amp; UnusedCoroSaves, CoroPromiseInst *&amp; CoroPromise)</code></pre>
                                <div>
                                    <div>
                                        <p> Collect &quot;interesting&quot; coroutine intrinsics.</p>
                                    </div>
                                </div>
                                <p>Defined at line 182 of file llvm/lib/Transforms/Coroutines/Coroutines.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3EC9D9DEDA9E028DB675B33899B7309D76CEB61E">
                                <pre><code class="language-cpp code-clang-doc">void Shape ()</code></pre>
                                <p>Defined at line 273 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3E932F1F9FE90C5CB0E8406703A1160B996C458D">
                                <pre><code class="language-cpp code-clang-doc">void Shape (Function &amp; F)</code></pre>
                                <p>Defined at line 274 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F0D430608E8AB926012C695D4F8850A9ED896576">
                                <pre><code class="language-cpp code-clang-doc">void invalidateCoroutine (Function &amp; F, SmallVectorImpl&lt;CoroFrameInst *&gt; &amp; CoroFrames)</code></pre>
                                <div>
                                    <div>
                                        <p> If for some reason, we were not able to find coro.begin, bailout.</p>
                                    </div>
                                </div>
                                <p>Defined at line 346 of file llvm/lib/Transforms/Coroutines/Coroutines.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="60A50A4B44E74B4B534EDCBFE6C9D5FAF9E0BA97">
                                <pre><code class="language-cpp code-clang-doc">void initABI ()</code></pre>
                                <div>
                                    <div>
                                        <p> Perform ABI related initial transformation</p>
                                    </div>
                                </div>
                                <p>Defined at line  of file </p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0A90FF004BA81B2C24E43150B9CD0D0594B07DFE">
                                <pre><code class="language-cpp code-clang-doc">void cleanCoroutine (SmallVectorImpl&lt;CoroFrameInst *&gt; &amp; CoroFrames, SmallVectorImpl&lt;CoroSaveInst *&gt; &amp; UnusedCoroSaves, CoroPromiseInst * CoroPromise)</code></pre>
                                <div>
                                    <div>
                                        <p> Remove orphaned and unnecessary intrinsics</p>
                                    </div>
                                </div>
                                <p>Defined at line 476 of file llvm/lib/Transforms/Coroutines/Coroutines.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="DB14683FAC57848999BB3443284D153DF0DF1ED6">
                                <pre><code class="language-cpp code-clang-doc">Value * emitAlloc (int &amp; Builder, Value * Size, CallGraph * CG)</code></pre>
                                <div>
                                    <div>
                                        <p> Allocate memory according to the rules of the active lowering.</p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>CG</b>   - if non-null, will be updated for the new call
                                    </div> 
                                </div>
                                <p>Defined at line  of file </p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E214E33E8B1416847C67544225DDC22030681237">
                                <pre><code class="language-cpp code-clang-doc">Value * emitAlloc (IRBuilder&lt;&gt; &amp; Builder, Value * Size, CallGraph * CG)</code></pre>
                                <div>
                                    <div>
                                        <p> Allocate memory according to the rules of the active lowering.</p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>CG</b>   - if non-null, will be updated for the new call
                                    </div> 
                                </div>
                                <p>Defined at line 509 of file llvm/lib/Transforms/Coroutines/Coroutines.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="FD9B4F6F28BF72FCEBDEE4FEB9BA3A2FF1364944">
                                <pre><code class="language-cpp code-clang-doc">void emitDealloc (int &amp; Builder, Value * Ptr, CallGraph * CG)</code></pre>
                                <div>
                                    <div>
                                        <p> Deallocate memory according to the rules of the active lowering.</p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>CG</b>   - if non-null, will be updated for the new call
                                    </div> 
                                </div>
                                <p>Defined at line  of file </p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3DCE64D3EF63276887CCED43F4B0C3F4A8F3A4DC">
                                <pre><code class="language-cpp code-clang-doc">CoroIdInst * getSwitchCoroId ()</code></pre>
                                <p>Defined at line 160 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2CB3738397C1FAC97C7C5D714D384455DD419D3D">
                                <pre><code class="language-cpp code-clang-doc">AnyCoroIdRetconInst * getRetconCoroId ()</code></pre>
                                <p>Defined at line 165 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="19A0757D52DA1964B26DF1284A4EAFE5EC077D99">
                                <pre><code class="language-cpp code-clang-doc">CoroIdAsyncInst * getAsyncCoroId ()</code></pre>
                                <p>Defined at line 170 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3E3C146A9425BD7F58B071C0C65558CDC39B4415">
                                <pre><code class="language-cpp code-clang-doc">unsigned int getSwitchIndexField ()</code></pre>
                                <p>Defined at line 175 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="84522AE18F67CE05D194548EE5A4A475B0D52E47">
                                <pre><code class="language-cpp code-clang-doc">IntegerType * getIndexType ()</code></pre>
                                <p>Defined at line 180 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="B106CD75A40C6AC0985AE826C2B7F5BB496B7949">
                                <pre><code class="language-cpp code-clang-doc">ConstantInt * getIndex (uint64_t Value)</code></pre>
                                <p>Defined at line 185 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="1234EEF971CFFC35A3CA2AB8247E356C77F4812A">
                                <pre><code class="language-cpp code-clang-doc">PointerType * getSwitchResumePointerType ()</code></pre>
                                <p>Defined at line 189 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="835CF1B506B7533C3FC411D79E7786E62ED92EF0">
                                <pre><code class="language-cpp code-clang-doc">FunctionType * getResumeFunctionType ()</code></pre>
                                <p>Defined at line 195 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="03B7C345381D89161F7D9BAB54C3337454AFF153">
                                <pre><code class="language-cpp code-clang-doc">ArrayRef getRetconResultTypes ()</code></pre>
                                <p>Defined at line 212 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="0257150C94F8D8860432D67E9A376AB1470B1F88">
                                <pre><code class="language-cpp code-clang-doc">ArrayRef getRetconResumeTypes ()</code></pre>
                                <p>Defined at line 224 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="22CA9103AA021B72F8DF15C36A4477C24F69CF4F">
                                <pre><code class="language-cpp code-clang-doc">CallingConv::ID getResumeFunctionCC ()</code></pre>
                                <p>Defined at line 232 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="72E5C4CDE85DEE52611B4D0630C633179355B904">
                                <pre><code class="language-cpp code-clang-doc">AllocaInst * getPromiseAlloca ()</code></pre>
                                <p>Defined at line 246 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="9BEDF482E67E6FF148A5E9AEAD65672C238F4D77">
                                <pre><code class="language-cpp code-clang-doc">ilist_iterator_w_bits getInsertPtAfterFramePtr ()</code></pre>
                                <p>Defined at line 252 of file llvm/include/llvm/Transforms/Coroutines/CoroShape.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F64B1F11E76424C91CB03A37336FC64FD1A0B281">
                                <pre><code class="language-cpp code-clang-doc">void emitDealloc (IRBuilder&lt;&gt; &amp; Builder, Value * Ptr, CallGraph * CG)</code></pre>
                                <div>
                                    <div>
                                        <p> Deallocate memory according to the rules of the active lowering.</p>
                                    </div>
                                    <h3>Parameters</h3>
                                    <div>
                                        <b>CG</b>   - if non-null, will be updated for the new call
                                    </div> 
                                </div>
                                <p>Defined at line 532 of file llvm/lib/Transforms/Coroutines/Coroutines.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

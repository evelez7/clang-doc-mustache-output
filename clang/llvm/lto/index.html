<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>lto</title>
        <link rel="stylesheet" type="text/css" href="../../clang-doc-mustache.css"/>
        <script src="../../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="../index.html">llvm</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>lto</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#Classes">Inner Classes</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E0826064EBAB92B13DF372AEC433351C4ED6FDD9">Config</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7D63660C9ADA562C43C078C447E2AD2292C94C72">InputFile</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FAC7CBEBD0795424FA4CD012F5713E826D1AD741">LTO</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C798051E325E2F19CB2E72D898D1833072B91517">LTOLLVMContext</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#EF1141FD50B470E86DE885EB3868F99393FE16E8">LTOLLVMDiagnosticHandler</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B9D88C334C531191E612A22346A68CCD2359B9D6">SymbolResolution</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#825FD69D3382B41E4D6783C3D19EA7A541FEDA8E">ThinBackend</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0D881BC07937C341FA5A8E43B0B1752162049AA0">ThinBackendProc</a>
                            </li>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#Functions">Functions</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2B07E9169646D259B1973D72C2440AA90BA1D0D0">opt</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#4A3CF811F8C89885529CD3C19CC8DF4E9EE5A26E">backend</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#68CF2407A4C0356C66B9E49232BD9ABBAE6830CE">thinBackend</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E3F12EF368FBA8DE897D42852E51967809C4A338">thinBackend</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#4BFCAEDEE318949F50145F892324165734809A75">finalizeOptimizationRemarks</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B434B117CA248C5C0FB8D0ABC650DBE897450FB2">findThinLTOModule</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#1D21D62E70B03F1BF553CE964D13FBF1F86AE9F5">findThinLTOModule</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#AFF917DC2D34FB52DBF351573CBA332E72B20412">initImportList</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A1B19929C38F3163A66974C10AA328BC75902358">getThinLTODefaultCPU</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#0D231C0A1D3AFD04FA3AA67995FA81BA46644249">getThinLTOOutputFile</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C42314519138FAA757BCDBE2FD1D6D2C65D6AFFA">setupLLVMOptimizationRemarks</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C7ED72CB46C080BC259DB52A3C43B7E3998486C3">setupStatsFile</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#7C6BEC047E7DEFE0E17237CB468A4D19374F3517">generateModulesOrdering</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#BADC4E9A2B0F96D55CE4309F550E13E62F64700D">createInProcessThinBackend</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E84A45ABE649BB25C494FFA8B455AB2B9659F934">createOutOfProcessThinBackend</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6461664525030C627ACDE6DC69998BBD58F06408">createWriteIndexesThinBackend</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section id="Classes" class="section-container">
                    <h2>Inner Classes</h2>
                    <ul class="class-container">
                        <li id="E0826064EBAB92B13DF372AEC433351C4ED6FDD9" style="max-height: 40px;">
                            <a href="_ZTVN4llvm3lto6ConfigE.html">
                                <pre><code class="language-cpp code-clang-doc">class Config</code></pre>
                            </a>
                        </li>
                        <li id="7D63660C9ADA562C43C078C447E2AD2292C94C72" style="max-height: 40px;">
                            <a href="_ZTVN4llvm3lto9InputFileE.html">
                                <pre><code class="language-cpp code-clang-doc">class InputFile</code></pre>
                            </a>
                        </li>
                        <li id="FAC7CBEBD0795424FA4CD012F5713E826D1AD741" style="max-height: 40px;">
                            <a href="_ZTVN4llvm3lto3LTOE.html">
                                <pre><code class="language-cpp code-clang-doc">class LTO</code></pre>
                            </a>
                        </li>
                        <li id="C798051E325E2F19CB2E72D898D1833072B91517" style="max-height: 40px;">
                            <a href="_ZTVN4llvm3lto14LTOLLVMContextE.html">
                                <pre><code class="language-cpp code-clang-doc">class LTOLLVMContext</code></pre>
                            </a>
                        </li>
                        <li id="EF1141FD50B470E86DE885EB3868F99393FE16E8" style="max-height: 40px;">
                            <a href="_ZTVN4llvm3lto24LTOLLVMDiagnosticHandlerE.html">
                                <pre><code class="language-cpp code-clang-doc">class LTOLLVMDiagnosticHandler</code></pre>
                            </a>
                        </li>
                        <li id="B9D88C334C531191E612A22346A68CCD2359B9D6" style="max-height: 40px;">
                            <a href="_ZTVN4llvm3lto16SymbolResolutionE.html">
                                <pre><code class="language-cpp code-clang-doc">class SymbolResolution</code></pre>
                            </a>
                        </li>
                        <li id="825FD69D3382B41E4D6783C3D19EA7A541FEDA8E" style="max-height: 40px;">
                            <a href="_ZTVN4llvm3lto11ThinBackendE.html">
                                <pre><code class="language-cpp code-clang-doc">class ThinBackend</code></pre>
                            </a>
                        </li>
                        <li id="0D881BC07937C341FA5A8E43B0B1752162049AA0" style="max-height: 40px;">
                            <a href="_ZTVN4llvm3lto15ThinBackendProcE.html">
                                <pre><code class="language-cpp code-clang-doc">class ThinBackendProc</code></pre>
                            </a>
                        </li>
                    </ul>
                </section>
                <section id="Functions" class="section-container">
                    <h2>Functions</h2>
                    <ul class="class-container">
                        <li>
                            <div class="delimiter-container">
                                <div id="2B07E9169646D259B1973D72C2440AA90BA1D0D0">
                                    <pre><code class="language-cpp code-clang-doc">bool opt (const Config &amp; Conf, TargetMachine * TM, unsigned int Task, Module &amp; Mod, bool IsThinLTO, ModuleSummaryIndex * ExportSummary, const ModuleSummaryIndex * ImportSummary, const int &amp; CmdArgs)</code></pre>
                                    <div>
                                        <div>
                                            <p> Runs middle-end LTO optimizations on </p>
                                        </div>
                                    </div>
                                    <p>Defined at line 365 of file llvm/lib/LTO/LTOBackend.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="4A3CF811F8C89885529CD3C19CC8DF4E9EE5A26E">
                                    <pre><code class="language-cpp code-clang-doc">Error backend (const Config &amp; C, int AddStream, unsigned int ParallelCodeGenParallelismLevel, Module &amp; M, ModuleSummaryIndex &amp; CombinedIndex)</code></pre>
                                    <div>
                                        <div>
                                            <p> Runs a regular LTO backend. The regular LTO backend can also act as the</p>
                                            <p> regular LTO phase of ThinLTO, which may need to access the combined index.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 559 of file llvm/lib/LTO/LTOBackend.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="68CF2407A4C0356C66B9E49232BD9ABBAE6830CE">
                                    <pre><code class="language-cpp code-clang-doc">Error thinBackend (const Config &amp; C, unsigned int Task, int AddStream, Module &amp; M, const ModuleSummaryIndex &amp; CombinedIndex, const FunctionImporter::ImportMapTy &amp; ImportList, const int &amp; DefinedGlobals, int * ModuleMap, bool CodeGenOnly, int IRAddStream, const int &amp; CmdArgs)</code></pre>
                                    <div>
                                        <div>
                                            <p> Runs a ThinLTO backend.</p>
                                            <p> If </p>
                                            <p> is not nullptr, all the module files to be imported have</p>
                                            <p> already been mapped to memory and the corresponding BitcodeModule objects</p>
                                            <p> are saved in the ModuleMap. If </p>
                                            <p> is nullptr, module files will</p>
                                            <p> be mapped to memory on demand and at any given time during importing, only</p>
                                            <p> one source module will be kept open at the most. If </p>
                                            <p> is true,</p>
                                            <p> the backend will skip optimization and only perform code generation. If</p>
                                            <p> is not nullptr, it will be called just before code generation</p>
                                            <p> to serialize the optimized IR.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line  of file </p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="E3F12EF368FBA8DE897D42852E51967809C4A338">
                                    <pre><code class="language-cpp code-clang-doc">Error thinBackend (const Config &amp; C, unsigned int Task, int AddStream, Module &amp; M, const ModuleSummaryIndex &amp; CombinedIndex, const FunctionImporter::ImportMapTy &amp; ImportList, const GVSummaryMapTy &amp; DefinedGlobals, int * ModuleMap, bool CodeGenOnly, int IRAddStream, const int &amp; CmdArgs)</code></pre>
                                    <div>
                                        <div>
                                            <p> Runs a ThinLTO backend.</p>
                                            <p> If </p>
                                            <p> is not nullptr, all the module files to be imported have</p>
                                            <p> already been mapped to memory and the corresponding BitcodeModule objects</p>
                                            <p> are saved in the ModuleMap. If </p>
                                            <p> is nullptr, module files will</p>
                                            <p> be mapped to memory on demand and at any given time during importing, only</p>
                                            <p> one source module will be kept open at the most. If </p>
                                            <p> is true,</p>
                                            <p> the backend will skip optimization and only perform code generation. If</p>
                                            <p> is not nullptr, it will be called just before code generation</p>
                                            <p> to serialize the optimized IR.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 608 of file llvm/lib/LTO/LTOBackend.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="4BFCAEDEE318949F50145F892324165734809A75">
                                    <pre><code class="language-cpp code-clang-doc">Error finalizeOptimizationRemarks (LLVMRemarkFileHandle DiagOutputFile)</code></pre>
                                    <p>Defined at line 548 of file llvm/lib/LTO/LTOBackend.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="B434B117CA248C5C0FB8D0ABC650DBE897450FB2">
                                    <pre><code class="language-cpp code-clang-doc">BitcodeModule * findThinLTOModule (MutableArrayRef&lt;BitcodeModule&gt; BMs)</code></pre>
                                    <div>
                                        <div>
                                            <p> Returns the BitcodeModule that is ThinLTO.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 743 of file llvm/lib/LTO/LTOBackend.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="1D21D62E70B03F1BF553CE964D13FBF1F86AE9F5">
                                    <pre><code class="language-cpp code-clang-doc">Expected&lt;BitcodeModule&gt; findThinLTOModule (MemoryBufferRef MBRef)</code></pre>
                                    <div>
                                        <div>
                                            <p> Variant of the above.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 755 of file llvm/lib/LTO/LTOBackend.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="AFF917DC2D34FB52DBF351573CBA332E72B20412">
                                    <pre><code class="language-cpp code-clang-doc">bool initImportList (const Module &amp; M, const ModuleSummaryIndex &amp; CombinedIndex, FunctionImporter::ImportMapTy &amp; ImportList)</code></pre>
                                    <div>
                                        <div>
                                            <p> Distributed ThinLTO: collect the referenced modules based on</p>
                                            <p> module summary and initialize ImportList. Returns false if the</p>
                                            <p> operation failed.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 769 of file llvm/lib/LTO/LTOBackend.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="A1B19929C38F3163A66974C10AA328BC75902358">
                                    <pre><code class="language-cpp code-clang-doc">StringLiteral getThinLTODefaultCPU (const Triple &amp; TheTriple)</code></pre>
                                    <p>Defined at line 1776 of file llvm/lib/LTO/LTO.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="0D231C0A1D3AFD04FA3AA67995FA81BA46644249">
                                    <pre><code class="language-cpp code-clang-doc">basic_string getThinLTOOutputFile (StringRef Path, StringRef OldPrefix, StringRef NewPrefix)</code></pre>
                                    <div>
                                        <div>
                                            <p> Given the original </p>
                                            <p> to an output file, replace any path</p>
                                            <p> prefix matching </p>
                                            <p> with </p>
                                            <p> Also, create the</p>
                                            <p> resulting directory if it does not yet exist.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 1794 of file llvm/lib/LTO/LTO.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="C42314519138FAA757BCDBE2FD1D6D2C65D6AFFA">
                                    <pre><code class="language-cpp code-clang-doc">Expected&lt;LLVMRemarkFileHandle&gt; setupLLVMOptimizationRemarks (LLVMContext &amp; Context, StringRef RemarksFilename, StringRef RemarksPasses, StringRef RemarksFormat, bool RemarksWithHotness, optional RemarksHotnessThreshold, int Count)</code></pre>
                                    <div>
                                        <div>
                                            <p> Setup optimization remarks.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 2149 of file llvm/lib/LTO/LTO.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="C7ED72CB46C080BC259DB52A3C43B7E3998486C3">
                                    <pre><code class="language-cpp code-clang-doc">int setupStatsFile (StringRef StatsFilename)</code></pre>
                                    <div>
                                        <div>
                                            <p> Setups the output file for saving statistics.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 2173 of file llvm/lib/LTO/LTO.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="7C6BEC047E7DEFE0E17237CB468A4D19374F3517">
                                    <pre><code class="language-cpp code-clang-doc">int generateModulesOrdering (ArrayRef&lt;BitcodeModule *&gt; R)</code></pre>
                                    <div>
                                        <div>
                                            <p> Compute the ordering we will process the inputs: the rough heuristic here</p>
                                            <p> is to sort them per size so that the largest module get schedule as soon as</p>
                                            <p> possible. This is purely a compile-time optimization.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 2193 of file llvm/lib/LTO/LTO.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="BADC4E9A2B0F96D55CE4309F550E13E62F64700D">
                                    <pre><code class="language-cpp code-clang-doc">ThinBackend createInProcessThinBackend (ThreadPoolStrategy Parallelism, IndexWriteCallback OnWrite, bool ShouldEmitIndexFiles, bool ShouldEmitImportsFiles)</code></pre>
                                    <div>
                                        <div>
                                            <p> This ThinBackend runs the individual backend jobs in-process.</p>
                                            <p> The default value means to use one job per hardware core (not hyper-thread).</p>
                                            <p> OnWrite is callback which receives module identifier and notifies LTO user</p>
                                            <p> that index file for the module (and optionally imports file) was created.</p>
                                            <p> ShouldEmitIndexFiles being true will write sharded ThinLTO index files</p>
                                            <p> to the same path as the input module, with suffix &quot;.thinlto.bc&quot;</p>
                                            <p> ShouldEmitImportsFiles is true it also writes a list of imported files to a</p>
                                            <p> similar path with &quot;.imports&quot; appended instead.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 1760 of file llvm/lib/LTO/LTO.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="E84A45ABE649BB25C494FFA8B455AB2B9659F934">
                                    <pre><code class="language-cpp code-clang-doc">ThinBackend createOutOfProcessThinBackend (ThreadPoolStrategy Parallelism, IndexWriteCallback OnWrite, bool ShouldEmitIndexFiles, bool ShouldEmitImportsFiles, StringRef LinkerOutputFile, StringRef Distributor, ArrayRef&lt;StringRef&gt; DistributorArgs, StringRef RemoteCompiler, ArrayRef&lt;StringRef&gt; RemoteCompilerPrependArgs, ArrayRef&lt;StringRef&gt; RemoteCompilerArgs, bool SaveTemps)</code></pre>
                                    <div>
                                        <div>
                                            <p> This ThinBackend generates the index shards and then runs the individual</p>
                                            <p> backend jobs via an external process. It takes the same parameters as the</p>
                                            <p> InProcessThinBackend; however, these parameters only control the behavior</p>
                                            <p> when generating the index files for the modules. Additionally:</p>
                                            <p> LinkerOutputFile is a string that should identify this LTO invocation in</p>
                                            <p> the context of a wider build. It&#39;s used for naming to aid the user in</p>
                                            <p> identifying activity related to a specific LTO invocation.</p>
                                            <p> Distributor specifies the path to a process to invoke to manage the backend</p>
                                            <p> job execution.</p>
                                            <p> DistributorArgs specifies a list of arguments to be applied to the</p>
                                            <p> distributor.</p>
                                            <p> RemoteCompiler specifies the path to a Clang executable to be invoked for</p>
                                            <p> the backend jobs.</p>
                                            <p> RemoteCompilerPrependArgs specifies a list of prepend arguments to be</p>
                                            <p> applied to the backend compilations.</p>
                                            <p> RemoteCompilerArgs specifies a list of arguments to be applied to the</p>
                                            <p> backend compilations.</p>
                                            <p> SaveTemps is a debugging tool that prevents temporary files created by this</p>
                                            <p> backend from being cleaned up.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 2642 of file llvm/lib/LTO/LTO.cpp</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="delimiter-container">
                                <div id="6461664525030C627ACDE6DC69998BBD58F06408">
                                    <pre><code class="language-cpp code-clang-doc">ThinBackend createWriteIndexesThinBackend (ThreadPoolStrategy Parallelismbasic_string OldPrefixbasic_string NewPrefixbasic_string NativeObjectPrefixbool ShouldEmitImportsFilesraw_fd_ostream * LinkedObjectsFileIndexWriteCallback OnWrite)</code></pre>
                                    <div>
                                        <div>
                                            <p> This ThinBackend writes individual module indexes to files, instead of</p>
                                            <p> running the individual backend jobs. This backend is for distributed builds</p>
                                            <p> where separate processes will invoke the real backends.</p>
                                        </div>
                                        <div>
                                            <p> To find the path to write the index to, the backend checks if the path has a</p>
                                            <p> prefix of OldPrefix; if so, it replaces that prefix with NewPrefix. It then</p>
                                            <p> appends &quot;.thinlto.bc&quot; and writes the index to that path. If</p>
                                            <p> ShouldEmitImportsFiles is true it also writes a list of imported files to a</p>
                                            <p> similar path with &quot;.imports&quot; appended instead.</p>
                                            <p> LinkedObjectsFile is an output stream to write the list of object files for</p>
                                            <p> the final ThinLTO linking. Can be nullptr.  If LinkedObjectsFile is not</p>
                                            <p> nullptr and NativeObjectPrefix is not empty then it replaces the prefix of</p>
                                            <p> the objects with NativeObjectPrefix instead of NewPrefix. OnWrite is</p>
                                            <p> callback which receives module identifier and notifies LTO user that index</p>
                                            <p> file for the module (and optionally imports file) was created.</p>
                                        </div>
                                    </div>
                                    <p>Defined at line 1880 of file llvm/lib/LTO/LTO.cpp</p>
                                </div>
                            </div>
                        </li>
                    </ul>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

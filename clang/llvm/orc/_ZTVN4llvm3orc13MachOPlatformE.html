<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>MachOPlatform</title>
        <link rel="stylesheet" type="text/css" href="../../clang-doc-mustache.css"/>
        <script src="../../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="../index.html">llvm</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">orc</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class MachOPlatform</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A0BD395B4AAA49EE3E7D2EAD6408088C4B3CF190">getExecutionSession</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C2193160C79BBA43331EB387CF7E3ABFBFEA2DAE">buildSimpleMachOHeaderMU</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2227D1AE49A2E8F4139315C467561655374B56F4">Create</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#45BB3F8EF504C3282BB1CCBD5AE6B6BFE139D04E">Create</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#F86856797C1B72205C161FF7C2AA6AFDCD6C1A24">getObjectLinkingLayer</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#17D6DB3225E67AAA0915A706E10B48A94840A8F3">getMachOHeaderStartSymbol</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#4330CFF6773E5E8B3F3884770DD9DD229DF64D26">Create</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3001CE9BD75EADCC81BFF2043309A14A4B9C844A">Create</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C083DC515A55C950FAD69205ADF8A0C43D42B5BA">setupJITDylib</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#AA863EC5B44F81D3CF4254D9B83C46528C13A4DD">setupJITDylib</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#523587AE7FB8AA0D7C9FC90FC94E80E633968EEB">teardownJITDylib</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#22010F69952985B5CA57366DECB533EE8BB957C6">notifyAdding</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#045B56F1B22CB49C9C9BED61029510C86D29386B">notifyRemoving</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#B7B7CE60428A3253D24F849A0498A14A1DE9B317">standardPlatformAliases</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#461FFB8C1D9FA0612E036F11AD26BCC5372BC326">requiredCXXAliases</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D4F5A120643C132CEECE0CC9B0866D83638E4BAA">standardRuntimeUtilityAliases</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D046CCD239E6875B70C3CCF24BA46874D2107D33">buildSimpleMachOHeaderMU</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#A6CAB2B2A146B25D3855D78A3E52BA3F1774D25E">standardLazyCompilationAliases</a>
                            </li>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#Enums">Enums</a>
                    </li>
                    <li>
                        <ul>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class MachOPlatform</h1>
                        <p>Defined at line 31 of file llvm/include/llvm/ExecutionEngine/Orc/MachOPlatform.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> Mediates between MachO initialization and ExecutionSession state.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="A0BD395B4AAA49EE3E7D2EAD6408088C4B3CF190">
                                <pre><code class="language-cpp code-clang-doc">ExecutionSession &amp; getExecutionSession ()</code></pre>
                                <p>Defined at line 157 of file llvm/include/llvm/ExecutionEngine/Orc/MachOPlatform.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="C2193160C79BBA43331EB387CF7E3ABFBFEA2DAE">
                                <pre><code class="language-cpp code-clang-doc">unique_ptr buildSimpleMachOHeaderMU (MachOPlatform &amp; MOP, HeaderOptions Opts)</code></pre>
                                <div>
                                    <div>
                                        <p> Simple MachO header graph builder.</p>
                                    </div>
                                </div>
                                <p>Defined at line 417 of file llvm/include/llvm/ExecutionEngine/Orc/MachOPlatform.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2227D1AE49A2E8F4139315C467561655374B56F4">
                                <pre><code class="language-cpp code-clang-doc">Expected Create (ObjectLinkingLayer &amp; ObjLinkingLayer, JITDylib &amp; PlatformJD, unique_ptr OrcRuntime, HeaderOptions PlatformJDOpts, unique_function BuildMachOHeaderMU, optional RuntimeAliases)</code></pre>
                                <div>
                                    <div>
                                        <p> Try to create a MachOPlatform instance, adding the ORC runtime to the</p>
                                        <p> given JITDylib.</p>
                                    </div>
                                    <div>
                                        <p> The ORC runtime requires access to a number of symbols in libc++, and</p>
                                        <p> requires access to symbols in libobjc, and libswiftCore to support</p>
                                        <p> Objective-C and Swift code. It is up to the caller to ensure that the</p>
                                        <p> required symbols can be referenced by code added to PlatformJD. The</p>
                                        <p> standard way to achieve this is to first attach dynamic library search</p>
                                        <p> generators for either the given process, or for the specific required</p>
                                        <p> libraries, to PlatformJD, then to create the platform instance:</p>
                                    </div>
                                    <div>
                                        <p> Alternatively, these symbols could be added to another JITDylib that</p>
                                        <p> PlatformJD links against.</p>
                                    </div>
                                    <div>
                                        <p> Clients are also responsible for ensuring that any JIT&#39;d code that</p>
                                        <p> depends on runtime functions (including any code using TLV or static</p>
                                        <p> destructors) can reference the runtime symbols. This is usually achieved</p>
                                        <p> by linking any JITDylibs containing regular code against</p>
                                        <p> PlatformJD.</p>
                                    </div>
                                    <div>
                                        <p> By default, MachOPlatform will add the set of aliases returned by the</p>
                                        <p> standardPlatformAliases function. This includes both required aliases</p>
                                        <p> (e.g. __cxa_atexit -&gt; __orc_rt_macho_cxa_atexit for static destructor</p>
                                        <p> support), and optional aliases that provide JIT versions of common</p>
                                        <p> functions (e.g. dlopen -&gt; __orc_rt_macho_jit_dlopen). Clients can</p>
                                        <p> override these defaults by passing a non-None value for the</p>
                                        <p> RuntimeAliases function, in which case the client is responsible for</p>
                                        <p> setting up all aliases (including the required ones).</p>
                                    </div>
                                    <h3>Code</h3> 
                                    <div>
                                        <pre class="code-block">
                                            <code>
                                                {.cpp}
                                                   auto &amp;PlatformJD = ES.createBareJITDylib(&quot;stdlib&quot;);
                                                   PlatformJD.addGenerator(
                                                     ExitOnErr(EPCDynamicLibrarySearchGenerator
                                                                 ::GetForTargetProcess(EPC)));
                                                   ES.setPlatform(
                                                     ExitOnErr(MachOPlatform::Create(ES, ObjLayer, EPC, PlatformJD,
                                                                                     &quot;/path/to/orc/runtime&quot;)));
                                            </code>
                                        </pre>
                                    </div>
                                </div>
                                <p>Defined at line 279 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="45BB3F8EF504C3282BB1CCBD5AE6B6BFE139D04E">
                                <pre><code class="language-cpp code-clang-doc">int Create (ObjectLinkingLayer &amp; ObjLinkingLayer, JITDylib &amp; PlatformJD, int OrcRuntime, HeaderOptions PlatformJDOpts, int BuildMachOHeaderMU, std::optional&lt;SymbolAliasMap&gt; RuntimeAliases)</code></pre>
                                <div>
                                    <div>
                                        <p> Try to create a MachOPlatform instance, adding the ORC runtime to the</p>
                                        <p> given JITDylib.</p>
                                    </div>
                                    <div>
                                        <p> The ORC runtime requires access to a number of symbols in libc++, and</p>
                                        <p> requires access to symbols in libobjc, and libswiftCore to support</p>
                                        <p> Objective-C and Swift code. It is up to the caller to ensure that the</p>
                                        <p> required symbols can be referenced by code added to PlatformJD. The</p>
                                        <p> standard way to achieve this is to first attach dynamic library search</p>
                                        <p> generators for either the given process, or for the specific required</p>
                                        <p> libraries, to PlatformJD, then to create the platform instance:</p>
                                    </div>
                                    <div>
                                        <p> Alternatively, these symbols could be added to another JITDylib that</p>
                                        <p> PlatformJD links against.</p>
                                    </div>
                                    <div>
                                        <p> Clients are also responsible for ensuring that any JIT&#39;d code that</p>
                                        <p> depends on runtime functions (including any code using TLV or static</p>
                                        <p> destructors) can reference the runtime symbols. This is usually achieved</p>
                                        <p> by linking any JITDylibs containing regular code against</p>
                                        <p> PlatformJD.</p>
                                    </div>
                                    <div>
                                        <p> By default, MachOPlatform will add the set of aliases returned by the</p>
                                        <p> standardPlatformAliases function. This includes both required aliases</p>
                                        <p> (e.g. __cxa_atexit -&gt; __orc_rt_macho_cxa_atexit for static destructor</p>
                                        <p> support), and optional aliases that provide JIT versions of common</p>
                                        <p> functions (e.g. dlopen -&gt; __orc_rt_macho_jit_dlopen). Clients can</p>
                                        <p> override these defaults by passing a non-None value for the</p>
                                        <p> RuntimeAliases function, in which case the client is responsible for</p>
                                        <p> setting up all aliases (including the required ones).</p>
                                    </div>
                                    <h3>Code</h3> 
                                    <div>
                                        <pre class="code-block">
                                            <code>
                                                {.cpp}
                                                   auto &amp;PlatformJD = ES.createBareJITDylib(&quot;stdlib&quot;);
                                                   PlatformJD.addGenerator(
                                                     ExitOnErr(EPCDynamicLibrarySearchGenerator
                                                                 ::GetForTargetProcess(EPC)));
                                                   ES.setPlatform(
                                                     ExitOnErr(MachOPlatform::Create(ES, ObjLayer, EPC, PlatformJD,
                                                                                     &quot;/path/to/orc/runtime&quot;)));
                                            </code>
                                        </pre>
                                    </div>
                                </div>
                                <p>Defined at line  of file </p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="F86856797C1B72205C161FF7C2AA6AFDCD6C1A24">
                                <pre><code class="language-cpp code-clang-doc">ObjectLinkingLayer &amp; getObjectLinkingLayer ()</code></pre>
                                <p>Defined at line 158 of file llvm/include/llvm/ExecutionEngine/Orc/MachOPlatform.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="17D6DB3225E67AAA0915A706E10B48A94840A8F3">
                                <pre><code class="language-cpp code-clang-doc">NonOwningSymbolStringPtr getMachOHeaderStartSymbol ()</code></pre>
                                <p>Defined at line 160 of file llvm/include/llvm/ExecutionEngine/Orc/MachOPlatform.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="4330CFF6773E5E8B3F3884770DD9DD229DF64D26">
                                <pre><code class="language-cpp code-clang-doc">Expected Create (ObjectLinkingLayer &amp; ObjLinkingLayer, JITDylib &amp; PlatformJD, const char * OrcRuntimePath, HeaderOptions PlatformJDOpts, unique_function BuildMachOHeaderMU, optional RuntimeAliases)</code></pre>
                                <div>
                                    <div>
                                        <p> Construct using a path to the ORC runtime.</p>
                                    </div>
                                </div>
                                <p>Defined at line 324 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3001CE9BD75EADCC81BFF2043309A14A4B9C844A">
                                <pre><code class="language-cpp code-clang-doc">int Create (ObjectLinkingLayer &amp; ObjLinkingLayer, JITDylib &amp; PlatformJD, const char * OrcRuntimePath, HeaderOptions PlatformJDOpts, int BuildMachOHeaderMU, std::optional&lt;SymbolAliasMap&gt; RuntimeAliases)</code></pre>
                                <div>
                                    <div>
                                        <p> Construct using a path to the ORC runtime.</p>
                                    </div>
                                </div>
                                <p>Defined at line  of file </p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="C083DC515A55C950FAD69205ADF8A0C43D42B5BA">
                                <pre><code class="language-cpp code-clang-doc">Error setupJITDylib (JITDylib &amp; JD)</code></pre>
                                <p>Defined at line 342 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="AA863EC5B44F81D3CF4254D9B83C46528C13A4DD">
                                <pre><code class="language-cpp code-clang-doc">Error setupJITDylib (JITDylib &amp; JD, HeaderOptions Opts)</code></pre>
                                <div>
                                    <div>
                                        <p> Install any platform-specific symbols (e.g. `__dso_handle`) and create a</p>
                                        <p> mach-o header based on the given options.</p>
                                    </div>
                                </div>
                                <p>Defined at line 346 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="523587AE7FB8AA0D7C9FC90FC94E80E633968EEB">
                                <pre><code class="language-cpp code-clang-doc">Error teardownJITDylib (JITDylib &amp; JD)</code></pre>
                                <p>Defined at line 353 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="22010F69952985B5CA57366DECB533EE8BB957C6">
                                <pre><code class="language-cpp code-clang-doc">Error notifyAdding (ResourceTracker &amp; RT, const MaterializationUnit &amp; MU)</code></pre>
                                <p>Defined at line 366 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="045B56F1B22CB49C9C9BED61029510C86D29386B">
                                <pre><code class="language-cpp code-clang-doc">Error notifyRemoving (ResourceTracker &amp; RT)</code></pre>
                                <p>Defined at line 382 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="B7B7CE60428A3253D24F849A0498A14A1DE9B317">
                                <pre><code class="language-cpp code-clang-doc">DenseMap standardPlatformAliases (ExecutionSession &amp; ES)</code></pre>
                                <div>
                                    <div>
                                        <p> Returns an AliasMap containing the default aliases for the MachOPlatform.</p>
                                        <p> This can be modified by clients when constructing the platform to add</p>
                                        <p> or remove aliases.</p>
                                    </div>
                                </div>
                                <p>Defined at line 396 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="461FFB8C1D9FA0612E036F11AD26BCC5372BC326">
                                <pre><code class="language-cpp code-clang-doc">ArrayRef requiredCXXAliases ()</code></pre>
                                <div>
                                    <div>
                                        <p> Returns the array of required CXX aliases.</p>
                                    </div>
                                </div>
                                <p>Defined at line 404 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D4F5A120643C132CEECE0CC9B0866D83638E4BAA">
                                <pre><code class="language-cpp code-clang-doc">ArrayRef standardRuntimeUtilityAliases ()</code></pre>
                                <div>
                                    <div>
                                        <p> Returns the array of standard runtime utility aliases for MachO.</p>
                                    </div>
                                </div>
                                <p>Defined at line 412 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D046CCD239E6875B70C3CCF24BA46874D2107D33">
                                <pre><code class="language-cpp code-clang-doc">int buildSimpleMachOHeaderMU (MachOPlatform &amp; MOP, HeaderOptions Opts)</code></pre>
                                <div>
                                    <div>
                                        <p> Simple MachO header graph builder.</p>
                                    </div>
                                </div>
                                <p>Defined at line 417 of file llvm/include/llvm/ExecutionEngine/Orc/MachOPlatform.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="A6CAB2B2A146B25D3855D78A3E52BA3F1774D25E">
                                <pre><code class="language-cpp code-clang-doc">ArrayRef standardLazyCompilationAliases ()</code></pre>
                                <div>
                                    <div>
                                        <p> Returns a list of aliases required to enable lazy compilation via the</p>
                                        <p> ORC runtime.</p>
                                    </div>
                                </div>
                                <p>Defined at line 428 of file llvm/lib/ExecutionEngine/Orc/MachOPlatform.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="Enums" class="section-container">
                    <h2>Enumerations</h2>
                    <div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>

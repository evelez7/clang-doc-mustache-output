<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>RedirectingFileSystem</title>
        <link rel="stylesheet" type="text/css" href="../../clang-doc-mustache.css"/>
        <script src="../../mustache-index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <div class="navbar__logo">
                
            </div>
            <div class="navbar__menu">
                <ul class="navbar__links">
                    <li class="navbar__item">
                        <a href="../../index.html" class="navbar__link">Home</a>
                    </li>
                </ul>
            </div>
            <div class="navbar-breadcrumb-container">
                <div class="navbar-breadcrumb-item"><a href="../../GlobalNamespace/index.html">Global Namespace</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="../index.html">llvm</a></div>&rarr;
                <div class="navbar-breadcrumb-item"><a href="./index.html">vfs</a></div>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="sidebar">
                <h2>class RedirectingFileSystem</h2>
                <ul>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMembers">Public Members</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#ID">ID</a>
                            </li>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#PublicMethods">Public Method</a>
                    </li>
                    <li>
                        <ul>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#BA9218BBCB19A05DBCBC3F0F989E3ED302AAC4C9">create</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#CC497B9D9AF3DFC41DC0A65F01AA0440310E1DBC">hasBeenUsed</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#ED039E6C5346881AB0E34FBB024F68557BDF9CCB">clearHasBeenUsed</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#5AC43160C70D0F122D9A9342B0CD9746C28F78F5">setUsageTrackingActive</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#502C9BE84BD4BB1EE4E3A23F2453930D8DDDD538">lookupPath</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#DE5FEEBBF3EEBE5DB6F139D6649C5DB7B7DF2B95">create</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#81A87EA3FD5EAFC8ADD7159B343CE6115AEA5BE8">create</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#D63D2693980E90A62073B04101E2126A3A26791C">status</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#8FFD347D4C0552A3429C558F63C0BBF06CFADAEC">exists</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#DE710361B5EC941751A9D734581FE3EFDF571134">openFileForRead</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#6D19E212F1C29D9351C08BB0E3EC07559418FBE6">getRealPath</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#9E728EB2EE37935EBC628F32CFF4FC2B209B35B3">getCurrentWorkingDirectory</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#3142CE8F594AEB1BB87DEE56100E24F9CD97AB9E">setCurrentWorkingDirectory</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#505C54D3EEBA39915AD4DD9BE463E30E4F9ECCF8">isLocal</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#C0D69E51B5F4C43ADE49346885359443BF40D605">makeAbsolute</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#94559F7784BBF3DE26DF4DB07382C07ECE61257D">dir_begin</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#2F4B3D5AE3FAE30503353A155443686C0EA21F03">setOverlayFileDir</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#E3873D7747DD0E50939FB60708321A0AA5F3D29D">getOverlayFileDir</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#605087F1CFB53CFD8CA277DE007109E404FA8FA2">setFallthrough</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#4F1DC7871FB3F835F2A2081E8A834D60BACE6E8E">setRedirection</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#4EB2E1DDA2FA501065E2CC3205BD0E80B73F5A25">getRoots</a>
                            </li>
                            <li class="sidebar-item-container">
                                <a class="sidebar-item" href="#FAE7976EA9D978984205A07BCE5065E90D9FBC63">printEntry</a>
                            </li>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#Enums">Enums</a>
                    </li>
                    <li>
                        <ul>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#Enums">Enums</a>
                    </li>
                    <li>
                        <ul>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#Enums">Enums</a>
                    </li>
                    <li>
                        <ul>
                        </ul>
                    </li>
                    <li class="sidebar-section">
                        <a class="sidebar-item" href="#Enums">Enums</a>
                    </li>
                    <li>
                        <ul>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="resizer" id="resizer"></div>
            <div class="content">
                <section class="hero section-container">
                    <div class="hero__title">
                        <h1 class="hero__title-large">class RedirectingFileSystem</h1>
                        <p>Defined at line 784 of file llvm/include/llvm/Support/VirtualFileSystem.h</p>
                        <div class="hero__subtitle">
                            <div>
                                <p> A virtual file system parsed from a YAML file.</p>
                            </div>
                            <div>
                                <p> Currently, this class allows creating virtual files and directories. Virtual</p>
                                <p> files map to existing external files in </p>
                                <p> and virtual</p>
                                <p> directories may either map to existing directories in </p>
                                <p> or list</p>
                                <p> their contents in the form of other virtual directories and/or files.</p>
                            </div>
                            <div>
                                <p> The basic structure of the parsed file is:</p>
                            </div>
                            <div>
                                <p> The roots may be absolute or relative. If relative they will be made</p>
                                <p> absolute against either current working directory or the directory where</p>
                                <p> the Overlay YAML file is located, depending on the &#39;root-relative&#39;</p>
                                <p> configuration.</p>
                            </div>
                            <div>
                                <p> All configuration options are optional.</p>
                                <p>   &#39;case-sensitive&#39;: </p>
                                <p>&lt;boolean</p>
                                <p>, default=(true for Posix, false for Windows)&gt;</p>
                                <p>   &#39;use-external-names&#39;: </p>
                                <p>&lt;boolean</p>
                                <p>, default=true&gt;</p>
                                <p>   &#39;root-relative&#39;: </p>
                                <p>&lt;string</p>
                                <p>, one of &#39;cwd&#39; or &#39;overlay-dir&#39;, default=&#39;cwd&#39;&gt;</p>
                                <p>   &#39;overlay-relative&#39;: </p>
                                <p>&lt;boolean</p>
                                <p>, default=false&gt;</p>
                                <p>   &#39;fallthrough&#39;: </p>
                                <p>&lt;boolean</p>
                                <p>, default=true, deprecated - use &#39;redirecting-with&#39;</p>
                                <p>                   instead&gt;</p>
                                <p>   &#39;redirecting-with&#39;: </p>
                                <p>&lt;string</p>
                                <p>, one of &#39;fallthrough&#39;, &#39;fallback&#39;, or</p>
                                <p>                        &#39;redirect-only&#39;, default=&#39;fallthrough&#39;&gt;</p>
                            </div>
                            <div>
                                <p> To clarify, &#39;root-relative&#39; option will prepend the current working</p>
                                <p> directory, or the overlay directory to the &#39;roots-&gt;name&#39; field only if</p>
                                <p> &#39;roots-&gt;name&#39; is a relative path. On the other hand, when &#39;overlay-relative&#39;</p>
                                <p> is set to &#39;true&#39;, external paths will always be prepended with the overlay</p>
                                <p> directory, even if external paths are not relative paths. The</p>
                                <p> &#39;root-relative&#39; option has no interaction with the &#39;overlay-relative&#39;</p>
                                <p> option.</p>
                            </div>
                            <div>
                                <p> Virtual directories that list their contents are represented as</p>
                            </div>
                            <div>
                                <p> The default attributes for such virtual directories are:</p>
                            </div>
                            <div>
                                <p> When a path prefix matches such a directory, the next component in the path</p>
                                <p> is matched against the entries in the &#39;contents&#39; array.</p>
                            </div>
                            <div>
                                <p> Re-mapped directories, on the other hand, are represented as</p>
                                <p> /// </p>
                            </div>
                            <div>
                                <p> and inherit their attributes from the external directory. When a path</p>
                                <p> prefix matches such an entry, the unmatched components are appended to the</p>
                                <p> &#39;external-contents&#39; path, and the resulting path is looked up in the</p>
                                <p> external file system instead.</p>
                            </div>
                            <div>
                                <p> Re-mapped files are represented as</p>
                            </div>
                            <div>
                                <p> Their attributes and file contents are determined by looking up the file at</p>
                                <p> their &#39;external-contents&#39; path in the external file system.</p>
                            </div>
                            <div>
                                <p> For &#39;file&#39;, &#39;directory&#39; and &#39;directory-remap&#39; entries the &#39;name&#39; field may</p>
                                <p> contain multiple path components (e.g. /path/to/file). However, any</p>
                                <p> directory in such a path that contains more than one child must be uniquely</p>
                                <p> represented by a &#39;directory&#39; entry.</p>
                            </div>
                            <div>
                                <p> When the &#39;use-external-name&#39; field is set, calls to </p>
                                <p> give the external (remapped) filesystem name instead of the name the file</p>
                                <p> was accessed by. This is an intentional leak through the </p>
                                <p> abstraction layer. It enables clients to discover</p>
                                <p> (and use) the external file location when communicating with users or tools</p>
                                <p> that don&#39;t use the same VFS overlay.</p>
                            </div>
                            <div>
                                <p> FIXME: &#39;use-external-name&#39; causes behaviour that&#39;s inconsistent with how</p>
                                <p> &quot;real&quot; filesystems behave. Maybe there should be a separate channel for</p>
                                <p> this information.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="PublicMembers" class="section-container">
                    <h2>Public Members</h2>
                    <div>
                        <div id="ID" class="delimiter-container">
                            <pre><code class="language-cpp code-clang-doc" >static const char ID</code></pre>
                        </div>
                    </div>
                </section>
                <section id="PublicMethods" class="section-container">
                    <h2>Public Methods</h2>
                    <div>
                        <div class="delimiter-container">
                            <div id="BA9218BBCB19A05DBCBC3F0F989E3ED302AAC4C9">
                                <pre><code class="language-cpp code-clang-doc">int create (int Buffer, SourceMgr::DiagHandlerTy DiagHandler, StringRef YAMLFilePath, void * DiagContext, IntrusiveRefCntPtr&lt;FileSystem&gt; ExternalFS)</code></pre>
                                <div>
                                    <div>
                                        <p> Parses </p>
                                        <p> which is expected to be in YAML format and</p>
                                        <p> returns a virtual file system representing its contents.</p>
                                    </div>
                                </div>
                                <p>Defined at line  of file </p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="CC497B9D9AF3DFC41DC0A65F01AA0440310E1DBC">
                                <pre><code class="language-cpp code-clang-doc">bool hasBeenUsed ()</code></pre>
                                <p>Defined at line 1105 of file llvm/include/llvm/Support/VirtualFileSystem.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="ED039E6C5346881AB0E34FBB024F68557BDF9CCB">
                                <pre><code class="language-cpp code-clang-doc">void clearHasBeenUsed ()</code></pre>
                                <p>Defined at line 1106 of file llvm/include/llvm/Support/VirtualFileSystem.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="5AC43160C70D0F122D9A9342B0CD9746C28F78F5">
                                <pre><code class="language-cpp code-clang-doc">void setUsageTrackingActive (bool Active)</code></pre>
                                <p>Defined at line 1108 of file llvm/include/llvm/Support/VirtualFileSystem.h</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="502C9BE84BD4BB1EE4E3A23F2453930D8DDDD538">
                                <pre><code class="language-cpp code-clang-doc">ErrorOr&lt;LookupResult&gt; lookupPath (StringRef Path)</code></pre>
                                <div>
                                    <div>
                                        <p> Looks up </p>
                                        <p> in </p>
                                        <p> and returns a LookupResult giving the</p>
                                        <p> matched entry and, if the entry was a FileEntry or DirectoryRemapEntry,</p>
                                        <p> the path it redirects to in the external file system.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2348 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="DE5FEEBBF3EEBE5DB6F139D6649C5DB7B7DF2B95">
                                <pre><code class="language-cpp code-clang-doc">std::unique_ptr&lt;RedirectingFileSystem&gt; create (unique_ptr Buffer, SourceMgr::DiagHandlerTy DiagHandler, StringRef YAMLFilePath, void * DiagContext, IntrusiveRefCntPtr ExternalFS)</code></pre>
                                <div>
                                    <div>
                                        <p> Parses </p>
                                        <p> which is expected to be in YAML format and</p>
                                        <p> returns a virtual file system representing its contents.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2215 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="81A87EA3FD5EAFC8ADD7159B343CE6115AEA5BE8">
                                <pre><code class="language-cpp code-clang-doc">int create (ArrayRef&lt;std::pair&lt;std::string, std::string&gt;&gt; RemappedFiles, bool UseExternalNames, IntrusiveRefCntPtr&lt;FileSystem&gt; ExternalFS)</code></pre>
                                <div>
                                    <div>
                                        <p> Redirect each of the remapped files from first to second.</p>
                                    </div>
                                </div>
                                <p>Defined at line 2258 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="D63D2693980E90A62073B04101E2126A3A26791C">
                                <pre><code class="language-cpp code-clang-doc">ErrorOr&lt;Status&gt; status (const Twine &amp; Path)</code></pre>
                                <p>Defined at line 2467 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="8FFD347D4C0552A3429C558F63C0BBF06CFADAEC">
                                <pre><code class="language-cpp code-clang-doc">bool exists (const Twine &amp; Path)</code></pre>
                                <p>Defined at line 2504 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="DE710361B5EC941751A9D734581FE3EFDF571134">
                                <pre><code class="language-cpp code-clang-doc">int openFileForRead (const Twine &amp; Path)</code></pre>
                                <p>Defined at line 2592 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="6D19E212F1C29D9351C08BB0E3EC07559418FBE6">
                                <pre><code class="language-cpp code-clang-doc">error_code getRealPath (const Twine &amp; Path, SmallVectorImpl&lt;char&gt; &amp; Output)</code></pre>
                                <p>Defined at line 2653 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="9E728EB2EE37935EBC628F32CFF4FC2B209B35B3">
                                <pre><code class="language-cpp code-clang-doc">llvm::ErrorOr&lt;std::string&gt; getCurrentWorkingDirectory ()</code></pre>
                                <p>Defined at line 1387 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="3142CE8F594AEB1BB87DEE56100E24F9CD97AB9E">
                                <pre><code class="language-cpp code-clang-doc">error_code setCurrentWorkingDirectory (const Twine &amp; Path)</code></pre>
                                <p>Defined at line 1392 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="505C54D3EEBA39915AD4DD9BE463E30E4F9ECCF8">
                                <pre><code class="language-cpp code-clang-doc">error_code isLocal (const Twine &amp; Path, bool &amp; Result)</code></pre>
                                <p>Defined at line 1406 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="C0D69E51B5F4C43ADE49346885359443BF40D605">
                                <pre><code class="language-cpp code-clang-doc">error_code makeAbsolute (SmallVectorImpl&lt;char&gt; &amp; Path)</code></pre>
                                <p>Defined at line 1417 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="94559F7784BBF3DE26DF4DB07382C07ECE61257D">
                                <pre><code class="language-cpp code-clang-doc">directory_iterator dir_begin (const Twine &amp; Dir, std::error_code &amp; EC)</code></pre>
                                <p>Defined at line 1473 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="2F4B3D5AE3FAE30503353A155443686C0EA21F03">
                                <pre><code class="language-cpp code-clang-doc">void setOverlayFileDir (StringRef PrefixDir)</code></pre>
                                <p>Defined at line 1573 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="E3873D7747DD0E50939FB60708321A0AA5F3D29D">
                                <pre><code class="language-cpp code-clang-doc">StringRef getOverlayFileDir ()</code></pre>
                                <p>Defined at line 1577 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="605087F1CFB53CFD8CA277DE007109E404FA8FA2">
                                <pre><code class="language-cpp code-clang-doc">void setFallthrough (bool Fallthrough)</code></pre>
                                <div>
                                    <div>
                                        <p> Sets the redirection kind to </p>
                                        <p> if true or </p>
                                        <p> otherwise. Will removed in the future, use </p>
                                        <p> instead.</p>
                                    </div>
                                </div>
                                <p>Defined at line 1581 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="4F1DC7871FB3F835F2A2081E8A834D60BACE6E8E">
                                <pre><code class="language-cpp code-clang-doc">void setRedirection (RedirectKind Kind)</code></pre>
                                <p>Defined at line 1589 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="4EB2E1DDA2FA501065E2CC3205BD0E80B73F5A25">
                                <pre><code class="language-cpp code-clang-doc">int getRoots ()</code></pre>
                                <p>Defined at line 1594 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                        <div class="delimiter-container">
                            <div id="FAE7976EA9D978984205A07BCE5065E90D9FBC63">
                                <pre><code class="language-cpp code-clang-doc">void printEntry (raw_ostream &amp; OS, Entry * E, unsigned int IndentLevel)</code></pre>
                                <p>Defined at line 1619 of file llvm/lib/Support/VirtualFileSystem.cpp</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="Enums" class="section-container">
                    <h2>Enumerations</h2>
                    <div>
                    </div>
                </section>
                <section id="Enums" class="section-container">
                    <h2>Enumerations</h2>
                    <div>
                    </div>
                </section>
                <section id="Enums" class="section-container">
                    <h2>Enumerations</h2>
                    <div>
                    </div>
                </section>
                <section id="Enums" class="section-container">
                    <h2>Enumerations</h2>
                    <div>
                    </div>
                </section>
            </div>
        </div>
    </main>
</body>
</html>
